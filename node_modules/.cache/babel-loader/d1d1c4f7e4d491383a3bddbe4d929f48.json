{"ast":null,"code":"import React, { useContext, useRef, useEffect, Fragment } from 'react';\nimport { defineCustomElements } from '@ionic/core/loader';\nimport { addIcons } from 'ionicons';\nimport { arrowBackSharp, caretBackSharp, chevronBack, chevronForward, close, closeCircle, closeSharp, menuOutline, menuSharp, reorderTwoSharp, reorderThreeOutline, searchOutline, searchSharp } from 'ionicons/icons';\nimport { isPlatform as isPlatform$1, getPlatforms as getPlatforms$1, alertController, loadingController, toastController as toastController$1, pickerController, actionSheetController as actionSheetController$1, modalController, popoverController, createAnimation } from '@ionic/core';\nexport { IonicSafeString, createAnimation, createGesture, iosTransitionAnimation, mdTransitionAnimation, setupConfig } from '@ionic/core';\nimport { __rest } from 'tslib';\nimport ReactDom from 'react-dom';\nimport { renderToString } from '@ionic/core/hydrate';\nconst IonLifeCycleContext = /*@__PURE__*/React.createContext({\n  onIonViewWillEnter: () => {\n    return;\n  },\n  ionViewWillEnter: () => {\n    return;\n  },\n  onIonViewDidEnter: () => {\n    return;\n  },\n  ionViewDidEnter: () => {\n    return;\n  },\n  onIonViewWillLeave: () => {\n    return;\n  },\n  ionViewWillLeave: () => {\n    return;\n  },\n  onIonViewDidLeave: () => {\n    return;\n  },\n  ionViewDidLeave: () => {\n    return;\n  }\n});\nconst DefaultIonLifeCycleContext = class {\n  constructor() {\n    this.ionViewWillEnterCallbacks = [];\n    this.ionViewDidEnterCallbacks = [];\n    this.ionViewWillLeaveCallbacks = [];\n    this.ionViewDidLeaveCallbacks = [];\n  }\n\n  onIonViewWillEnter(callback) {\n    if (callback.id) {\n      const index = this.ionViewWillEnterCallbacks.findIndex(x => x.id === callback.id);\n\n      if (index > -1) {\n        this.ionViewWillEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewWillEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillEnterCallbacks.push(callback);\n    }\n  }\n\n  ionViewWillEnter() {\n    this.ionViewWillEnterCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewDidEnter(callback) {\n    if (callback.id) {\n      const index = this.ionViewDidEnterCallbacks.findIndex(x => x.id === callback.id);\n\n      if (index > -1) {\n        this.ionViewDidEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewDidEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidEnterCallbacks.push(callback);\n    }\n  }\n\n  ionViewDidEnter() {\n    this.ionViewDidEnterCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewWillLeave(callback) {\n    if (callback.id) {\n      const index = this.ionViewWillLeaveCallbacks.findIndex(x => x.id === callback.id);\n\n      if (index > -1) {\n        this.ionViewWillLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewWillLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillLeaveCallbacks.push(callback);\n    }\n  }\n\n  ionViewWillLeave() {\n    this.ionViewWillLeaveCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewDidLeave(callback) {\n    if (callback.id) {\n      const index = this.ionViewDidLeaveCallbacks.findIndex(x => x.id === callback.id);\n\n      if (index > -1) {\n        this.ionViewDidLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewDidLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidLeaveCallbacks.push(callback);\n    }\n  }\n\n  ionViewDidLeave() {\n    this.ionViewDidLeaveCallbacks.forEach(cb => cb());\n    this.componentCanBeDestroyed();\n  }\n\n  onComponentCanBeDestroyed(callback) {\n    this.componentCanBeDestroyedCallback = callback;\n  }\n\n  componentCanBeDestroyed() {\n    if (this.componentCanBeDestroyedCallback) {\n      this.componentCanBeDestroyedCallback();\n    }\n  }\n\n};\n\nconst withIonLifeCycle = WrappedComponent => {\n  return class IonLifeCycle extends React.Component {\n    constructor(props) {\n      super(props);\n      this.componentRef = React.createRef();\n    }\n\n    componentDidMount() {\n      const element = this.componentRef.current;\n      this.context.onIonViewWillEnter(() => {\n        if (element && element.ionViewWillEnter) {\n          element.ionViewWillEnter();\n        }\n      });\n      this.context.onIonViewDidEnter(() => {\n        if (element && element.ionViewDidEnter) {\n          element.ionViewDidEnter();\n        }\n      });\n      this.context.onIonViewWillLeave(() => {\n        if (element && element.ionViewWillLeave) {\n          element.ionViewWillLeave();\n        }\n      });\n      this.context.onIonViewDidLeave(() => {\n        if (element && element.ionViewDidLeave) {\n          element.ionViewDidLeave();\n        }\n      });\n    }\n\n    render() {\n      return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n        this.context = context;\n        return React.createElement(WrappedComponent, Object.assign({\n          ref: this.componentRef\n        }, this.props));\n      });\n    }\n\n  };\n};\n\nconst useIonViewWillEnter = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewWillEnter(callback);\n  }, deps);\n};\n\nconst useIonViewDidEnter = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewDidEnter(callback);\n  }, deps);\n};\n\nconst useIonViewWillLeave = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewWillLeave(callback);\n  }, deps);\n};\n\nconst useIonViewDidLeave = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewDidLeave(callback);\n  }, deps);\n};\n\nconst NavContext = /*@__PURE__*/React.createContext({\n  getIonRedirect: () => undefined,\n  getIonRoute: () => undefined,\n  getPageManager: () => undefined,\n  getStackManager: () => undefined,\n  goBack: route => {\n    if (typeof window !== 'undefined') {\n      if (typeof route === 'string') {\n        window.location.pathname = route;\n      } else {\n        window.history.back();\n      }\n    }\n  },\n  navigate: path => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  hasIonicRouter: () => false,\n  routeInfo: undefined,\n  setCurrentTab: () => undefined,\n  changeTab: (_tab, path) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  resetTab: (_tab, path) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  }\n});\n\nconst dashToPascalCase = str => str.toLowerCase().split('-').map(segment => segment.charAt(0).toUpperCase() + segment.slice(1)).join('');\n\nconst camelToDashCase = str => str.replace(/([A-Z])/g, m => `-${m[0].toLowerCase()}`);\n\nconst attachProps = (node, newProps, oldProps = {}) => {\n  // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n  if (node instanceof Element) {\n    // add any classes in className to the class list\n    const className = getClassName(node.classList, newProps, oldProps);\n\n    if (className !== '') {\n      node.className = className;\n    }\n\n    Object.keys(newProps).forEach(name => {\n      if (name === 'children' || name === 'style' || name === 'ref' || name === 'class' || name === 'className' || name === 'forwardedRef') {\n        return;\n      }\n\n      if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n        const eventName = name.substring(2);\n        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n\n        if (!isCoveredByReact(eventNameLc)) {\n          syncEvent(node, eventNameLc, newProps[name]);\n        }\n      } else {\n        const propType = typeof newProps[name];\n\n        if (propType === 'string') {\n          node.setAttribute(camelToDashCase(name), newProps[name]);\n        } else {\n          node[name] = newProps[name];\n        }\n      }\n    });\n  }\n};\n\nconst getClassName = (classList, newProps, oldProps) => {\n  const newClassProp = newProps.className || newProps.class;\n  const oldClassProp = oldProps.className || oldProps.class; // map the classes to Maps for performance\n\n  const currentClasses = arrayToMap(classList);\n  const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n  const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n  const finalClassNames = []; // loop through each of the current classes on the component\n  // to see if it should be a part of the classNames added\n\n  currentClasses.forEach(currentClass => {\n    if (incomingPropClasses.has(currentClass)) {\n      // add it as its already included in classnames coming in from newProps\n      finalClassNames.push(currentClass);\n      incomingPropClasses.delete(currentClass);\n    } else if (!oldPropClasses.has(currentClass)) {\n      // add it as it has NOT been removed by user\n      finalClassNames.push(currentClass);\n    }\n  });\n  incomingPropClasses.forEach(s => finalClassNames.push(s));\n  return finalClassNames.join(' ');\n};\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\n\n\nconst isCoveredByReact = eventNameSuffix => {\n  if (typeof document === 'undefined') {\n    return true;\n  } else {\n    const eventName = 'on' + eventNameSuffix;\n    let isSupported = (eventName in document);\n\n    if (!isSupported) {\n      const element = document.createElement('div');\n      element.setAttribute(eventName, 'return;');\n      isSupported = typeof element[eventName] === 'function';\n    }\n\n    return isSupported;\n  }\n};\n\nconst syncEvent = (node, eventName, newEventHandler) => {\n  const eventStore = node.__events || (node.__events = {});\n  const oldEventHandler = eventStore[eventName]; // Remove old listener so they don't double up.\n\n  if (oldEventHandler) {\n    node.removeEventListener(eventName, oldEventHandler);\n  } // Bind new listener.\n\n\n  node.addEventListener(eventName, eventStore[eventName] = function handler(e) {\n    if (newEventHandler) {\n      newEventHandler.call(this, e);\n    }\n  });\n};\n\nconst arrayToMap = arr => {\n  const map = new Map();\n  arr.forEach(s => map.set(s, s));\n  return map;\n};\n\nasync function ionRenderToString(html, userAgent, options = {}) {\n  const renderToStringOptions = Object.assign({}, {\n    clientHydrateAnnotations: false,\n    excludeComponents: [// overlays\n    'ion-action-sheet', 'ion-alert', 'ion-loading', 'ion-modal', 'ion-picker', 'ion-popover', 'ion-toast', // navigation\n    'ion-router', 'ion-route', 'ion-route-redirect', 'ion-router-link', 'ion-router-outlet', // tabs\n    'ion-tabs', 'ion-tab', // auxiliary\n    'ion-picker-column', 'ion-virtual-scroll'],\n    userAgent\n  }, options);\n  const ionHtml = await renderToString(html, renderToStringOptions);\n  return ionHtml.html;\n}\n\nconst createForwardRef = (ReactComponent, displayName) => {\n  const forwardRef = (props, ref) => {\n    return React.createElement(ReactComponent, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n  };\n\n  forwardRef.displayName = displayName;\n  return React.forwardRef(forwardRef);\n};\n\nconst isPlatform = platform => {\n  return isPlatform$1(window, platform);\n};\n\nconst getPlatforms = () => {\n  return getPlatforms$1(window);\n};\n\nconst getConfig = () => {\n  if (typeof window !== 'undefined') {\n    const Ionic = window.Ionic;\n\n    if (Ionic && Ionic.config) {\n      return Ionic.config;\n    }\n  }\n\n  return null;\n};\n\nconst createReactComponent = (tagName, routerLinkComponent = false) => {\n  const displayName = dashToPascalCase(tagName);\n  const ReactComponent = class extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.handleClick = e => {\n        const {\n          routerLink,\n          routerDirection,\n          routerOptions,\n          routerAnimation\n        } = this.props;\n\n        if (routerLink !== undefined) {\n          e.preventDefault();\n          this.context.navigate(routerLink, routerDirection, undefined, routerAnimation, routerOptions);\n        }\n      };\n    }\n\n    componentDidMount() {\n      this.componentDidUpdate(this.props);\n    }\n\n    componentDidUpdate(prevProps) {\n      const node = ReactDom.findDOMNode(this);\n      attachProps(node, this.props, prevProps);\n    }\n\n    render() {\n      const _a = this.props,\n            {\n        children,\n        forwardedRef,\n        style,\n        className,\n        ref\n      } = _a,\n            cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n\n      const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n\n          if (isCoveredByReact(eventName)) {\n            acc[name] = cProps[name];\n          }\n        } else if (typeof cProps[name] === 'string') {\n          acc[camelToDashCase(name)] = cProps[name];\n        }\n\n        return acc;\n      }, {});\n      const newProps = Object.assign(Object.assign({}, propsToPass), {\n        ref: forwardedRef,\n        style\n      });\n\n      if (routerLinkComponent) {\n        if (this.props.routerLink && !this.props.href) {\n          newProps.href = this.props.routerLink;\n        }\n\n        if (newProps.onClick) {\n          const oldClick = newProps.onClick;\n\n          newProps.onClick = e => {\n            oldClick(e);\n\n            if (!e.defaultPrevented) {\n              this.handleClick(e);\n            }\n          };\n        } else {\n          newProps.onClick = this.handleClick;\n        }\n      }\n\n      return React.createElement(tagName, newProps, children);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    static get contextType() {\n      return NavContext;\n    }\n\n  };\n  return createForwardRef(ReactComponent, displayName);\n}; // ionic/core\n\n\nconst IonApp = /*@__PURE__*/createReactComponent('ion-app');\nconst IonTab = /*@__PURE__*/createReactComponent('ion-tab');\nconst IonRouterLink = /*@__PURE__*/createReactComponent('ion-router-link', true);\nconst IonAvatar = /*@__PURE__*/createReactComponent('ion-avatar');\nconst IonBackdrop = /*@__PURE__*/createReactComponent('ion-backdrop');\nconst IonBadge = /*@__PURE__*/createReactComponent('ion-badge');\nconst IonButton = /*@__PURE__*/createReactComponent('ion-button', true);\nconst IonButtons = /*@__PURE__*/createReactComponent('ion-buttons');\nconst IonCard = /*@__PURE__*/createReactComponent('ion-card', true);\nconst IonCardContent = /*@__PURE__*/createReactComponent('ion-card-content');\nconst IonCardHeader = /*@__PURE__*/createReactComponent('ion-card-header');\nconst IonCardSubtitle = /*@__PURE__*/createReactComponent('ion-card-subtitle');\nconst IonCardTitle = /*@__PURE__*/createReactComponent('ion-card-title');\nconst IonCheckbox = /*@__PURE__*/createReactComponent('ion-checkbox');\nconst IonCol = /*@__PURE__*/createReactComponent('ion-col');\nconst IonContent = /*@__PURE__*/createReactComponent('ion-content');\nconst IonChip = /*@__PURE__*/createReactComponent('ion-chip');\nconst IonDatetime = /*@__PURE__*/createReactComponent('ion-datetime');\nconst IonFab = /*@__PURE__*/createReactComponent('ion-fab');\nconst IonFabButton = /*@__PURE__*/createReactComponent('ion-fab-button', true);\nconst IonFabList = /*@__PURE__*/createReactComponent('ion-fab-list');\nconst IonFooter = /*@__PURE__*/createReactComponent('ion-footer');\nconst IonGrid = /*@__PURE__*/createReactComponent('ion-grid');\nconst IonHeader = /*@__PURE__*/createReactComponent('ion-header');\nconst IonImg = /*@__PURE__*/createReactComponent('ion-img');\nconst IonInfiniteScroll = /*@__PURE__*/createReactComponent('ion-infinite-scroll');\nconst IonInfiniteScrollContent = /*@__PURE__*/createReactComponent('ion-infinite-scroll-content');\nconst IonInput = /*@__PURE__*/createReactComponent('ion-input');\nconst IonItem = /*@__PURE__*/createReactComponent('ion-item', true);\nconst IonItemDivider = /*@__PURE__*/createReactComponent('ion-item-divider');\nconst IonItemGroup = /*@__PURE__*/createReactComponent('ion-item-group');\nconst IonItemOption = /*@__PURE__*/createReactComponent('ion-item-option', true);\nconst IonItemOptions = /*@__PURE__*/createReactComponent('ion-item-options');\nconst IonItemSliding = /*@__PURE__*/createReactComponent('ion-item-sliding');\nconst IonLabel = /*@__PURE__*/createReactComponent('ion-label');\nconst IonList = /*@__PURE__*/createReactComponent('ion-list');\nconst IonListHeader = /*@__PURE__*/createReactComponent('ion-list-header');\nconst IonMenu = /*@__PURE__*/createReactComponent('ion-menu');\nconst IonMenuButton = /*@__PURE__*/createReactComponent('ion-menu-button');\nconst IonMenuToggle = /*@__PURE__*/createReactComponent('ion-menu-toggle');\nconst IonNote = /*@__PURE__*/createReactComponent('ion-note');\nconst IonPickerColumn = /*@__PURE__*/createReactComponent('ion-picker-column');\nconst IonNav = /*@__PURE__*/createReactComponent('ion-nav');\nconst IonProgressBar = /*@__PURE__*/createReactComponent('ion-progress-bar');\nconst IonRadio = /*@__PURE__*/createReactComponent('ion-radio');\nconst IonRadioGroup = /*@__PURE__*/createReactComponent('ion-radio-group');\nconst IonRange = /*@__PURE__*/createReactComponent('ion-range');\nconst IonRefresher = /*@__PURE__*/createReactComponent('ion-refresher');\nconst IonRefresherContent = /*@__PURE__*/createReactComponent('ion-refresher-content');\nconst IonReorder = /*@__PURE__*/createReactComponent('ion-reorder');\nconst IonReorderGroup = /*@__PURE__*/createReactComponent('ion-reorder-group');\nconst IonRippleEffect = /*@__PURE__*/createReactComponent('ion-ripple-effect');\nconst IonRow = /*@__PURE__*/createReactComponent('ion-row');\nconst IonSearchbar = /*@__PURE__*/createReactComponent('ion-searchbar');\nconst IonSegment = /*@__PURE__*/createReactComponent('ion-segment');\nconst IonSegmentButton = /*@__PURE__*/createReactComponent('ion-segment-button');\nconst IonSelect = /*@__PURE__*/createReactComponent('ion-select');\nconst IonSelectOption = /*@__PURE__*/createReactComponent('ion-select-option');\nconst IonSelectPopover = /*@__PURE__*/createReactComponent('ion-select-popover');\nconst IonSkeletonText = /*@__PURE__*/createReactComponent('ion-skeleton-text');\nconst IonSlide = /*@__PURE__*/createReactComponent('ion-slide');\nconst IonSlides = /*@__PURE__*/createReactComponent('ion-slides');\nconst IonSpinner = /*@__PURE__*/createReactComponent('ion-spinner');\nconst IonSplitPane = /*@__PURE__*/createReactComponent('ion-split-pane');\nconst IonText = /*@__PURE__*/createReactComponent('ion-text');\nconst IonTextarea = /*@__PURE__*/createReactComponent('ion-textarea');\nconst IonThumbnail = /*@__PURE__*/createReactComponent('ion-thumbnail');\nconst IonTitle = /*@__PURE__*/createReactComponent('ion-title');\nconst IonToggle = /*@__PURE__*/createReactComponent('ion-toggle');\nconst IonToolbar = /*@__PURE__*/createReactComponent('ion-toolbar');\nconst IonVirtualScroll = /*@__PURE__*/createReactComponent('ion-virtual-scroll');\n\nconst createControllerComponent = (displayName, controller) => {\n  const didDismissEventName = `on${displayName}DidDismiss`;\n  const didPresentEventName = `on${displayName}DidPresent`;\n  const willDismissEventName = `on${displayName}WillDismiss`;\n  const willPresentEventName = `on${displayName}WillPresent`;\n\n  class Overlay extends React.Component {\n    constructor(props) {\n      super(props);\n      this.isUnmounted = false;\n      this.handleDismiss = this.handleDismiss.bind(this);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    async componentDidMount() {\n      const {\n        isOpen\n      } = this.props;\n\n      if (isOpen) {\n        this.present();\n      }\n    }\n\n    componentWillUnmount() {\n      this.isUnmounted = true;\n\n      if (this.overlay) {\n        this.overlay.dismiss();\n      }\n    }\n\n    async componentDidUpdate(prevProps) {\n      if (prevProps.isOpen !== this.props.isOpen && this.props.isOpen === true) {\n        this.present(prevProps);\n      }\n\n      if (this.overlay && prevProps.isOpen !== this.props.isOpen && this.props.isOpen === false) {\n        await this.overlay.dismiss();\n      }\n    }\n\n    handleDismiss(event) {\n      if (this.props.onDidDismiss) {\n        this.props.onDidDismiss(event);\n      }\n\n      if (this.props.forwardedRef) {\n        this.props.forwardedRef.current = undefined;\n      }\n    }\n\n    async present(prevProps) {\n      const _a = this.props,\n            cProps = __rest(_a, [\"isOpen\", \"onDidDismiss\", \"onDidPresent\", \"onWillDismiss\", \"onWillPresent\"]);\n\n      this.overlay = await controller.create(Object.assign({}, cProps));\n      attachProps(this.overlay, {\n        [didDismissEventName]: this.handleDismiss,\n        [didPresentEventName]: e => this.props.onDidPresent && this.props.onDidPresent(e),\n        [willDismissEventName]: e => this.props.onWillDismiss && this.props.onWillDismiss(e),\n        [willPresentEventName]: e => this.props.onWillPresent && this.props.onWillPresent(e)\n      }, prevProps); // Check isOpen again since the value could have changed during the async call to controller.create\n      // It's also possible for the component to have become unmounted.\n\n      if (this.props.isOpen === true && this.isUnmounted === false) {\n        if (this.props.forwardedRef) {\n          this.props.forwardedRef.current = this.overlay;\n        }\n\n        await this.overlay.present();\n      }\n    }\n\n    render() {\n      return null;\n    }\n\n  }\n\n  return React.forwardRef((props, ref) => {\n    return React.createElement(Overlay, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n  });\n};\n\nconst IonAlert = /*@__PURE__*/createControllerComponent('IonAlert', alertController);\nconst IonLoading = /*@__PURE__*/createControllerComponent('IonLoading', loadingController);\nconst toastController = {\n  create: options => toastController$1.create(options),\n  dismiss: (data, role, id) => toastController$1.dismiss(data, role, id),\n  getTop: () => toastController$1.getTop()\n};\nconst IonToast = /*@__PURE__*/createControllerComponent('IonToast', toastController);\nconst IonPicker = /*@__PURE__*/createControllerComponent('IonPicker', pickerController);\n\nconst createOverlayComponent = (displayName, controller) => {\n  const didDismissEventName = `on${displayName}DidDismiss`;\n  const didPresentEventName = `on${displayName}DidPresent`;\n  const willDismissEventName = `on${displayName}WillDismiss`;\n  const willPresentEventName = `on${displayName}WillPresent`;\n\n  class Overlay extends React.Component {\n    constructor(props) {\n      super(props);\n\n      if (typeof document !== 'undefined') {\n        this.el = document.createElement('div');\n      }\n\n      this.handleDismiss = this.handleDismiss.bind(this);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    componentDidMount() {\n      if (this.props.isOpen) {\n        this.present();\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.overlay) {\n        this.overlay.dismiss();\n      }\n    }\n\n    handleDismiss(event) {\n      if (this.props.onDidDismiss) {\n        this.props.onDidDismiss(event);\n      }\n\n      if (this.props.forwardedRef) {\n        this.props.forwardedRef.current = undefined;\n      }\n    }\n\n    async componentDidUpdate(prevProps) {\n      if (this.overlay) {\n        attachProps(this.overlay, this.props, prevProps);\n      }\n\n      if (prevProps.isOpen !== this.props.isOpen && this.props.isOpen === true) {\n        this.present(prevProps);\n      }\n\n      if (this.overlay && prevProps.isOpen !== this.props.isOpen && this.props.isOpen === false) {\n        await this.overlay.dismiss();\n      }\n    }\n\n    async present(prevProps) {\n      const _a = this.props,\n            cProps = __rest(_a, [\"children\", \"isOpen\", \"onDidDismiss\", \"onDidPresent\", \"onWillDismiss\", \"onWillPresent\"]);\n\n      const elementProps = Object.assign(Object.assign({}, cProps), {\n        ref: this.props.forwardedRef,\n        [didDismissEventName]: this.handleDismiss,\n        [didPresentEventName]: e => this.props.onDidPresent && this.props.onDidPresent(e),\n        [willDismissEventName]: e => this.props.onWillDismiss && this.props.onWillDismiss(e),\n        [willPresentEventName]: e => this.props.onWillPresent && this.props.onWillPresent(e)\n      });\n      this.overlay = await controller.create(Object.assign(Object.assign({}, elementProps), {\n        component: this.el,\n        componentProps: {}\n      }));\n\n      if (this.props.forwardedRef) {\n        this.props.forwardedRef.current = this.overlay;\n      }\n\n      attachProps(this.overlay, elementProps, prevProps);\n      await this.overlay.present();\n    }\n\n    render() {\n      return ReactDom.createPortal(this.props.isOpen ? this.props.children : null, this.el);\n    }\n\n  }\n\n  return React.forwardRef((props, ref) => {\n    return React.createElement(Overlay, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n  });\n};\n\nconst actionSheetController = {\n  create: options => actionSheetController$1.create(options),\n  dismiss: (data, role, id) => actionSheetController$1.dismiss(data, role, id),\n  getTop: () => actionSheetController$1.getTop()\n};\nconst IonActionSheet = /*@__PURE__*/createOverlayComponent('IonActionSheet', actionSheetController);\nconst IonModal = /*@__PURE__*/createOverlayComponent('IonModal', modalController);\nconst IonPopover = /*@__PURE__*/createOverlayComponent('IonPopover', popoverController);\nconst StackContext = React.createContext({\n  registerIonPage: () => undefined,\n  isInOutlet: () => false\n});\n\nclass PageManager extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.ionPageElementRef = this.props.forwardedRef || React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.ionPageElementRef.current) {\n      this.context.registerIonPage(this.ionPageElementRef.current, this.props.routeInfo);\n      this.ionPageElementRef.current.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.ionPageElementRef.current) {\n      this.ionPageElementRef.current.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      className,\n      children,\n      routeInfo,\n      forwardedRef\n    } = _a,\n          props = __rest(_a, [\"className\", \"children\", \"routeInfo\", \"forwardedRef\"]);\n\n    return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n      this.ionLifeCycleContext = context;\n      const hidePageClass = this.context.isInOutlet() ? 'ion-page-invisible' : '';\n      return React.createElement(\"div\", Object.assign({\n        className: className ? `${className} ion-page ${hidePageClass}` : `ion-page ${hidePageClass}`,\n        ref: this.ionPageElementRef\n      }, props), children);\n    });\n  }\n\n  static get contextType() {\n    return StackContext;\n  }\n\n}\n\nclass IonPageInternal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      className,\n      children,\n      forwardedRef\n    } = _a,\n          props = __rest(_a, [\"className\", \"children\", \"forwardedRef\"]);\n\n    return this.context.hasIonicRouter() ? React.createElement(PageManager, Object.assign({\n      className: className ? `${className}` : '',\n      routeInfo: this.context.routeInfo,\n      forwardedRef: forwardedRef\n    }, props), children) : React.createElement(\"div\", Object.assign({\n      className: className ? `ion-page ${className}` : 'ion-page',\n      ref: forwardedRef\n    }, props), children);\n  }\n\n  static get displayName() {\n    return 'IonPage';\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonPage = createForwardRef(IonPageInternal, 'IonPage');\nconst IonTabsContext = React.createContext({\n  activeTab: undefined,\n  selectTab: () => false\n});\nconst IonTabButtonInner = /*@__PURE__*/createReactComponent('ion-tab-button');\nconst IonTabBarInner = /*@__PURE__*/createReactComponent('ion-tab-bar');\nconst IonBackButtonInner = /*@__PURE__*/createReactComponent('ion-back-button');\nconst IonRouterOutletInner = /*@__PURE__*/createReactComponent('ion-router-outlet'); // ionicons\n\nconst IonIconInner = /*@__PURE__*/createReactComponent('ion-icon');\n\nclass OutletPageManager extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.ionRouterOutlet) {\n      setTimeout(() => {\n        this.context.registerIonPage(this.ionRouterOutlet, this.props.routeInfo);\n      }, 25);\n      this.ionRouterOutlet.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.ionRouterOutlet) {\n      this.ionRouterOutlet.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      StackManager,\n      children,\n      routeInfo\n    } = _a,\n          props = __rest(_a, [\"StackManager\", \"children\", \"routeInfo\"]);\n\n    return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n      this.ionLifeCycleContext = context;\n      return React.createElement(StackManager, {\n        routeInfo: routeInfo\n      }, React.createElement(IonRouterOutletInner, Object.assign({\n        setRef: val => this.ionRouterOutlet = val\n      }, props), children));\n    });\n  }\n\n  static get contextType() {\n    return StackContext;\n  }\n\n}\n\nclass IonRouterOutletContainer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const StackManager = this.context.getStackManager();\n\n    const _a = this.props,\n          {\n      children,\n      forwardedRef\n    } = _a,\n          props = __rest(_a, [\"children\", \"forwardedRef\"]);\n\n    return this.context.hasIonicRouter() ? props.ionPage ? React.createElement(OutletPageManager, Object.assign({\n      StackManager: StackManager,\n      routeInfo: this.context.routeInfo\n    }, props), children) : React.createElement(StackManager, {\n      routeInfo: this.context.routeInfo\n    }, React.createElement(IonRouterOutletInner, Object.assign({}, props, {\n      forwardedRef: forwardedRef\n    }), children)) : React.createElement(IonRouterOutletInner, Object.assign({\n      ref: forwardedRef\n    }, this.props), this.props.children);\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonRouterOutlet = createForwardRef(IonRouterOutletContainer, 'IonRouterOutlet');\n\nclass IonTabButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleIonTabButtonClick = this.handleIonTabButtonClick.bind(this);\n  }\n\n  handleIonTabButtonClick() {\n    if (this.props.onClick) {\n      this.props.onClick(new CustomEvent('ionTabButtonClick', {\n        detail: {\n          tab: this.props.tab,\n          href: this.props.href,\n          routeOptions: this.props.routerOptions\n        }\n      }));\n    }\n  }\n\n  render() {\n    const _a = this.props,\n          rest = __rest(_a, [\"onClick\"]);\n\n    return React.createElement(IonTabButtonInner, Object.assign({\n      onIonTabButtonClick: this.handleIonTabButtonClick\n    }, rest));\n  }\n\n  static get displayName() {\n    return 'IonTabButton';\n  }\n\n}\n\nclass IonTabBarUnwrapped extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.setActiveTabOnContext = _tab => {};\n\n    const tabs = {};\n    React.Children.forEach(props.children, child => {\n      var _a, _b, _c, _d;\n\n      if (child != null && typeof child === 'object' && child.props && child.type === IonTabButton) {\n        tabs[child.props.tab] = {\n          originalHref: child.props.href,\n          currentHref: child.props.href,\n          originalRouteOptions: child.props.href === ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) ? (_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions : undefined,\n          currentRouteOptions: child.props.href === ((_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.pathname) ? (_d = props.routeInfo) === null || _d === void 0 ? void 0 : _d.routeOptions : undefined\n        };\n      }\n    });\n    const tabKeys = Object.keys(tabs);\n    const activeTab = tabKeys.find(key => {\n      const href = tabs[key].originalHref;\n      return props.routeInfo.pathname.startsWith(href);\n    }) || tabKeys[0];\n    this.state = {\n      activeTab,\n      tabs\n    };\n    this.onTabButtonClick = this.onTabButtonClick.bind(this);\n    this.renderTabButton = this.renderTabButton.bind(this);\n    this.setActiveTabOnContext = this.setActiveTabOnContext.bind(this);\n    this.selectTab = this.selectTab.bind(this);\n  }\n\n  selectTab(tab) {\n    const tabUrl = this.state.tabs[tab];\n\n    if (tabUrl) {\n      this.onTabButtonClick(new CustomEvent('ionTabButtonClick', {\n        detail: {\n          href: tabUrl.currentHref,\n          tab,\n          selected: tab === this.state.activeTab,\n          routeOptions: undefined\n        }\n      }));\n      return true;\n    }\n\n    return false;\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    var _a, _b, _c;\n\n    const tabs = Object.assign({}, state.tabs);\n    const tabKeys = Object.keys(state.tabs);\n    const activeTab = tabKeys.find(key => {\n      const href = state.tabs[key].originalHref;\n      return props.routeInfo.pathname.startsWith(href);\n    }) || tabKeys[0]; // Check to see if the tab button href has changed, and if so, update it in the tabs state\n\n    React.Children.forEach(props.children, child => {\n      if (child != null && typeof child === 'object' && child.props && child.type === IonTabButton) {\n        const tab = tabs[child.props.tab];\n\n        if (!tab || tab.originalHref !== child.props.href) {\n          tabs[child.props.tab] = {\n            originalHref: child.props.href,\n            currentHref: child.props.href,\n            originalRouteOptions: child.props.routeOptions,\n            currentRouteOptions: child.props.routeOptions\n          };\n        }\n      }\n    });\n    const {\n      activeTab: prevActiveTab\n    } = state;\n\n    if (activeTab && prevActiveTab) {\n      const prevHref = state.tabs[prevActiveTab].currentHref;\n      const prevRouteOptions = state.tabs[prevActiveTab].currentRouteOptions;\n\n      if (activeTab !== prevActiveTab || prevHref !== ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) || prevRouteOptions !== ((_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions)) {\n        tabs[activeTab] = {\n          originalHref: tabs[activeTab].originalHref,\n          currentHref: props.routeInfo.pathname + (props.routeInfo.search || ''),\n          originalRouteOptions: tabs[activeTab].originalRouteOptions,\n          currentRouteOptions: (_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.routeOptions\n        };\n\n        if (props.routeInfo.routeAction === 'pop') {\n          // If navigating back and the tabs change, set the prev tab back to its original href\n          tabs[prevActiveTab] = {\n            originalHref: tabs[prevActiveTab].originalHref,\n            currentHref: tabs[prevActiveTab].originalHref,\n            originalRouteOptions: tabs[prevActiveTab].originalRouteOptions,\n            currentRouteOptions: tabs[prevActiveTab].currentRouteOptions\n          };\n        }\n      }\n    }\n\n    activeTab && props.onSetCurrentTab(activeTab, props.routeInfo);\n    return {\n      activeTab,\n      tabs\n    };\n  }\n\n  onTabButtonClick(e) {\n    const tappedTab = this.state.tabs[e.detail.tab];\n    const originalHref = tappedTab.originalHref;\n    const currentHref = e.detail.href;\n    const {\n      activeTab: prevActiveTab\n    } = this.state; // this.props.onSetCurrentTab(e.detail.tab, this.props.routeInfo);\n    // Clicking the current tab will bring you back to the original href\n\n    if (prevActiveTab === e.detail.tab) {\n      if (originalHref !== currentHref) {\n        this.context.resetTab(e.detail.tab, originalHref, tappedTab.originalRouteOptions);\n      }\n    } else {\n      if (this.props.onIonTabsWillChange) {\n        this.props.onIonTabsWillChange(new CustomEvent('ionTabWillChange', {\n          detail: {\n            tab: e.detail.tab\n          }\n        }));\n      }\n\n      if (this.props.onIonTabsDidChange) {\n        this.props.onIonTabsDidChange(new CustomEvent('ionTabDidChange', {\n          detail: {\n            tab: e.detail.tab\n          }\n        }));\n      }\n\n      this.setActiveTabOnContext(e.detail.tab);\n      this.context.changeTab(e.detail.tab, currentHref, e.detail.routeOptions);\n    }\n  }\n\n  renderTabButton(activeTab) {\n    return child => {\n      var _a, _b;\n\n      if (child != null && child.props && child.type === IonTabButton) {\n        const href = child.props.tab === activeTab ? (_a = this.props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname : this.state.tabs[child.props.tab].currentHref;\n        const routeOptions = child.props.tab === activeTab ? (_b = this.props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions : this.state.tabs[child.props.tab].currentRouteOptions;\n        return React.cloneElement(child, {\n          href,\n          routeOptions,\n          onClick: this.onTabButtonClick\n        });\n      }\n\n      return null;\n    };\n  }\n\n  render() {\n    const {\n      activeTab\n    } = this.state;\n    return React.createElement(IonTabBarInner, Object.assign({}, this.props, {\n      selectedTab: activeTab\n    }), React.Children.map(this.props.children, this.renderTabButton(activeTab)));\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonTabBarContainer = React.memo(_a => {\n  var {\n    forwardedRef\n  } = _a,\n      props = __rest(_a, [\"forwardedRef\"]);\n\n  const context = useContext(NavContext);\n  return React.createElement(IonTabBarUnwrapped, Object.assign({\n    ref: forwardedRef\n  }, props, {\n    routeInfo: props.routeInfo || context.routeInfo || {\n      pathname: window.location.pathname\n    },\n    onSetCurrentTab: context.setCurrentTab\n  }), props.children);\n});\nconst IonTabBar = createForwardRef(IonTabBarContainer, 'IonTabBar');\n\nclass IonTabsElement extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n}\n\nif (window && window.customElements) {\n  const element = customElements.get('ion-tabs');\n\n  if (!element) {\n    customElements.define('ion-tabs', IonTabsElement);\n  }\n}\n\nconst hostStyles = {\n  display: 'flex',\n  position: 'absolute',\n  top: '0',\n  left: '0',\n  right: '0',\n  bottom: '0',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100%',\n  contain: 'layout size style'\n};\nconst tabsInner = {\n  position: 'relative',\n  flex: 1,\n  contain: 'layout size style'\n};\n\nclass IonTabs extends React.Component {\n  constructor(props) {\n    super(props);\n    this.routerOutletRef = React.createRef();\n    this.tabBarRef = React.createRef();\n    this.ionTabContextState = {\n      activeTab: undefined,\n      selectTab: () => false\n    };\n  }\n\n  componentDidMount() {\n    if (this.tabBarRef.current) {\n      // Grab initial value\n      this.ionTabContextState.activeTab = this.tabBarRef.current.state.activeTab; // Override method\n\n      this.tabBarRef.current.setActiveTabOnContext = tab => {\n        this.ionTabContextState.activeTab = tab;\n      };\n\n      this.ionTabContextState.selectTab = this.tabBarRef.current.selectTab;\n    }\n  }\n\n  render() {\n    let outlet;\n    let tabBar;\n    const children = typeof this.props.children === 'function' ? this.props.children(this.ionTabContextState) : this.props.children;\n    React.Children.forEach(children, child => {\n      if (child == null || typeof child !== 'object' || !child.hasOwnProperty('type')) {\n        return;\n      }\n\n      if (child.type === IonRouterOutlet) {\n        outlet = React.cloneElement(child, {\n          tabs: true\n        });\n      } else if (child.type === Fragment && child.props.children[0].type === IonRouterOutlet) {\n        outlet = child.props.children[0];\n      }\n\n      if (child.type === IonTabBar) {\n        const {\n          onIonTabsDidChange,\n          onIonTabsWillChange\n        } = this.props;\n        tabBar = React.cloneElement(child, {\n          onIonTabsDidChange,\n          onIonTabsWillChange,\n          ref: this.tabBarRef\n        });\n      } else if (child.type === Fragment && child.props.children[1].type === IonTabBar) {\n        const {\n          onIonTabsDidChange,\n          onIonTabsWillChange\n        } = this.props;\n        tabBar = React.cloneElement(child.props.children[1], {\n          onIonTabsDidChange,\n          onIonTabsWillChange,\n          ref: this.tabBarRef\n        });\n      }\n    });\n\n    if (!outlet) {\n      throw new Error('IonTabs must contain an IonRouterOutlet');\n    }\n\n    if (!tabBar) {\n      throw new Error('IonTabs needs a IonTabBar');\n    }\n\n    const _a = this.props,\n          {\n      className\n    } = _a,\n          props = __rest(_a, [\"className\"]);\n\n    return React.createElement(IonTabsContext.Provider, {\n      value: this.ionTabContextState\n    }, this.context.hasIonicRouter() ? React.createElement(PageManager, Object.assign({\n      className: className ? `${className}` : '',\n      routeInfo: this.context.routeInfo\n    }, props), React.createElement(\"ion-tabs\", {\n      className: \"ion-tabs\",\n      style: hostStyles\n    }, tabBar.props.slot === 'top' ? tabBar : null, React.createElement(\"div\", {\n      style: tabsInner,\n      className: \"tabs-inner\"\n    }, outlet), tabBar.props.slot === 'bottom' ? tabBar : null)) : React.createElement(\"div\", Object.assign({\n      className: className ? `${className}` : 'ion-tabs'\n    }, props, {\n      style: hostStyles\n    }), tabBar.props.slot === 'top' ? tabBar : null, React.createElement(\"div\", {\n      style: tabsInner,\n      className: \"tabs-inner\"\n    }, outlet), tabBar.props.slot === 'bottom' ? tabBar : null));\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonBackButton = /*@__PURE__*/(() => class extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.clickButton = e => {\n      const {\n        defaultHref,\n        routerAnimation\n      } = this.props;\n\n      if (this.context.hasIonicRouter()) {\n        e.stopPropagation();\n        this.context.goBack(defaultHref, routerAnimation);\n      } else if (defaultHref !== undefined) {\n        window.location.href = defaultHref;\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(IonBackButtonInner, Object.assign({\n      onClick: this.clickButton\n    }, this.props));\n  }\n\n  static get displayName() {\n    return 'IonBackButton';\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n})();\n\nconst isDevMode = () => {\n  return process && process.env && process.env.NODE_ENV === 'development';\n};\n\nconst warnings = {};\n\nconst deprecationWarning = (key, message) => {\n  if (isDevMode()) {\n    if (!warnings[key]) {\n      console.warn(message);\n      warnings[key] = true;\n    }\n  }\n};\n\nclass IonIconContainer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    if (this.props.name) {\n      deprecationWarning('icon-name', 'In Ionic React, you import icons from \"ionicons/icons\" and set the icon you imported to the \"icon\" property. Setting the \"name\" property has no effect.');\n    }\n  }\n\n  render() {\n    var _a, _b;\n\n    const _c = this.props,\n          {\n      icon,\n      ios,\n      md\n    } = _c,\n          rest = __rest(_c, [\"icon\", \"ios\", \"md\"]);\n\n    let iconToUse;\n\n    if (ios || md) {\n      if (isPlatform('ios')) {\n        iconToUse = (_a = ios !== null && ios !== void 0 ? ios : md) !== null && _a !== void 0 ? _a : icon;\n      } else {\n        iconToUse = (_b = md !== null && md !== void 0 ? md : ios) !== null && _b !== void 0 ? _b : icon;\n      }\n    } else {\n      iconToUse = icon;\n    }\n\n    return React.createElement(IonIconInner, Object.assign({\n      ref: this.props.forwardedRef,\n      icon: iconToUse\n    }, rest), this.props.children);\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonIcon = createForwardRef(IonIconContainer, 'IonIcon');\n\nclass IonRoute extends React.PureComponent {\n  render() {\n    const IonRouteInner = this.context.getIonRoute();\n\n    if (!this.context.hasIonicRouter() || !IonRoute) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRoute>');\n      return null;\n    }\n\n    return React.createElement(IonRouteInner, Object.assign({}, this.props));\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nclass IonRedirect extends React.PureComponent {\n  render() {\n    const IonRedirectInner = this.context.getIonRedirect();\n\n    if (!this.context.hasIonicRouter() || !IonRedirect) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRedirect>');\n      return null;\n    }\n\n    return React.createElement(IonRedirectInner, Object.assign({}, this.props));\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n\nconst IonRouterContext = React.createContext({\n  routeInfo: undefined,\n  push: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  },\n  back: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  },\n  canGoBack: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  }\n});\n\nfunction useIonRouter() {\n  const context = useContext(IonRouterContext);\n  return context;\n}\n\nclass CreateAnimation extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.nodes = new Map();\n    this.animation = createAnimation(props.id);\n  }\n\n  setupAnimation(props) {\n    const animation = this.animation;\n\n    if (this.nodes.size > 0) {\n      animation.addElement(Array.from(this.nodes.values()));\n    }\n\n    checkConfig(animation, props);\n    checkPlayback(animation, props);\n  }\n\n  componentDidMount() {\n    const props = this.props;\n    this.setupAnimation(props);\n  }\n\n  componentDidUpdate(prevProps) {\n    const animation = this.animation;\n    const props = this.props;\n    checkConfig(animation, props, prevProps);\n    checkProgress(animation, props, prevProps);\n    checkPlayback(animation, props, prevProps);\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return React.createElement(React.Fragment, null, React.Children.map(children, (child, id) => React.cloneElement(child, {\n      ref: el => this.nodes.set(id, el)\n    })));\n  }\n\n}\n\nconst checkConfig = (animation, currentProps = {}, prevProps = {}) => {\n  const reservedProps = ['children', 'progressStart', 'progressStep', 'progressEnd', 'pause', 'stop', 'destroy', 'play', 'from', 'to', 'fromTo', 'onFinish'];\n\n  for (const key in currentProps) {\n    if (currentProps.hasOwnProperty(key) && !reservedProps.includes(key) && currentProps[key] !== prevProps[key]) {\n      animation[key](currentProps[key]);\n    }\n  }\n\n  const fromValues = currentProps.from;\n\n  if (fromValues && fromValues !== prevProps.from) {\n    const values = Array.isArray(fromValues) ? fromValues : [fromValues];\n    values.forEach(val => animation.from(val.property, val.value));\n  }\n\n  const toValues = currentProps.to;\n\n  if (toValues && toValues !== prevProps.to) {\n    const values = Array.isArray(toValues) ? toValues : [toValues];\n    values.forEach(val => animation.to(val.property, val.value));\n  }\n\n  const fromToValues = currentProps.fromTo;\n\n  if (fromToValues && fromToValues !== prevProps.fromTo) {\n    const values = Array.isArray(fromToValues) ? fromToValues : [fromToValues];\n    values.forEach(val => animation.fromTo(val.property, val.fromValue, val.toValue));\n  }\n\n  const onFinishValues = currentProps.onFinish;\n\n  if (onFinishValues && onFinishValues !== prevProps.onFinish) {\n    const values = Array.isArray(onFinishValues) ? onFinishValues : [onFinishValues];\n    values.forEach(val => animation.onFinish(val.callback, val.opts));\n  }\n};\n\nconst checkProgress = (animation, currentProps = {}, prevProps = {}) => {\n  var _a, _b, _c, _d, _e;\n\n  const {\n    progressStart,\n    progressStep,\n    progressEnd\n  } = currentProps;\n\n  if (progressStart && (((_a = prevProps.progressStart) === null || _a === void 0 ? void 0 : _a.forceLinearEasing) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.forceLinearEasing) || ((_b = prevProps.progressStart) === null || _b === void 0 ? void 0 : _b.step) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.step))) {\n    animation.progressStart(progressStart.forceLinearEasing, progressStart.step);\n  }\n\n  if (progressStep && ((_c = prevProps.progressStep) === null || _c === void 0 ? void 0 : _c.step) !== (progressStep === null || progressStep === void 0 ? void 0 : progressStep.step)) {\n    animation.progressStep(progressStep.step);\n  }\n\n  if (progressEnd && (((_d = prevProps.progressEnd) === null || _d === void 0 ? void 0 : _d.playTo) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.playTo) || ((_e = prevProps.progressEnd) === null || _e === void 0 ? void 0 : _e.step) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.step) || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.dur) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.dur))) {\n    animation.progressEnd(progressEnd.playTo, progressEnd.step, progressEnd.dur);\n  }\n};\n\nconst checkPlayback = (animation, currentProps = {}, prevProps = {}) => {\n  if (!prevProps.play && currentProps.play) {\n    animation.play();\n  }\n\n  if (!prevProps.pause && currentProps.pause) {\n    animation.pause();\n  }\n\n  if (!prevProps.stop && currentProps.stop) {\n    animation.stop();\n  }\n\n  if (!prevProps.destroy && currentProps.destroy) {\n    animation.destroy();\n  }\n}; // Icons that are used by internal components\n\n\naddIcons({\n  'arrow-back-sharp': arrowBackSharp,\n  'caret-back-sharp': caretBackSharp,\n  'chevron-back': chevronBack,\n  'chevron-forward': chevronForward,\n  'close': close,\n  'close-circle': closeCircle,\n  'close-sharp': closeSharp,\n  'menu-outline': menuOutline,\n  'menu-sharp': menuSharp,\n  'reorder-two-sharp': reorderTwoSharp,\n  'reorder-three-outline': reorderThreeOutline,\n  'search-outline': searchOutline,\n  'search-sharp': searchSharp\n}); // TODO: defineCustomElements() is asyncronous\n// We need to use the promise\n\nif (typeof window !== 'undefined') {\n  defineCustomElements(window);\n}\n\nconst RouteManagerContext = /*@__PURE__*/React.createContext({\n  addViewItem: () => undefined,\n  canGoBack: () => undefined,\n  clearOutlet: () => undefined,\n  createViewItem: () => undefined,\n  findLeavingViewItemByRouteInfo: () => undefined,\n  findViewItemByRouteInfo: () => undefined,\n  getChildrenToRender: () => undefined,\n  getViewItemForTransition: () => undefined,\n  goBack: () => undefined,\n  unMountViewItem: () => undefined\n});\n\nclass ViewLifeCycleManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ionLifeCycleContext = new DefaultIonLifeCycleContext();\n    this._isMounted = false;\n    this.ionLifeCycleContext.onComponentCanBeDestroyed(() => {\n      if (!this.props.mount) {\n        if (this._isMounted) {\n          this.setState({\n            show: false\n          }, () => this.props.removeView());\n        }\n      }\n    });\n    this.state = {\n      show: true\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const {\n      show\n    } = this.state;\n    return React.createElement(IonLifeCycleContext.Provider, {\n      value: this.ionLifeCycleContext\n    }, show && this.props.children);\n  }\n\n} // const RESTRICT_SIZE = 100;\n\n\nclass LocationHistory {\n  constructor() {\n    this.locationHistory = [];\n    this.tabHistory = {};\n  }\n\n  add(routeInfo) {\n    if (routeInfo.routeAction === 'push' || routeInfo.routeAction == null) {\n      this._add(routeInfo);\n    } else if (routeInfo.routeAction === 'pop') {\n      this._pop(routeInfo);\n    } else if (routeInfo.routeAction === 'replace') {\n      this._replace(routeInfo);\n    }\n\n    if (routeInfo.routeDirection === 'root') {\n      this._clear();\n\n      this._add(routeInfo);\n    }\n  }\n\n  clearTabStack(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n\n    if (routeInfos) {\n      routeInfos.forEach(ri => {\n        this.locationHistory = this.locationHistory.filter(x => x.id !== ri.id);\n      });\n      this.tabHistory[tab] = [];\n    }\n  }\n\n  update(routeInfo) {\n    const locationIndex = this.locationHistory.findIndex(x => x.id === routeInfo.id);\n\n    if (locationIndex > -1) {\n      this.locationHistory.splice(locationIndex, 1, routeInfo);\n    }\n\n    const tabArray = this.tabHistory[routeInfo.tab || ''];\n\n    if (tabArray) {\n      const tabIndex = tabArray.findIndex(x => x.id === routeInfo.id);\n\n      if (tabIndex > -1) {\n        tabArray.splice(tabIndex, 1, routeInfo);\n      } else {\n        tabArray.push(routeInfo);\n      }\n    } else if (routeInfo.tab) {\n      this.tabHistory[routeInfo.tab] = [routeInfo];\n    }\n  }\n\n  _add(routeInfo) {\n    var _a;\n\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n\n    if (routeInfos) {\n      // If the latest routeInfo is the same (going back and forth between tabs), replace it\n      if (((_a = routeInfos[routeInfos.length - 1]) === null || _a === void 0 ? void 0 : _a.id) === routeInfo.id) {\n        routeInfos.pop();\n      }\n\n      routeInfos.push(routeInfo);\n    }\n\n    this.locationHistory.push(routeInfo);\n  }\n\n  _pop(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n\n    let ri;\n\n    if (routeInfos) {\n      // Pop all routes until we are back\n      ri = routeInfos[routeInfos.length - 1];\n\n      while (ri && ri.id !== routeInfo.id) {\n        routeInfos.pop();\n        ri = routeInfos[routeInfos.length - 1];\n      } // Replace with updated route\n\n\n      routeInfos.pop();\n      routeInfos.push(routeInfo);\n    }\n\n    ri = this.locationHistory[this.locationHistory.length - 1];\n\n    while (ri && ri.id !== routeInfo.id) {\n      this.locationHistory.pop();\n      ri = this.locationHistory[this.locationHistory.length - 1];\n    } // Replace with updated route\n\n\n    this.locationHistory.pop();\n    this.locationHistory.push(routeInfo);\n  }\n\n  _replace(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n\n    routeInfos && routeInfos.pop();\n    this.locationHistory.pop();\n\n    this._add(routeInfo);\n  }\n\n  _clear() {\n    const keys = Object.keys(this.tabHistory);\n    keys.forEach(k => this.tabHistory[k] = []);\n    this.locationHistory = [];\n  }\n\n  _getRouteInfosByKey(key) {\n    let routeInfos;\n\n    if (key) {\n      routeInfos = this.tabHistory[key];\n\n      if (!routeInfos) {\n        routeInfos = this.tabHistory[key] = [];\n      }\n    }\n\n    return routeInfos;\n  }\n\n  getFirstRouteInfoForTab(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n\n    if (routeInfos) {\n      return routeInfos[0];\n    }\n\n    return undefined;\n  }\n\n  getCurrentRouteInfoForTab(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n\n    if (routeInfos) {\n      return routeInfos[routeInfos.length - 1];\n    }\n\n    return undefined;\n  }\n\n  findLastLocation(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n\n    if (routeInfos) {\n      for (let i = routeInfos.length - 2; i >= 0; i--) {\n        const ri = routeInfos[i];\n\n        if (ri) {\n          if (ri.pathname === routeInfo.pushedByRoute) {\n            return ri;\n          }\n        }\n      }\n    }\n\n    for (let i = this.locationHistory.length - 2; i >= 0; i--) {\n      const ri = this.locationHistory[i];\n\n      if (ri) {\n        if (ri.pathname === routeInfo.pushedByRoute) {\n          return ri;\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  previous() {\n    return this.locationHistory[this.locationHistory.length - 2] || this.locationHistory[this.locationHistory.length - 1];\n  }\n\n  current() {\n    return this.locationHistory[this.locationHistory.length - 1];\n  }\n\n  canGoBack() {\n    return this.locationHistory.length > 1;\n  }\n\n}\n\nclass NavManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ionRouterContextValue = {\n      push: (pathname, routerDirection, routeAction, routerOptions, animationBuilder) => {\n        this.navigate(pathname, routerDirection, routeAction, animationBuilder, routerOptions);\n      },\n      back: animationBuilder => {\n        this.goBack(undefined, animationBuilder);\n      },\n      canGoBack: () => this.props.locationHistory.canGoBack(),\n      routeInfo: this.props.routeInfo\n    };\n    this.state = {\n      goBack: this.goBack.bind(this),\n      hasIonicRouter: () => true,\n      navigate: this.navigate.bind(this),\n      getIonRedirect: this.getIonRedirect.bind(this),\n      getIonRoute: this.getIonRoute.bind(this),\n      getStackManager: this.getStackManager.bind(this),\n      getPageManager: this.getPageManager.bind(this),\n      routeInfo: this.props.routeInfo,\n      setCurrentTab: this.props.onSetCurrentTab,\n      changeTab: this.props.onChangeTab,\n      resetTab: this.props.onResetTab\n    };\n\n    if (typeof document !== 'undefined') {\n      document.addEventListener('ionBackButton', e => {\n        e.detail.register(0, processNextHandler => {\n          this.goBack();\n          processNextHandler();\n        });\n      });\n    }\n  }\n\n  goBack(route, animationBuilder) {\n    this.props.onNavigateBack(route, animationBuilder);\n  }\n\n  navigate(path, direction = 'forward', action = 'push', animationBuilder, options, tab) {\n    this.props.onNavigate(path, action, direction, animationBuilder, options, tab);\n  }\n\n  getPageManager() {\n    return PageManager;\n  }\n\n  getIonRedirect() {\n    return this.props.ionRedirect;\n  }\n\n  getIonRoute() {\n    return this.props.ionRoute;\n  }\n\n  getStackManager() {\n    return this.props.stackManager;\n  }\n\n  render() {\n    return React.createElement(NavContext.Provider, {\n      value: Object.assign(Object.assign({}, this.state), {\n        routeInfo: this.props.routeInfo\n      })\n    }, React.createElement(IonRouterContext.Provider, {\n      value: Object.assign(Object.assign({}, this.ionRouterContextValue), {\n        routeInfo: this.props.routeInfo\n      })\n    }, this.props.children));\n  }\n\n}\n\nclass ViewStacks {\n  constructor() {\n    this.viewStacks = {};\n    this.add = this.add.bind(this);\n    this.clear = this.clear.bind(this);\n    this.getViewItemsForOutlet = this.getViewItemsForOutlet.bind(this);\n    this.remove = this.remove.bind(this);\n  }\n\n  add(viewItem) {\n    const {\n      outletId\n    } = viewItem;\n\n    if (!this.viewStacks[outletId]) {\n      this.viewStacks[outletId] = [viewItem];\n    } else {\n      this.viewStacks[outletId].push(viewItem);\n    }\n  }\n\n  clear(outletId) {\n    // Give some time for the leaving views to transition before removing\n    setTimeout(() => {\n      // console.log('Removing viewstack for outletID ' + outletId);\n      delete this.viewStacks[outletId];\n    }, 500);\n  }\n\n  getViewItemsForOutlet(outletId) {\n    return this.viewStacks[outletId] || [];\n  }\n\n  remove(viewItem) {\n    const {\n      outletId\n    } = viewItem;\n    const viewStack = this.viewStacks[outletId];\n\n    if (viewStack) {\n      const viewItemToRemove = viewStack.find(x => x.id === viewItem.id);\n\n      if (viewItemToRemove) {\n        viewItemToRemove.mount = false;\n        this.viewStacks[outletId] = viewStack.filter(x => x.id !== viewItemToRemove.id);\n      }\n    }\n  }\n\n  getStackIds() {\n    return Object.keys(this.viewStacks);\n  }\n\n  getAllViewItems() {\n    const keys = this.getStackIds();\n    const viewItems = [];\n    keys.forEach(k => {\n      viewItems.push(...this.viewStacks[k]);\n    });\n    return viewItems;\n  }\n\n}\n\nconst ids = {\n  main: 0\n};\n\nconst generateId = (type = 'main') => {\n  var _a;\n\n  const id = ((_a = ids[type]) !== null && _a !== void 0 ? _a : 0) + 1;\n  ids[type] = id;\n  return id.toString();\n};\n\nexport { CreateAnimation, DefaultIonLifeCycleContext, IonActionSheet, IonAlert, IonApp, IonAvatar, IonBackButton, IonBackdrop, IonBadge, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCheckbox, IonChip, IonCol, IonContent, IonDatetime, IonFab, IonFabButton, IonFabList, IonFooter, IonGrid, IonHeader, IonIcon, IonImg, IonInfiniteScroll, IonInfiniteScrollContent, IonInput, IonItem, IonItemDivider, IonItemGroup, IonItemOption, IonItemOptions, IonItemSliding, IonLabel, IonLifeCycleContext, IonList, IonListHeader, IonLoading, IonMenu, IonMenuButton, IonMenuToggle, IonModal, IonNav, IonNote, IonPage, IonPicker, IonPickerColumn, IonPopover, IonProgressBar, IonRadio, IonRadioGroup, IonRange, IonRedirect, IonRefresher, IonRefresherContent, IonReorder, IonReorderGroup, IonRippleEffect, IonRoute, IonRouterContext, IonRouterLink, IonRouterOutlet, IonRow, IonSearchbar, IonSegment, IonSegmentButton, IonSelect, IonSelectOption, IonSelectPopover, IonSkeletonText, IonSlide, IonSlides, IonSpinner, IonSplitPane, IonTab, IonTabBar, IonTabButton, IonTabs, IonTabsContext, IonText, IonTextarea, IonThumbnail, IonTitle, IonToast, IonToggle, IonToolbar, IonVirtualScroll, LocationHistory, NavContext, NavManager, RouteManagerContext, StackContext, ViewLifeCycleManager, ViewStacks, generateId, getConfig, getPlatforms, ionRenderToString, isPlatform, useIonRouter, useIonViewDidEnter, useIonViewDidLeave, useIonViewWillEnter, useIonViewWillLeave, withIonLifeCycle };","map":{"version":3,"sources":["../src/contexts/IonLifeCycleContext.tsx","../src/lifecycle/IonLifeCycleHOC.tsx","../src/lifecycle/hooks.ts","../src/contexts/NavContext.ts","../src/components/utils/case.ts","../src/components/utils/attachProps.ts","../src/components/utils/ionRenderToString.ts","../src/components/utils/index.tsx","../src/components/createComponent.tsx","../src/components/proxies.ts","../src/components/createControllerComponent.tsx","../src/components/IonAlert.tsx","../src/components/IonLoading.tsx","../src/components/IonToast.tsx","../src/components/IonPicker.tsx","../src/components/createOverlayComponent.tsx","../src/components/IonActionSheet.tsx","../src/components/IonModal.tsx","../src/components/IonPopover.tsx","../src/routing/StackContext.tsx","../src/routing/PageManager.tsx","../src/components/IonPage.tsx","../src/components/navigation/IonTabsContext.tsx","../src/components/inner-proxies.ts","../src/routing/OutletPageManager.tsx","../src/components/IonRouterOutlet.tsx","../src/components/navigation/IonTabButton.tsx","../src/components/navigation/IonTabBar.tsx","../src/components/navigation/IonTabs.tsx","../src/components/navigation/IonBackButton.tsx","../src/components/utils/dev.ts","../src/components/IonIcon.tsx","../src/components/IonRoute.tsx","../src/components/IonRedirect.tsx","../src/components/IonRouterContext.tsx","../src/components/CreateAnimation.tsx","../src/components/index.ts","../src/routing/RouteManagerContext.ts","../src/routing/ViewLifeCycleManager.tsx","../src/routing/LocationHistory.ts","../src/routing/NavManager.tsx","../src/routing/ViewStacks.ts","../src/utils/generateId.ts"],"names":["isPlatformCore","getPlatformsCore","toastControllerCore","ReactDOM","actionSheetControllerCore"],"mappings":";;;;;;;;;MAaa,mBAAmB,GAAA,aAAgB,KAAK,CAAC,aAAN,CAAkD;AAChG,EAAA,kBAAkB,EAAE,MAAA;AAAQ;AAAS,GAD2D;AAEhG,EAAA,gBAAgB,EAAE,MAAA;AAAQ;AAAS,GAF6D;AAGhG,EAAA,iBAAiB,EAAE,MAAA;AAAQ;AAAS,GAH4D;AAIhG,EAAA,eAAe,EAAE,MAAA;AAAQ;AAAS,GAJ8D;AAKhG,EAAA,kBAAkB,EAAE,MAAA;AAAQ;AAAS,GAL2D;AAMhG,EAAA,gBAAgB,EAAE,MAAA;AAAQ;AAAS,GAN6D;AAOhG,EAAA,iBAAiB,EAAE,MAAA;AAAQ;AAAS,GAP4D;AAQhG,EAAA,eAAe,EAAE,MAAA;AAAQ;AAAS;AAR8D,CAAlD,C;MAanC,0BAA0B,GAAG,MAAA;AAAA,EAAA,WAAA,GAAA;AAExC,SAAA,yBAAA,GAAiD,EAAjD;AACA,SAAA,wBAAA,GAAgD,EAAhD;AACA,SAAA,yBAAA,GAAiD,EAAjD;AACA,SAAA,wBAAA,GAAgD,EAAhD;AAiFD;;AA9EC,EAAA,kBAAkB,CAAC,QAAD,EAA4B;AAC5C,QAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,YAAM,KAAK,GAAG,KAAK,yBAAL,CAA+B,SAA/B,CAAyC,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,EAAhE,CAAd;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,aAAK,yBAAL,CAA+B,KAA/B,IAAwC,QAAxC;AACD,OAFD,MAEO;AACL,aAAK,yBAAL,CAA+B,IAA/B,CAAoC,QAApC;AACD;AACF,KAPD,MAOO;AACL,WAAK,yBAAL,CAA+B,IAA/B,CAAoC,QAApC;AACD;AACF;;AAED,EAAA,gBAAgB,GAAA;AACd,SAAK,yBAAL,CAA+B,OAA/B,CAAuC,EAAE,IAAI,EAAE,EAA/C;AACD;;AAED,EAAA,iBAAiB,CAAC,QAAD,EAA4B;AAC3C,QAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,YAAM,KAAK,GAAG,KAAK,wBAAL,CAA8B,SAA9B,CAAwC,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,EAA/D,CAAd;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,aAAK,wBAAL,CAA8B,KAA9B,IAAuC,QAAvC;AACD,OAFD,MAEO;AACL,aAAK,wBAAL,CAA8B,IAA9B,CAAmC,QAAnC;AACD;AACF,KAPD,MAOO;AACL,WAAK,wBAAL,CAA8B,IAA9B,CAAmC,QAAnC;AACD;AACF;;AAED,EAAA,eAAe,GAAA;AACb,SAAK,wBAAL,CAA8B,OAA9B,CAAsC,EAAE,IAAI,EAAE,EAA9C;AACD;;AAED,EAAA,kBAAkB,CAAC,QAAD,EAA4B;AAC5C,QAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,YAAM,KAAK,GAAG,KAAK,yBAAL,CAA+B,SAA/B,CAAyC,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,EAAhE,CAAd;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,aAAK,yBAAL,CAA+B,KAA/B,IAAwC,QAAxC;AACD,OAFD,MAEO;AACL,aAAK,yBAAL,CAA+B,IAA/B,CAAoC,QAApC;AACD;AACF,KAPD,MAOO;AACL,WAAK,yBAAL,CAA+B,IAA/B,CAAoC,QAApC;AACD;AACF;;AAED,EAAA,gBAAgB,GAAA;AACd,SAAK,yBAAL,CAA+B,OAA/B,CAAuC,EAAE,IAAI,EAAE,EAA/C;AACD;;AAED,EAAA,iBAAiB,CAAC,QAAD,EAA4B;AAC3C,QAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,YAAM,KAAK,GAAG,KAAK,wBAAL,CAA8B,SAA9B,CAAwC,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,EAA/D,CAAd;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,aAAK,wBAAL,CAA8B,KAA9B,IAAuC,QAAvC;AACD,OAFD,MAEO;AACL,aAAK,wBAAL,CAA8B,IAA9B,CAAmC,QAAnC;AACD;AACF,KAPD,MAOO;AACL,WAAK,wBAAL,CAA8B,IAA9B,CAAmC,QAAnC;AACD;AACF;;AAED,EAAA,eAAe,GAAA;AACb,SAAK,wBAAL,CAA8B,OAA9B,CAAsC,EAAE,IAAI,EAAE,EAA9C;AACA,SAAK,uBAAL;AACD;;AAED,EAAA,yBAAyB,CAAC,QAAD,EAAqB;AAC5C,SAAK,+BAAL,GAAuC,QAAvC;AACD;;AAED,EAAA,uBAAuB,GAAA;AACrB,QAAI,KAAK,+BAAT,EAA0C;AACxC,WAAK,+BAAL;AACD;AACF;;AArFuC,C;;MCtB7B,gBAAgB,GAAI,gBAAD,IAA2C;AACzE,SAAO,MAAM,YAAN,SAA2B,KAAK,CAAC,SAAjC,CAAoD;AAIzD,IAAA,WAAA,CAAY,KAAZ,EAAsB;AACpB,YAAM,KAAN;AAHF,WAAA,YAAA,GAAe,KAAK,CAAC,SAAN,EAAf;AAIC;;AAED,IAAA,iBAAiB,GAAA;AACf,YAAM,OAAO,GAAG,KAAK,YAAL,CAAkB,OAAlC;AACA,WAAK,OAAL,CAAa,kBAAb,CAAgC,MAAA;AAC9B,YAAI,OAAO,IAAI,OAAO,CAAC,gBAAvB,EAAyC;AACvC,UAAA,OAAO,CAAC,gBAAR;AACD;AACF,OAJD;AAMA,WAAK,OAAL,CAAa,iBAAb,CAA+B,MAAA;AAC7B,YAAI,OAAO,IAAI,OAAO,CAAC,eAAvB,EAAwC;AACtC,UAAA,OAAO,CAAC,eAAR;AACD;AACF,OAJD;AAMA,WAAK,OAAL,CAAa,kBAAb,CAAgC,MAAA;AAC9B,YAAI,OAAO,IAAI,OAAO,CAAC,gBAAvB,EAAyC;AACvC,UAAA,OAAO,CAAC,gBAAR;AACD;AACF,OAJD;AAMA,WAAK,OAAL,CAAa,iBAAb,CAA+B,MAAA;AAC7B,YAAI,OAAO,IAAI,OAAO,CAAC,eAAvB,EAAwC;AACtC,UAAA,OAAO,CAAC,eAAR;AACD;AACF,OAJD;AAKD;;AAED,IAAA,MAAM,GAAA;AACJ,aACE,KAAA,CAAA,aAAA,CAAC,mBAAmB,CAAC,QAArB,EAA6B,IAA7B,EACG,OAAO,IAAA;AACN,aAAK,OAAL,GAAe,OAAf;AACA,eACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB,MAAA,CAAA,MAAA,CAAA;AAAC,UAAA,GAAG,EAAE,KAAK;AAAX,SAAA,EAA6B,KAAK,KAAlC,CAAjB,CADF;AAGD,OANH,CADF;AAUD;;AA9CwD,GAA3D;AAgDF,C;;MCjDa,mBAAmB,GAAG,CAAC,QAAD,EAA8B,IAAA,GAAc,EAA5C,KAA8C;AAC/E,QAAM,OAAO,GAAG,UAAU,CAAC,mBAAD,CAA1B;AACA,QAAM,EAAE,GAAG,MAAM,EAAjB;AACA,EAAA,EAAE,CAAC,OAAH,GAAa,EAAE,CAAC,OAAH,IAAc,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B,CAA3B;AACA,EAAA,SAAS,CAAC,MAAA;AACR,IAAA,QAAQ,CAAC,EAAT,GAAc,EAAE,CAAC,OAAjB;AACA,IAAA,OAAO,CAAC,kBAAR,CAA2B,QAA3B;AACD,GAHQ,EAGN,IAHM,CAAT;AAIF,C;;MAEa,kBAAkB,GAAG,CAAC,QAAD,EAA8B,IAAA,GAAc,EAA5C,KAA8C;AAC9E,QAAM,OAAO,GAAG,UAAU,CAAC,mBAAD,CAA1B;AACA,QAAM,EAAE,GAAG,MAAM,EAAjB;AACA,EAAA,EAAE,CAAC,OAAH,GAAa,EAAE,CAAC,OAAH,IAAc,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B,CAA3B;AACA,EAAA,SAAS,CAAC,MAAA;AACR,IAAA,QAAQ,CAAC,EAAT,GAAc,EAAE,CAAC,OAAjB;AACA,IAAA,OAAO,CAAC,iBAAR,CAA0B,QAA1B;AACD,GAHQ,EAGN,IAHM,CAAT;AAIF,C;;MAEa,mBAAmB,GAAG,CAAC,QAAD,EAA8B,IAAA,GAAc,EAA5C,KAA8C;AAC/E,QAAM,OAAO,GAAG,UAAU,CAAC,mBAAD,CAA1B;AACA,QAAM,EAAE,GAAG,MAAM,EAAjB;AACA,EAAA,EAAE,CAAC,OAAH,GAAa,EAAE,CAAC,OAAH,IAAc,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B,CAA3B;AACA,EAAA,SAAS,CAAC,MAAA;AACR,IAAA,QAAQ,CAAC,EAAT,GAAc,EAAE,CAAC,OAAjB;AACA,IAAA,OAAO,CAAC,kBAAR,CAA2B,QAA3B;AACD,GAHQ,EAGN,IAHM,CAAT;AAIF,C;;MAEa,kBAAkB,GAAG,CAAC,QAAD,EAA8B,IAAA,GAAc,EAA5C,KAA8C;AAC9E,QAAM,OAAO,GAAG,UAAU,CAAC,mBAAD,CAA1B;AACA,QAAM,EAAE,GAAG,MAAM,EAAjB;AACA,EAAA,EAAE,CAAC,OAAH,GAAa,EAAE,CAAC,OAAH,IAAc,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B,CAA3B;AACA,EAAA,SAAS,CAAC,MAAA;AACR,IAAA,QAAQ,CAAC,EAAT,GAAc,EAAE,CAAC,OAAjB;AACA,IAAA,OAAO,CAAC,iBAAR,CAA0B,QAA1B;AACD,GAHQ,EAGN,IAHM,CAAT;AAIF,C;;MCvBa,UAAU,GAAA,aAAgB,KAAK,CAAC,aAAN,CAAqC;AAC1E,EAAA,cAAc,EAAE,MAAM,SADoD;AAE1E,EAAA,WAAW,EAAE,MAAM,SAFuD;AAG1E,EAAA,cAAc,EAAE,MAAM,SAHoD;AAI1E,EAAA,eAAe,EAAE,MAAM,SAJmD;AAK1E,EAAA,MAAM,EAAG,KAAD,IAA2B;AACjC,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAI,OAAQ,KAAR,KAAmB,QAAvB,EAAiC;AAC/B,QAAA,MAAM,CAAC,QAAP,CAAgB,QAAhB,GAA2B,KAA3B;AACD,OAFD,MAEO;AACL,QAAA,MAAM,CAAC,OAAP,CAAe,IAAf;AACD;AACF;AACF,GAbyE;AAc1E,EAAA,QAAQ,EAAG,IAAD,IAAa;AACrB,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,MAAA,MAAM,CAAC,QAAP,CAAgB,QAAhB,GAA2B,IAA3B;AACD;AACF,GAlByE;AAmB1E,EAAA,cAAc,EAAE,MAAM,KAnBoD;AAoB1E,EAAA,SAAS,EAAE,SApB+D;AAqB1E,EAAA,aAAa,EAAE,MAAM,SArBqD;AAsB1E,EAAA,SAAS,EAAE,CAAC,IAAD,EAAe,IAAf,KAA2B;AACpC,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,MAAA,MAAM,CAAC,QAAP,CAAgB,QAAhB,GAA2B,IAA3B;AACD;AACF,GA1ByE;AA2B1E,EAAA,QAAQ,EAAE,CAAC,IAAD,EAAe,IAAf,KAA2B;AACnC,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,MAAA,MAAM,CAAC,QAAP,CAAgB,QAAhB,GAA2B,IAA3B;AACD;AACF;AA/ByE,CAArC,C;;ACnBhC,MAAM,gBAAgB,GAAI,GAAD,IAAiB,GAAG,CAAC,WAAJ,GAAkB,KAAlB,CAAwB,GAAxB,EAA6B,GAA7B,CAAiC,OAAO,IAAI,OAAO,CAAC,MAAR,CAAe,CAAf,EAAkB,WAAlB,KAAkC,OAAO,CAAC,KAAR,CAAc,CAAd,CAA9E,EAAgG,IAAhG,CAAqG,EAArG,CAA1C;;AACA,MAAM,eAAe,GAAI,GAAD,IAAiB,GAAG,CAAC,OAAJ,CAAY,UAAZ,EAAyB,CAAD,IAAe,IAAI,CAAC,CAAC,CAAD,CAAD,CAAK,WAAL,EAAkB,EAA7D,CAAzC;;ACCA,MAAM,WAAW,GAAG,CAAC,IAAD,EAAoB,QAApB,EAAmC,QAAA,GAAgB,EAAnD,KAAqD;;AAE9E,MAAI,IAAI,YAAY,OAApB,EAA6B;;AAE3B,UAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,SAAN,EAAiB,QAAjB,EAA2B,QAA3B,CAA9B;;AACA,QAAI,SAAS,KAAK,EAAlB,EAAsB;AACpB,MAAA,IAAI,CAAC,SAAL,GAAiB,SAAjB;AACD;;AAED,IAAA,MAAM,CAAC,IAAP,CAAY,QAAZ,EAAsB,OAAtB,CAA8B,IAAI,IAAA;AAChC,UAAI,IAAI,KAAK,UAAT,IAAuB,IAAI,KAAK,OAAhC,IAA2C,IAAI,KAAK,KAApD,IAA6D,IAAI,KAAK,OAAtE,IAAiF,IAAI,KAAK,WAA1F,IAAyG,IAAI,KAAK,cAAtH,EAAsI;AACpI;AACD;;AACD,UAAI,IAAI,CAAC,OAAL,CAAa,IAAb,MAAuB,CAAvB,IAA4B,IAAI,CAAC,CAAD,CAAJ,KAAY,IAAI,CAAC,CAAD,CAAJ,CAAQ,WAAR,EAA5C,EAAmE;AACjE,cAAM,SAAS,GAAG,IAAI,CAAC,SAAL,CAAe,CAAf,CAAlB;AACA,cAAM,WAAW,GAAG,SAAS,CAAC,CAAD,CAAT,CAAa,WAAb,KAA6B,SAAS,CAAC,SAAV,CAAoB,CAApB,CAAjD;;AAEA,YAAI,CAAC,gBAAgB,CAAC,WAAD,CAArB,EAAoC;AAClC,UAAA,SAAS,CAAC,IAAD,EAAO,WAAP,EAAoB,QAAQ,CAAC,IAAD,CAA5B,CAAT;AACD;AACF,OAPD,MAOO;AACL,cAAM,QAAQ,GAAG,OAAO,QAAQ,CAAC,IAAD,CAAhC;;AACA,YAAI,QAAQ,KAAK,QAAjB,EAA2B;AACzB,UAAA,IAAI,CAAC,YAAL,CAAkB,eAAe,CAAC,IAAD,CAAjC,EAAyC,QAAQ,CAAC,IAAD,CAAjD;AACD,SAFD,MAEO;AACJ,UAAA,IAAY,CAAC,IAAD,CAAZ,GAAqB,QAAQ,CAAC,IAAD,CAA7B;AACF;AACF;AACF,KAnBD;AAoBD;AACF,CA9BM;;AAgCA,MAAM,YAAY,GAAG,CAAC,SAAD,EAA0B,QAA1B,EAAyC,QAAzC,KAAsD;AAChF,QAAM,YAAY,GAAW,QAAQ,CAAC,SAAT,IAAsB,QAAQ,CAAC,KAA5D;AACA,QAAM,YAAY,GAAW,QAAQ,CAAC,SAAT,IAAsB,QAAQ,CAAC,KAA5D,CAFgF,C;;AAIhF,QAAM,cAAc,GAAG,UAAU,CAAC,SAAD,CAAjC;AACA,QAAM,mBAAmB,GAAG,UAAU,CAAC,YAAY,GAAG,YAAY,CAAC,KAAb,CAAmB,GAAnB,CAAH,GAA6B,EAA1C,CAAtC;AACA,QAAM,cAAc,GAAG,UAAU,CAAC,YAAY,GAAG,YAAY,CAAC,KAAb,CAAmB,GAAnB,CAAH,GAA6B,EAA1C,CAAjC;AACA,QAAM,eAAe,GAAa,EAAlC,CAPgF,C;;;AAUhF,EAAA,cAAc,CAAC,OAAf,CAAuB,YAAY,IAAA;AACjC,QAAI,mBAAmB,CAAC,GAApB,CAAwB,YAAxB,CAAJ,EAA2C;;AAEzC,MAAA,eAAe,CAAC,IAAhB,CAAqB,YAArB;AACA,MAAA,mBAAmB,CAAC,MAApB,CAA2B,YAA3B;AACD,KAJD,MAIO,IAAI,CAAC,cAAc,CAAC,GAAf,CAAmB,YAAnB,CAAL,EAAuC;;AAE5C,MAAA,eAAe,CAAC,IAAhB,CAAqB,YAArB;AACD;AACF,GATD;AAUA,EAAA,mBAAmB,CAAC,OAApB,CAA4B,CAAC,IAAI,eAAe,CAAC,IAAhB,CAAqB,CAArB,CAAjC;AACA,SAAO,eAAe,CAAC,IAAhB,CAAqB,GAArB,CAAP;AACD,CAtBM;AAwBP;;;;;;AAIO,MAAM,gBAAgB,GAAI,eAAD,IAAwB;AACtD,MAAI,OAAO,QAAP,KAAoB,WAAxB,EAAqC;AACnC,WAAO,IAAP;AACD,GAFD,MAEO;AACL,UAAM,SAAS,GAAG,OAAO,eAAzB;AACA,QAAI,WAAW,IAAG,SAAS,IAAI,QAAhB,CAAf;;AAEA,QAAI,CAAC,WAAL,EAAkB;AAChB,YAAM,OAAO,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAhB;AACA,MAAA,OAAO,CAAC,YAAR,CAAqB,SAArB,EAAgC,SAAhC;AACA,MAAA,WAAW,GAAG,OAAQ,OAAe,CAAC,SAAD,CAAvB,KAAuC,UAArD;AACD;;AAED,WAAO,WAAP;AACD;AACF,CAfM;;AAiBA,MAAM,SAAS,GAAG,CAAC,IAAD,EAAsF,SAAtF,EAAyG,eAAzG,KAA4I;AACnK,QAAM,UAAU,GAAG,IAAI,CAAC,QAAL,KAAkB,IAAI,CAAC,QAAL,GAAgB,EAAlC,CAAnB;AACA,QAAM,eAAe,GAAG,UAAU,CAAC,SAAD,CAAlC,CAFmK,C;;AAKnK,MAAI,eAAJ,EAAqB;AACnB,IAAA,IAAI,CAAC,mBAAL,CAAyB,SAAzB,EAAoC,eAApC;AACD,GAPkK,C;;;AAUnK,EAAA,IAAI,CAAC,gBAAL,CAAsB,SAAtB,EAAiC,UAAU,CAAC,SAAD,CAAV,GAAwB,SAAS,OAAT,CAAiB,CAAjB,EAAyB;AAChF,QAAI,eAAJ,EAAqB;AAAE,MAAA,eAAe,CAAC,IAAhB,CAAqB,IAArB,EAA2B,CAA3B;AAAgC;AACxD,GAFD;AAGD,CAbM;;AAeP,MAAM,UAAU,GAAI,GAAD,IAA6B;AAC9C,QAAM,GAAG,GAAG,IAAI,GAAJ,EAAZ;AACC,EAAA,GAAgB,CAAC,OAAjB,CAA0B,CAAD,IAAe,GAAG,CAAC,GAAJ,CAAQ,CAAR,EAAW,CAAX,CAAxC;AACD,SAAO,GAAP;AACD,CAJD;;AC5FO,eAAe,iBAAf,CAAiC,IAAjC,EAA+C,SAA/C,EAAkE,OAAA,GAAoC,EAAtG,EAAwG;AAE7G,QAAM,qBAAqB,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB;AAC9C,IAAA,wBAAwB,EAAE,KADoB;AAE9C,IAAA,iBAAiB,EAAE,C;AAEjB,sBAFiB,EAGjB,WAHiB,EAIjB,aAJiB,EAKjB,WALiB,EAMjB,YANiB,EAOjB,aAPiB,EAQjB,WARiB,E;AAWjB,gBAXiB,EAYjB,WAZiB,EAajB,oBAbiB,EAcjB,iBAdiB,EAejB,mBAfiB,E;AAkBjB,cAlBiB,EAmBjB,SAnBiB,E;AAsBjB,uBAtBiB,EAuBjB,oBAvBiB,CAF2B;AA2B9C,IAAA;AA3B8C,GAAlB,EA4B3B,OA5B2B,CAA9B;AA8BA,QAAM,OAAO,GAAG,MAAM,cAAc,CAAC,IAAD,EAAO,qBAAP,CAApC;AACA,SAAO,OAAO,CAAC,IAAf;AACF;;AC7BO,MAAM,gBAAgB,GAAG,CAAwB,cAAxB,EAA6C,WAA7C,KAAgE;AAC9F,QAAM,UAAU,GAAG,CAAC,KAAD,EAAwD,GAAxD,KAAmF;AACpG,WAAO,KAAA,CAAA,aAAA,CAAC,cAAD,EAAe,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAL,EAAU;AAAE,MAAA,YAAY,EAAE;AAAhB,KAAV,CAAf,CAAP;AACD,GAFD;;AAGA,EAAA,UAAU,CAAC,WAAX,GAAyB,WAAzB;AAEA,SAAO,KAAK,CAAC,UAAN,CAAiB,UAAjB,CAAP;AACD,CAPM;;MAaM,UAAU,GAAI,QAAD,IAAoB;AAC5C,SAAOA,YAAc,CAAC,MAAD,EAAS,QAAT,CAArB;AACF,C;;MAEa,YAAY,GAAG,MAAA;AAC1B,SAAOC,cAAgB,CAAC,MAAD,CAAvB;AACF,C;;MAEa,SAAS,GAAG,MAAA;AACvB,MAAI,OAAQ,MAAR,KAA2B,WAA/B,EAA4C;AAC1C,UAAM,KAAK,GAAI,MAAc,CAAC,KAA9B;;AACA,QAAI,KAAK,IAAI,KAAK,CAAC,MAAnB,EAA2B;AACzB,aAAO,KAAK,CAAC,MAAb;AACD;AACF;;AACD,SAAO,IAAP;AACF,C;;AChBO,MAAM,oBAAoB,GAAG,CAClC,OADkC,EAElC,mBAAmB,GAAG,KAFY,KAEP;AAE3B,QAAM,WAAW,GAAG,gBAAgB,CAAC,OAAD,CAApC;AACA,QAAM,cAAc,GAAG,cAAc,KAAK,CAAC,SAApB,CAAgE;AAGrF,IAAA,WAAA,CAAY,KAAZ,EAAoD;AAClD,YAAM,KAAN;;AAYM,WAAA,WAAA,GAAe,CAAD,IAA8B;AAClD,cAAM;AAAE,UAAA,UAAF;AAAc,UAAA,eAAd;AAA+B,UAAA,aAA/B;AAA8C,UAAA;AAA9C,YAAkE,KAAK,KAA7E;;AACA,YAAI,UAAU,KAAK,SAAnB,EAA8B;AAC5B,UAAA,CAAC,CAAC,cAAF;AACA,eAAK,OAAL,CAAa,QAAb,CAAsB,UAAtB,EAAkC,eAAlC,EAAmD,SAAnD,EAA8D,eAA9D,EAA+E,aAA/E;AACD;AACF,OANO;AAXP;;AAED,IAAA,iBAAiB,GAAA;AACf,WAAK,kBAAL,CAAwB,KAAK,KAA7B;AACD;;AAED,IAAA,kBAAkB,CAAC,SAAD,EAA6C;AAC7D,YAAM,IAAI,GAAG,QAAQ,CAAC,WAAT,CAAqB,IAArB,CAAb;AACA,MAAA,WAAW,CAAC,IAAD,EAAO,KAAK,KAAZ,EAAmB,SAAnB,CAAX;AACD;;AAUD,IAAA,MAAM,GAAA;AACJ,YAAM,EAAA,GAA+D,KAAK,KAA1E;AAAA,YAAM;AAAE,QAAA,QAAF;AAAY,QAAA,YAAZ;AAA0B,QAAA,KAA1B;AAAiC,QAAA,SAAjC;AAA4C,QAAA;AAA5C,UAA+C,EAArD;AAAA,YAA0D,MAAM,GAAA,MAAA,CAAA,EAAA,EAA1D,CAAA,UAAA,EAAA,cAAA,EAAA,OAAA,EAAA,WAAA,EAAA,KAAA,CAA0D,CAAhE;;AAEA,YAAM,WAAW,GAAG,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAA2B,CAAC,GAAD,EAAM,IAAN,KAAU;AACvD,YAAI,IAAI,CAAC,OAAL,CAAa,IAAb,MAAuB,CAAvB,IAA4B,IAAI,CAAC,CAAD,CAAJ,KAAY,IAAI,CAAC,CAAD,CAAJ,CAAQ,WAAR,EAA5C,EAAmE;AACjE,gBAAM,SAAS,GAAG,IAAI,CAAC,SAAL,CAAe,CAAf,EAAkB,WAAlB,EAAlB;;AACA,cAAI,gBAAgB,CAAC,SAAD,CAApB,EAAiC;AAC9B,YAAA,GAAW,CAAC,IAAD,CAAX,GAAqB,MAAc,CAAC,IAAD,CAAnC;AACF;AACF,SALD,MAKO,IAAI,OAAQ,MAAc,CAAC,IAAD,CAAtB,KAAiC,QAArC,EAA+C;AACnD,UAAA,GAAW,CAAC,eAAe,CAAC,IAAD,CAAhB,CAAX,GAAsC,MAAc,CAAC,IAAD,CAApD;AACF;;AACD,eAAO,GAAP;AACD,OAVmB,EAUjB,EAViB,CAApB;AAYA,YAAM,QAAQ,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACT,WADS,CAAA,EACE;AACd,QAAA,GAAG,EAAE,YADS;AAEd,QAAA;AAFc,OADF,CAAd;;AAMA,UAAI,mBAAJ,EAAyB;AACvB,YAAI,KAAK,KAAL,CAAW,UAAX,IAAyB,CAAC,KAAK,KAAL,CAAW,IAAzC,EAA+C;AAC7C,UAAA,QAAQ,CAAC,IAAT,GAAgB,KAAK,KAAL,CAAW,UAA3B;AACD;;AACD,YAAI,QAAQ,CAAC,OAAb,EAAsB;AACpB,gBAAM,QAAQ,GAAG,QAAQ,CAAC,OAA1B;;AACA,UAAA,QAAQ,CAAC,OAAT,GAAoB,CAAD,IAA8B;AAC/C,YAAA,QAAQ,CAAC,CAAD,CAAR;;AACA,gBAAI,CAAC,CAAC,CAAC,gBAAP,EAAyB;AACvB,mBAAK,WAAL,CAAiB,CAAjB;AACD;AACF,WALD;AAMD,SARD,MAQO;AACL,UAAA,QAAQ,CAAC,OAAT,GAAmB,KAAK,WAAxB;AACD;AACF;;AAED,aAAO,KAAK,CAAC,aAAN,CACL,OADK,EAEL,QAFK,EAGL,QAHK,CAAP;AAKD;;AAED,eAAW,WAAX,GAAsB;AACpB,aAAO,WAAP;AACD;;AAED,eAAW,WAAX,GAAsB;AACpB,aAAO,UAAP;AACD;;AA3EoF,GAAvF;AA6EA,SAAO,gBAAgB,CAAwB,cAAxB,EAAwC,WAAxC,CAAvB;AACD,CAnFM,C,CCfP;;;MACa,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,aAAa,GAAA,aAAgB,oBAAoB,CAAyD,iBAAzD,EAA4E,IAA5E,C;MACjD,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,WAAW,GAAA,aAAgB,oBAAoB,CAA0C,cAA1C,C;MAC/C,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,SAAS,GAAA,aAAgB,oBAAoB,CAAiD,YAAjD,EAA+D,IAA/D,C;MAC7C,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,OAAO,GAAA,aAAgB,oBAAoB,CAA6C,UAA7C,EAAyD,IAAzD,C;MAC3C,cAAc,GAAA,aAAgB,oBAAoB,CAAgD,kBAAhD,C;MAClD,aAAa,GAAA,aAAgB,oBAAoB,CAA8C,iBAA9C,C;MACjD,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,gBAA5C,C;MAChD,WAAW,GAAA,aAAgB,oBAAoB,CAA0C,cAA1C,C;MAC/C,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,WAAW,GAAA,aAAgB,oBAAoB,CAA0C,cAA1C,C;MAC/C,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,YAAY,GAAA,aAAgB,oBAAoB,CAAuD,gBAAvD,EAAyE,IAAzE,C;MAChD,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,cAAxC,C;MAC9C,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,iBAAiB,GAAA,aAAgB,oBAAoB,CAAsD,qBAAtD,C;MACrD,wBAAwB,GAAA,aAAgB,oBAAoB,CAAoE,6BAApE,C;MAC5D,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,OAAO,GAAA,aAAgB,oBAAoB,CAA6C,UAA7C,EAAyD,IAAzD,C;MAC3C,cAAc,GAAA,aAAgB,oBAAoB,CAAgD,kBAAhD,C;MAClD,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,gBAA5C,C;MAChD,aAAa,GAAA,aAAgB,oBAAoB,CAAyD,iBAAzD,EAA4E,IAA5E,C;MACjD,cAAc,GAAA,aAAgB,oBAAoB,CAAgD,kBAAhD,C;MAClD,cAAc,GAAA,aAAgB,oBAAoB,CAAgD,kBAAhD,C;MAClD,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,aAAa,GAAA,aAAgB,oBAAoB,CAA8C,iBAA9C,C;MACjD,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,aAAa,GAAA,aAAgB,oBAAoB,CAA8C,iBAA9C,C;MACjD,aAAa,GAAA,aAAgB,oBAAoB,CAA8C,iBAA9C,C;MACjD,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,cAAc,GAAA,aAAgB,oBAAoB,CAAgD,kBAAhD,C;MAClD,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,aAAa,GAAA,aAAgB,oBAAoB,CAA8C,iBAA9C,C;MACjD,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,eAA5C,C;MAChD,mBAAmB,GAAA,aAAgB,oBAAoB,CAA0D,uBAA1D,C;MACvD,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,MAAM,GAAA,aAAgB,oBAAoB,CAAgC,SAAhC,C;MAC1C,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,eAA5C,C;MAChD,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,gBAAgB,GAAA,aAAgB,oBAAoB,CAAoD,oBAApD,C;MACpD,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,gBAAgB,GAAA,aAAgB,oBAAoB,CAAoD,oBAApD,C;MACpD,eAAe,GAAA,aAAgB,oBAAoB,CAAkD,mBAAlD,C;MACnD,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,gBAA5C,C;MAChD,OAAO,GAAA,aAAgB,oBAAoB,CAAkC,UAAlC,C;MAC3C,WAAW,GAAA,aAAgB,oBAAoB,CAA0C,cAA1C,C;MAC/C,YAAY,GAAA,aAAgB,oBAAoB,CAA4C,eAA5C,C;MAChD,QAAQ,GAAA,aAAgB,oBAAoB,CAAoC,WAApC,C;MAC5C,SAAS,GAAA,aAAgB,oBAAoB,CAAsC,YAAtC,C;MAC7C,UAAU,GAAA,aAAgB,oBAAoB,CAAwC,aAAxC,C;MAC9C,gBAAgB,GAAA,aAAgB,oBAAoB,CAAoD,oBAApD,C;;AC1D1D,MAAM,yBAAyB,GAAG,CACvC,WADuC,EAEvC,UAFuC,KAEgC;AAEvE,QAAM,mBAAmB,GAAG,KAAK,WAAW,YAA5C;AACA,QAAM,mBAAmB,GAAG,KAAK,WAAW,YAA5C;AACA,QAAM,oBAAoB,GAAG,KAAK,WAAW,aAA7C;AACA,QAAM,oBAAoB,GAAG,KAAK,WAAW,aAA7C;;AAMA,QAAM,OAAN,SAAsB,KAAK,CAAC,SAA5B,CAA4C;AAI1C,IAAA,WAAA,CAAY,KAAZ,EAAwB;AACtB,YAAM,KAAN;AAHF,WAAA,WAAA,GAAc,KAAd;AAIE,WAAK,aAAL,GAAqB,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAED,eAAW,WAAX,GAAsB;AACpB,aAAO,WAAP;AACD;;AAED,UAAM,iBAAN,GAAuB;AACrB,YAAM;AAAE,QAAA;AAAF,UAAa,KAAK,KAAxB;;AACA,UAAI,MAAJ,EAAuB;AACrB,aAAK,OAAL;AACD;AACF;;AAED,IAAA,oBAAoB,GAAA;AAClB,WAAK,WAAL,GAAmB,IAAnB;;AACA,UAAI,KAAK,OAAT,EAAkB;AAAE,aAAK,OAAL,CAAa,OAAb;AAAyB;AAC9C;;AAED,UAAM,kBAAN,CAAyB,SAAzB,EAAyC;AACvC,UAAI,SAAS,CAAC,MAAV,KAAqB,KAAK,KAAL,CAAW,MAAhC,IAA0C,KAAK,KAAL,CAAW,MAAX,KAAsB,IAApE,EAA0E;AACxE,aAAK,OAAL,CAAa,SAAb;AACD;;AACD,UAAI,KAAK,OAAL,IAAgB,SAAS,CAAC,MAAV,KAAqB,KAAK,KAAL,CAAW,MAAhD,IAA0D,KAAK,KAAL,CAAW,MAAX,KAAsB,KAApF,EAA2F;AACzF,cAAM,KAAK,OAAL,CAAa,OAAb,EAAN;AACD;AACF;;AAED,IAAA,aAAa,CAAC,KAAD,EAA4C;AACvD,UAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC3B,aAAK,KAAL,CAAW,YAAX,CAAwB,KAAxB;AACD;;AACD,UAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC1B,aAAK,KAAL,CAAW,YAAX,CAAgC,OAAhC,GAA0C,SAA1C;AACF;AACF;;AAED,UAAM,OAAN,CAAc,SAAd,EAA+B;YACvB,EAAA,GAAkF,KAAK,K;YAAhB,MAAM,GAAA,MAAA,CAAA,EAAA,EAA7E,CAAA,QAAA,EAAA,cAAA,EAAA,cAAA,EAAA,eAAA,EAAA,eAAA,CAA6E,C;;AACnF,WAAK,OAAL,GAAe,MAAM,UAAU,CAAC,MAAX,CAAiB,MAAA,CAAA,MAAA,CAAA,EAAA,EACjC,MADiC,CAAjB,CAArB;AAGA,MAAA,WAAW,CAAC,KAAK,OAAN,EAAe;AACxB,SAAC,mBAAD,GAAuB,KAAK,aADJ;AAExB,SAAC,mBAAD,GAAwB,CAAD,IAAoB,KAAK,KAAL,CAAW,YAAX,IAA2B,KAAK,KAAL,CAAW,YAAX,CAAwB,CAAxB,CAF9C;AAGxB,SAAC,oBAAD,GAAyB,CAAD,IAAoB,KAAK,KAAL,CAAW,aAAX,IAA4B,KAAK,KAAL,CAAW,aAAX,CAAyB,CAAzB,CAHhD;AAIxB,SAAC,oBAAD,GAAyB,CAAD,IAAoB,KAAK,KAAL,CAAW,aAAX,IAA4B,KAAK,KAAL,CAAW,aAAX,CAAyB,CAAzB;AAJhD,OAAf,EAKR,SALQ,CAAX,CAL6B,C;;;AAa7B,UAAI,KAAK,KAAL,CAAW,MAAX,KAAsB,IAAtB,IAA8B,KAAK,WAAL,KAAqB,KAAvD,EAA8D;AAC5D,YAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC1B,eAAK,KAAL,CAAW,YAAX,CAAgC,OAAhC,GAA0C,KAAK,OAA/C;AACF;;AACD,cAAM,KAAK,OAAL,CAAa,OAAb,EAAN;AACD;AACF;;AAED,IAAA,MAAM,GAAA;AACJ,aAAO,IAAP;AACD;;AAlEyC;;AAqE5C,SAAO,KAAK,CAAC,UAAN,CAAqC,CAAC,KAAD,EAAQ,GAAR,KAAW;AACrD,WAAO,KAAA,CAAA,aAAA,CAAC,OAAD,EAAQ,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAL,EAAU;AAAE,MAAA,YAAY,EAAE;AAAhB,KAAV,CAAR,CAAP;AACD,GAFM,CAAP;AAGD,CArFM;;MCdM,QAAQ,GAAA,aAAgB,yBAAyB,CAAoC,UAApC,EAAgD,eAAhD,C;MCAjD,UAAU,GAAA,aAAgB,yBAAyB,CAAwC,YAAxC,EAAsD,iBAAtD,C;ACWhE,MAAM,eAAe,GAAG;AACtB,EAAA,MAAM,EAAG,OAAD,IAA2BC,iBAAmB,CAAC,MAApBA,CAA2B,OAA3BA,CADb;AAEtB,EAAA,OAAO,EAAE,CAAC,IAAD,EAAa,IAAb,EAAwC,EAAxC,KAAoEA,iBAAmB,CAAC,OAApBA,CAA4B,IAA5BA,EAAkC,IAAlCA,EAAwC,EAAxCA,CAFvD;AAGtB,EAAA,MAAM,EAAE,MAAMA,iBAAmB,CAAC,MAApBA;AAHQ,CAAxB;MAMa,QAAQ,GAAA,aAAgB,yBAAyB,CAAoC,UAApC,EAAgD,eAAhD,C;MCjBjD,SAAS,GAAA,aAAgB,yBAAyB,CAAsC,WAAtC,EAAmD,gBAAnD,C;;ACgBxD,MAAM,sBAAsB,GAAG,CACpC,WADoC,EAEpC,UAFoC,KAE2B;AAE/D,QAAM,mBAAmB,GAAG,KAAK,WAAW,YAA5C;AACA,QAAM,mBAAmB,GAAG,KAAK,WAAW,YAA5C;AACA,QAAM,oBAAoB,GAAG,KAAK,WAAW,aAA7C;AACA,QAAM,oBAAoB,GAAG,KAAK,WAAW,aAA7C;;AAMA,QAAM,OAAN,SAAsB,KAAK,CAAC,SAA5B,CAA4C;AAI1C,IAAA,WAAA,CAAY,KAAZ,EAAwB;AACtB,YAAM,KAAN;;AACA,UAAI,OAAO,QAAP,KAAoB,WAAxB,EAAqC;AACnC,aAAK,EAAL,GAAU,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAV;AACD;;AACD,WAAK,aAAL,GAAqB,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAED,eAAW,WAAX,GAAsB;AACpB,aAAO,WAAP;AACD;;AAED,IAAA,iBAAiB,GAAA;AACf,UAAI,KAAK,KAAL,CAAW,MAAf,EAAuB;AACrB,aAAK,OAAL;AACD;AACF;;AAED,IAAA,oBAAoB,GAAA;AAClB,UAAI,KAAK,OAAT,EAAkB;AAAE,aAAK,OAAL,CAAa,OAAb;AAAyB;AAC9C;;AAED,IAAA,aAAa,CAAC,KAAD,EAA4C;AACvD,UAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC3B,aAAK,KAAL,CAAW,YAAX,CAAwB,KAAxB;AACD;;AACD,UAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC1B,aAAK,KAAL,CAAW,YAAX,CAAgC,OAAhC,GAA0C,SAA1C;AACF;AACF;;AAED,UAAM,kBAAN,CAAyB,SAAzB,EAAyC;AACvC,UAAI,KAAK,OAAT,EAAkB;AAChB,QAAA,WAAW,CAAC,KAAK,OAAN,EAAe,KAAK,KAApB,EAA2B,SAA3B,CAAX;AACD;;AAED,UAAI,SAAS,CAAC,MAAV,KAAqB,KAAK,KAAL,CAAW,MAAhC,IAA0C,KAAK,KAAL,CAAW,MAAX,KAAsB,IAApE,EAA0E;AACxE,aAAK,OAAL,CAAa,SAAb;AACD;;AACD,UAAI,KAAK,OAAL,IAAgB,SAAS,CAAC,MAAV,KAAqB,KAAK,KAAL,CAAW,MAAhD,IAA0D,KAAK,KAAL,CAAW,MAAX,KAAsB,KAApF,EAA2F;AACzF,cAAM,KAAK,OAAL,CAAa,OAAb,EAAN;AACD;AACF;;AAED,UAAM,OAAN,CAAc,SAAd,EAA+B;YACvB,EAAA,GAA4F,KAAK,K;YAAhB,MAAM,GAAA,MAAA,CAAA,EAAA,EAAvF,CAAA,UAAA,EAAA,QAAA,EAAA,cAAA,EAAA,cAAA,EAAA,eAAA,EAAA,eAAA,CAAuF,C;;AAC7F,YAAM,YAAY,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACb,MADa,CAAA,EACP;AACT,QAAA,GAAG,EAAE,KAAK,KAAL,CAAW,YADP;AAET,SAAC,mBAAD,GAAuB,KAAK,aAFnB;AAGT,SAAC,mBAAD,GAAwB,CAAD,IAAoB,KAAK,KAAL,CAAW,YAAX,IAA2B,KAAK,KAAL,CAAW,YAAX,CAAwB,CAAxB,CAH7D;AAIT,SAAC,oBAAD,GAAyB,CAAD,IAAoB,KAAK,KAAL,CAAW,aAAX,IAA4B,KAAK,KAAL,CAAW,aAAX,CAAyB,CAAzB,CAJ/D;AAKT,SAAC,oBAAD,GAAyB,CAAD,IAAoB,KAAK,KAAL,CAAW,aAAX,IAA4B,KAAK,KAAL,CAAW,aAAX,CAAyB,CAAzB;AAL/D,OADO,CAAlB;AASA,WAAK,OAAL,GAAe,MAAM,UAAU,CAAC,MAAX,CAAiB,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACjC,YADiC,CAAA,EACrB;AACf,QAAA,SAAS,EAAE,KAAK,EADD;AAEf,QAAA,cAAc,EAAE;AAFD,OADqB,CAAjB,CAArB;;AAMA,UAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAC1B,aAAK,KAAL,CAAW,YAAX,CAAgC,OAAhC,GAA0C,KAAK,OAA/C;AACF;;AAED,MAAA,WAAW,CAAC,KAAK,OAAN,EAAe,YAAf,EAA6B,SAA7B,CAAX;AAEA,YAAM,KAAK,OAAL,CAAa,OAAb,EAAN;AACD;;AAED,IAAA,MAAM,GAAA;AACJ,aAAOC,QAAQ,CAAC,YAATA,CACL,KAAK,KAAL,CAAW,MAAX,GAAoB,KAAK,KAAL,CAAW,QAA/B,GAA0C,IADrCA,EAEL,KAAK,EAFAA,CAAP;AAID;;AA/EyC;;AAkF5C,SAAO,KAAK,CAAC,UAAN,CAAqC,CAAC,KAAD,EAAQ,GAAR,KAAW;AACrD,WAAO,KAAA,CAAA,aAAA,CAAC,OAAD,EAAQ,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAL,EAAU;AAAE,MAAA,YAAY,EAAE;AAAhB,KAAV,CAAR,CAAP;AACD,GAFM,CAAP;AAGD,CAlGM;;ACLP,MAAM,qBAAqB,GAAG;AAC5B,EAAA,MAAM,EAAG,OAAD,IAAiCC,uBAAyB,CAAC,MAA1BA,CAAiC,OAAjCA,CADb;AAE5B,EAAA,OAAO,EAAE,CAAC,IAAD,EAAa,IAAb,EAAwC,EAAxC,KAAoEA,uBAAyB,CAAC,OAA1BA,CAAkC,IAAlCA,EAAwC,IAAxCA,EAA8C,EAA9CA,CAFjD;AAG5B,EAAA,MAAM,EAAE,MAAMA,uBAAyB,CAAC,MAA1BA;AAHc,CAA9B;MAMa,cAAc,GAAA,aAAgB,sBAAsB,CAAgD,gBAAhD,EAAkE,qBAAlE,C;MCbpD,QAAQ,GAAA,aAAgB,sBAAsB,CAAyC,UAAzC,EAAqD,eAArD,C;MCA9C,UAAU,GAAA,aAAgB,sBAAsB,CAA6C,YAA7C,EAA2D,iBAA3D,C;MCChD,YAAY,GAAG,KAAK,CAAC,aAAN,CAAuC;AACjE,EAAA,eAAe,EAAE,MAAM,SAD0C;AAEjE,EAAA,UAAU,EAAE,MAAM;AAF+C,CAAvC,C;;MCKf,W,SAAoB,KAAK,CAAC,a,CAA+B;AAKpE,EAAA,WAAA,CAAY,KAAZ,EAAmC;AACjC,UAAM,KAAN;AACA,SAAK,iBAAL,GAAyB,KAAK,KAAL,CAAW,YAAX,IAA2B,KAAK,CAAC,SAAN,EAApD;AACD;;AAED,EAAA,iBAAiB,GAAA;AACf,QAAI,KAAK,iBAAL,CAAuB,OAA3B,EAAoC;AAClC,WAAK,OAAL,CAAa,eAAb,CAA6B,KAAK,iBAAL,CAAuB,OAApD,EAA6D,KAAK,KAAL,CAAW,SAAxE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,gBAA/B,CAAgD,kBAAhD,EAAoE,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAApE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,gBAA/B,CAAgD,iBAAhD,EAAmE,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAnE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,gBAA/B,CAAgD,kBAAhD,EAAoE,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAApE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,gBAA/B,CAAgD,iBAAhD,EAAmE,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAnE;AACD;AACF;;AAED,EAAA,oBAAoB,GAAA;AAClB,QAAI,KAAK,iBAAL,CAAuB,OAA3B,EAAoC;AAClC,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,mBAA/B,CAAmD,kBAAnD,EAAuE,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAAvE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,mBAA/B,CAAmD,iBAAnD,EAAsE,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAtE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,mBAA/B,CAAmD,kBAAnD,EAAuE,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAAvE;AACA,WAAK,iBAAL,CAAuB,OAAvB,CAA+B,mBAA/B,CAAmD,iBAAnD,EAAsE,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAtE;AACD;AACF;;AAED,EAAA,uBAAuB,GAAA;AACrB,SAAK,mBAAL,CAAyB,gBAAzB;AACD;;AAED,EAAA,sBAAsB,GAAA;AACpB,SAAK,mBAAL,CAAyB,eAAzB;AACD;;AAED,EAAA,uBAAuB,GAAA;AACrB,SAAK,mBAAL,CAAyB,gBAAzB;AACD;;AAED,EAAA,sBAAsB,GAAA;AACpB,SAAK,mBAAL,CAAyB,eAAzB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM,EAAA,GAA6D,KAAK,KAAxE;AAAA,UAAM;AAAE,MAAA,SAAF;AAAa,MAAA,QAAb;AAAuB,MAAA,SAAvB;AAAkC,MAAA;AAAlC,QAA8C,EAApD;AAAA,UAAyD,KAAK,GAAA,MAAA,CAAA,EAAA,EAAxD,CAAA,WAAA,EAAA,UAAA,EAAA,WAAA,EAAA,cAAA,CAAwD,CAA9D;;AAEA,WACE,KAAA,CAAA,aAAA,CAAC,mBAAmB,CAAC,QAArB,EAA6B,IAA7B,EACG,OAAO,IAAA;AACN,WAAK,mBAAL,GAA2B,OAA3B;AACA,YAAM,aAAa,GAAG,KAAK,OAAL,CAAa,UAAb,KAA4B,oBAA5B,GAAmD,EAAzE;AACA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AACE,QAAA,SAAS,EAAE,SAAS,GAAG,GAAG,SAAS,aAAa,aAAa,EAAzC,GAA8C,YAAY,aAAa,EAD7F;AAEE,QAAA,GAAG,EAAE,KAAK;AAFZ,OAAA,EAGM,KAHN,CAAA,EAKG,QALH,CADF;AASD,KAbH,CADF;AAiBD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,YAAP;AACD;;AArEmE;;ACCtE,MAAM,eAAN,SAA8B,KAAK,CAAC,SAApC,CAAmE;AAGjE,EAAA,WAAA,CAAY,KAAZ,EAAuC;AACrC,UAAM,KAAN;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM,EAAA,GAAkD,KAAK,KAA7D;AAAA,UAAM;AAAE,MAAA,SAAF;AAAa,MAAA,QAAb;AAAuB,MAAA;AAAvB,QAAmC,EAAzC;AAAA,UAA8C,KAAK,GAAA,MAAA,CAAA,EAAA,EAA7C,CAAA,WAAA,EAAA,UAAA,EAAA,cAAA,CAA6C,CAAnD;;AAEA,WACE,KAAK,OAAL,CAAa,cAAb,KACE,KAAA,CAAA,aAAA,CAAC,WAAD,EAAY,MAAA,CAAA,MAAA,CAAA;AACV,MAAA,SAAS,EAAE,SAAS,GAAG,GAAG,SAAS,EAAf,GAAoB,EAD9B;AAEV,MAAA,SAAS,EAAE,KAAK,OAAL,CAAa,SAFd;AAGV,MAAA,YAAY,EAAE;AAHJ,KAAA,EAIN,KAJM,CAAZ,EAMG,QANH,CADF,GAUI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,MAAA,SAAS,EAAE,SAAS,GAAG,YAAY,SAAS,EAAxB,GAA6B,UAAtD;AAAkE,MAAA,GAAG,EAAE;AAAvE,KAAA,EAAyF,KAAzF,CAAA,EACG,QADH,CAXN;AAgBD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,SAAP;AACD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AAlCgE;;MAqCtD,OAAO,GAAG,gBAAgB,CAAC,eAAD,EAAkB,SAAlB,C;MC7C1B,cAAc,GAAG,KAAK,CAAC,aAAN,CAAyC;AACrE,EAAA,SAAS,EAAE,SAD0D;AAErE,EAAA,SAAS,EAAE,MAAM;AAFoD,CAAzC,C;ACFvB,MAAM,iBAAiB,GAAA,aAAgB,oBAAoB,CAAkG,gBAAlG,CAA3D;AACA,MAAM,cAAc,GAAA,aAAgB,oBAAoB,CAAsC,aAAtC,CAAxD;AACA,MAAM,kBAAkB,GAAA,aAAgB,oBAAoB,CAA4D,iBAA5D,CAA5D;AACA,MAAM,oBAAoB,GAAA,aAAgB,oBAAoB,CAGtC,mBAHsC,CAA9D,C,CAKP;;AACO,MAAM,YAAY,GAAA,aAAgB,oBAAoB,CAA0C,UAA1C,CAAtD;;MCEM,iB,SAA0B,KAAK,CAAC,S,CAAiC;AAK5E,EAAA,WAAA,CAAY,KAAZ,EAAyC;AACvC,UAAM,KAAN;AACD;;AAED,EAAA,iBAAiB,GAAA;AACf,QAAI,KAAK,eAAT,EAA0B;AACxB,MAAA,UAAU,CAAC,MAAA;AACT,aAAK,OAAL,CAAa,eAAb,CAA6B,KAAK,eAAlC,EAAoD,KAAK,KAAL,CAAW,SAA/D;AACD,OAFS,EAEP,EAFO,CAAV;AAIA,WAAK,eAAL,CAAqB,gBAArB,CAAsC,kBAAtC,EAA0D,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAA1D;AACA,WAAK,eAAL,CAAqB,gBAArB,CAAsC,iBAAtC,EAAyD,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAzD;AACA,WAAK,eAAL,CAAqB,gBAArB,CAAsC,kBAAtC,EAA0D,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAA1D;AACA,WAAK,eAAL,CAAqB,gBAArB,CAAsC,iBAAtC,EAAyD,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAAzD;AACD;AACF;;AAED,EAAA,oBAAoB,GAAA;AAClB,QAAI,KAAK,eAAT,EAA0B;AACxB,WAAK,eAAL,CAAqB,mBAArB,CAAyC,kBAAzC,EAA6D,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAA7D;AACA,WAAK,eAAL,CAAqB,mBAArB,CAAyC,iBAAzC,EAA4D,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAA5D;AACA,WAAK,eAAL,CAAqB,mBAArB,CAAyC,kBAAzC,EAA6D,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAA7D;AACA,WAAK,eAAL,CAAqB,mBAArB,CAAyC,iBAAzC,EAA4D,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAA5D;AACD;AACF;;AAED,EAAA,uBAAuB,GAAA;AACrB,SAAK,mBAAL,CAAyB,gBAAzB;AACD;;AAED,EAAA,sBAAsB,GAAA;AACpB,SAAK,mBAAL,CAAyB,eAAzB;AACD;;AAED,EAAA,uBAAuB,GAAA;AACrB,SAAK,mBAAL,CAAyB,gBAAzB;AACD;;AAED,EAAA,sBAAsB,GAAA;AACpB,SAAK,mBAAL,CAAyB,eAAzB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM,EAAA,GAAkD,KAAK,KAA7D;AAAA,UAAM;AAAE,MAAA,YAAF;AAAgB,MAAA,QAAhB;AAA0B,MAAA;AAA1B,QAAmC,EAAzC;AAAA,UAA8C,KAAK,GAAA,MAAA,CAAA,EAAA,EAA7C,CAAA,cAAA,EAAA,UAAA,EAAA,WAAA,CAA6C,CAAnD;;AACA,WACE,KAAA,CAAA,aAAA,CAAC,mBAAmB,CAAC,QAArB,EAA6B,IAA7B,EACG,OAAO,IAAA;AACN,WAAK,mBAAL,GAA2B,OAA3B;AACA,aACE,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa;AAAC,QAAA,SAAS,EAAE;AAAZ,OAAb,EACE,KAAA,CAAA,aAAA,CAAC,oBAAD,EAAqB,MAAA,CAAA,MAAA,CAAA;AAAC,QAAA,MAAM,EAAG,GAAD,IAAqC,KAAK,eAAL,GAAuB;AAArE,OAAA,EAA8E,KAA9E,CAArB,EACG,QADH,CADF,CADF;AAOD,KAVH,CADF;AAcD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,YAAP;AACD;;AAnE2E;;ACQ9E,MAAM,wBAAN,SAAuC,KAAK,CAAC,SAA7C,CAAoF;AAGlF,EAAA,WAAA,CAAY,KAAZ,EAAgC;AAC9B,UAAM,KAAN;AACD;;AAED,EAAA,MAAM,GAAA;AAEJ,UAAM,YAAY,GAAG,KAAK,OAAL,CAAa,eAAb,EAArB;;AACA,UAAM,EAAA,GAAuC,KAAK,KAAlD;AAAA,UAAM;AAAE,MAAA,QAAF;AAAY,MAAA;AAAZ,QAAwB,EAA9B;AAAA,UAAmC,KAAK,GAAA,MAAA,CAAA,EAAA,EAAlC,CAAA,UAAA,EAAA,cAAA,CAAkC,CAAxC;;AAEA,WACE,KAAK,OAAL,CAAa,cAAb,KACE,KAAK,CAAC,OAAN,GACE,KAAA,CAAA,aAAA,CAAC,iBAAD,EAAkB,MAAA,CAAA,MAAA,CAAA;AAChB,MAAA,YAAY,EAAE,YADE;AAEhB,MAAA,SAAS,EAAE,KAAK,OAAL,CAAa;AAFR,KAAA,EAGZ,KAHY,CAAlB,EAKG,QALH,CADF,GASI,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa;AAAC,MAAA,SAAS,EAAE,KAAK,OAAL,CAAa;AAAzB,KAAb,EACE,KAAA,CAAA,aAAA,CAAC,oBAAD,EAAqB,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAL,EAAU;AAAE,MAAA,YAAY,EAAE;AAAhB,KAAV,CAArB,EACG,QADH,CADF,CAVN,GAiBI,KAAA,CAAA,aAAA,CAAC,oBAAD,EAAqB,MAAA,CAAA,MAAA,CAAA;AAAC,MAAA,GAAG,EAAE;AAAN,KAAA,EAAwB,KAAK,KAA7B,CAArB,EACG,KAAK,KAAL,CAAW,QADd,CAlBN;AAuBD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AAvCiF;;MA0CvE,eAAe,GAAG,gBAAgB,CAAsD,wBAAtD,EAAgF,iBAAhF,C;;MCrDlC,Y,SAAqB,KAAK,CAAC,S,CAAgB;AAEtD,EAAA,WAAA,CAAY,KAAZ,EAAwB;AACtB,UAAM,KAAN;AACA,SAAK,uBAAL,GAA+B,KAAK,uBAAL,CAA6B,IAA7B,CAAkC,IAAlC,CAA/B;AACD;;AAED,EAAA,uBAAuB,GAAA;AACrB,QAAI,KAAK,KAAL,CAAW,OAAf,EAAwB;AACtB,WAAK,KAAL,CAAW,OAAX,CAAmB,IAAI,WAAJ,CAAgB,mBAAhB,EAAqC;AACtD,QAAA,MAAM,EAAE;AAAE,UAAA,GAAG,EAAE,KAAK,KAAL,CAAW,GAAlB;AAAuB,UAAA,IAAI,EAAE,KAAK,KAAL,CAAW,IAAxC;AAA8C,UAAA,YAAY,EAAE,KAAK,KAAL,CAAW;AAAvE;AAD8C,OAArC,CAAnB;AAGD;AACF;;AAED,EAAA,MAAM,GAAA;UACE,EAAA,GAAuB,KAAK,K;UAAd,IAAI,GAAA,MAAA,CAAA,EAAA,EAAlB,CAAA,SAAA,CAAkB,C;;AACxB,WACE,KAAA,CAAA,aAAA,CAAC,iBAAD,EAAkB,MAAA,CAAA,MAAA,CAAA;AAAC,MAAA,mBAAmB,EAAE,KAAK;AAA3B,KAAA,EAAwD,IAAxD,CAAlB,CADF;AAGD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,cAAP;AACD;;AAxBqD;;ACuBxD,MAAM,kBAAN,SAAiC,KAAK,CAAC,aAAvC,CAAmF;AAGjF,EAAA,WAAA,CAAY,KAAZ,EAAgC;AAC9B,UAAM,KAAN;;AA+BF,SAAA,qBAAA,GAAyB,IAAD,IAAa,CAAQ,CAA7C;;AA9BE,UAAM,IAAI,GAAgC,EAA1C;AACA,IAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAwB,KAAa,CAAC,QAAtC,EAAiD,KAAD,IAAW;;;AACzD,UAAI,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,QAAlC,IAA8C,KAAK,CAAC,KAApD,IAA6D,KAAK,CAAC,IAAN,KAAe,YAAhF,EAA8F;AAC5F,QAAA,IAAI,CAAC,KAAK,CAAC,KAAN,CAAY,GAAb,CAAJ,GAAwB;AACtB,UAAA,YAAY,EAAE,KAAK,CAAC,KAAN,CAAY,IADJ;AAEtB,UAAA,WAAW,EAAE,KAAK,CAAC,KAAN,CAAY,IAFH;AAGtB,UAAA,oBAAoB,EAAE,KAAK,CAAC,KAAN,CAAY,IAAZ,MAAgB,CAAA,EAAA,GAAK,KAAK,CAAC,SAAX,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,QAAtC,IAA8C,CAAA,EAAA,GAAG,KAAK,CAAC,SAAT,MAAkB,IAAlB,IAAkB,EAAA,KAAA,KAAA,CAAlB,GAAkB,KAAA,CAAlB,GAAkB,EAAA,CAAE,YAAlE,GAAiF,SAHjF;AAItB,UAAA,mBAAmB,EAAE,KAAK,CAAC,KAAN,CAAY,IAAZ,MAAgB,CAAA,EAAA,GAAK,KAAK,CAAC,SAAX,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,QAAtC,IAA8C,CAAA,EAAA,GAAG,KAAK,CAAC,SAAT,MAAkB,IAAlB,IAAkB,EAAA,KAAA,KAAA,CAAlB,GAAkB,KAAA,CAAlB,GAAkB,EAAA,CAAE,YAAlE,GAAiF;AAJhF,SAAxB;AAMD;AACF,KATD;AAWA,UAAM,OAAO,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,CAAhB;AACA,UAAM,SAAS,GAAG,OAAO,CACtB,IADe,CACV,GAAG,IAAA;AACP,YAAM,IAAI,GAAG,IAAI,CAAC,GAAD,CAAJ,CAAU,YAAvB;AACA,aAAO,KAAK,CAAC,SAAN,CAAiB,QAAjB,CAA0B,UAA1B,CAAqC,IAArC,CAAP;AACD,KAJe,KAIV,OAAO,CAAC,CAAD,CAJf;AAMA,SAAK,KAAL,GAAa;AACX,MAAA,SADW;AAEX,MAAA;AAFW,KAAb;AAKA,SAAK,gBAAL,GAAwB,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAK,eAAL,GAAuB,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAK,qBAAL,GAA6B,KAAK,qBAAL,CAA2B,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAK,SAAL,GAAiB,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAID,EAAA,SAAS,CAAC,GAAD,EAAY;AACnB,UAAM,MAAM,GAAG,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAf;;AACA,QAAI,MAAJ,EAAY;AACV,WAAK,gBAAL,CAAsB,IAAI,WAAJ,CAAgB,mBAAhB,EAAqC;AACzD,QAAA,MAAM,EAAE;AACN,UAAA,IAAI,EAAE,MAAM,CAAC,WADP;AAEN,UAAA,GAFM;AAGN,UAAA,QAAQ,EAAE,GAAG,KAAK,KAAK,KAAL,CAAW,SAHvB;AAIN,UAAA,YAAY,EAAE;AAJR;AADiD,OAArC,CAAtB;AAQA,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD;;AAED,SAAO,wBAAP,CAAgC,KAAhC,EAAsD,KAAtD,EAA2E;;;AACzE,UAAM,IAAI,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAQ,KAAK,CAAC,IAAd,CAAV;AACA,UAAM,OAAO,GAAG,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,IAAlB,CAAhB;AACA,UAAM,SAAS,GAAG,OAAO,CACtB,IADe,CACV,GAAG,IAAA;AACP,YAAM,IAAI,GAAG,KAAK,CAAC,IAAN,CAAW,GAAX,EAAgB,YAA7B;AACA,aAAO,KAAK,CAAC,SAAN,CAAiB,QAAjB,CAA0B,UAA1B,CAAqC,IAArC,CAAP;AACD,KAJe,KAIV,OAAO,CAAC,CAAD,CAJf,CAHyE,C;;AAUzE,IAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAwB,KAAa,CAAC,QAAtC,EAAiD,KAAD,IAAW;AACzD,UAAI,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,QAAlC,IAA8C,KAAK,CAAC,KAApD,IAA6D,KAAK,CAAC,IAAN,KAAe,YAAhF,EAA8F;AAC5F,cAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAN,CAAY,GAAb,CAAhB;;AACA,YAAI,CAAC,GAAD,IAAS,GAAG,CAAC,YAAJ,KAAqB,KAAK,CAAC,KAAN,CAAY,IAA9C,EAAqD;AACnD,UAAA,IAAI,CAAC,KAAK,CAAC,KAAN,CAAY,GAAb,CAAJ,GAAwB;AACtB,YAAA,YAAY,EAAE,KAAK,CAAC,KAAN,CAAY,IADJ;AAEtB,YAAA,WAAW,EAAE,KAAK,CAAC,KAAN,CAAY,IAFH;AAGtB,YAAA,oBAAoB,EAAE,KAAK,CAAC,KAAN,CAAY,YAHZ;AAItB,YAAA,mBAAmB,EAAE,KAAK,CAAC,KAAN,CAAY;AAJX,WAAxB;AAMD;AACF;AACF,KAZD;AAaA,UAAM;AAAE,MAAA,SAAS,EAAE;AAAb,QAA+B,KAArC;;AACA,QAAI,SAAS,IAAI,aAAjB,EAAgC;AAC9B,YAAM,QAAQ,GAAG,KAAK,CAAC,IAAN,CAAW,aAAX,EAA0B,WAA3C;AACA,YAAM,gBAAgB,GAAG,KAAK,CAAC,IAAN,CAAW,aAAX,EAA0B,mBAAnD;;AACA,UAAI,SAAS,KAAK,aAAd,IAAgC,QAAQ,MAAA,CAAA,EAAA,GAAK,KAAK,CAAC,SAAX,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,QAAtB,CAAR,IAA0C,gBAAgB,MAAA,CAAA,EAAA,GAAK,KAAK,CAAC,SAAX,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,YAAtB,CAA9F,EAAmI;AACjI,QAAA,IAAI,CAAC,SAAD,CAAJ,GAAkB;AAChB,UAAA,YAAY,EAAE,IAAI,CAAC,SAAD,CAAJ,CAAgB,YADd;AAEhB,UAAA,WAAW,EAAE,KAAK,CAAC,SAAN,CAAiB,QAAjB,IAA6B,KAAK,CAAC,SAAN,CAAiB,MAAjB,IAA2B,EAAxD,CAFG;AAGhB,UAAA,oBAAoB,EAAE,IAAI,CAAC,SAAD,CAAJ,CAAgB,oBAHtB;AAIhB,UAAA,mBAAmB,EAAA,CAAA,EAAA,GAAE,KAAK,CAAC,SAAR,MAAiB,IAAjB,IAAiB,EAAA,KAAA,KAAA,CAAjB,GAAiB,KAAA,CAAjB,GAAiB,EAAA,CAAE;AAJtB,SAAlB;;AAMA,YAAI,KAAK,CAAC,SAAN,CAAgB,WAAhB,KAAgC,KAApC,EAA2C;;AAEzC,UAAA,IAAI,CAAC,aAAD,CAAJ,GAAsB;AACpB,YAAA,YAAY,EAAE,IAAI,CAAC,aAAD,CAAJ,CAAoB,YADd;AAEpB,YAAA,WAAW,EAAE,IAAI,CAAC,aAAD,CAAJ,CAAoB,YAFb;AAGpB,YAAA,oBAAoB,EAAE,IAAI,CAAC,aAAD,CAAJ,CAAoB,oBAHtB;AAIpB,YAAA,mBAAmB,EAAE,IAAI,CAAC,aAAD,CAAJ,CAAoB;AAJrB,WAAtB;AAMD;AACF;AACF;;AAED,IAAA,SAAS,IAAI,KAAK,CAAC,eAAN,CAAsB,SAAtB,EAAiC,KAAK,CAAC,SAAvC,CAAb;AAEA,WAAO;AACL,MAAA,SADK;AAEL,MAAA;AAFK,KAAP;AAID;;AAEO,EAAA,gBAAgB,CAAC,CAAD,EAAyF;AAC/G,UAAM,SAAS,GAAG,KAAK,KAAL,CAAW,IAAX,CAAgB,CAAC,CAAC,MAAF,CAAS,GAAzB,CAAlB;AACA,UAAM,YAAY,GAAG,SAAS,CAAC,YAA/B;AACA,UAAM,WAAW,GAAG,CAAC,CAAC,MAAF,CAAS,IAA7B;AACA,UAAM;AAAE,MAAA,SAAS,EAAE;AAAb,QAA+B,KAAK,KAA1C,CAJ+G,C;;;AAO/G,QAAI,aAAa,KAAK,CAAC,CAAC,MAAF,CAAS,GAA/B,EAAoC;AAClC,UAAI,YAAY,KAAK,WAArB,EAAkC;AAChC,aAAK,OAAL,CAAa,QAAb,CAAsB,CAAC,CAAC,MAAF,CAAS,GAA/B,EAAoC,YAApC,EAAkD,SAAS,CAAC,oBAA5D;AACD;AACF,KAJD,MAIO;AACL,UAAI,KAAK,KAAL,CAAW,mBAAf,EAAoC;AAClC,aAAK,KAAL,CAAW,mBAAX,CAA+B,IAAI,WAAJ,CAAgB,kBAAhB,EAAoC;AAAE,UAAA,MAAM,EAAE;AAAE,YAAA,GAAG,EAAE,CAAC,CAAC,MAAF,CAAS;AAAhB;AAAV,SAApC,CAA/B;AACD;;AACD,UAAI,KAAK,KAAL,CAAW,kBAAf,EAAmC;AACjC,aAAK,KAAL,CAAW,kBAAX,CAA8B,IAAI,WAAJ,CAAgB,iBAAhB,EAAmC;AAAE,UAAA,MAAM,EAAE;AAAE,YAAA,GAAG,EAAE,CAAC,CAAC,MAAF,CAAS;AAAhB;AAAV,SAAnC,CAA9B;AACD;;AACD,WAAK,qBAAL,CAA2B,CAAC,CAAC,MAAF,CAAS,GAApC;AACA,WAAK,OAAL,CAAa,SAAb,CAAuB,CAAC,CAAC,MAAF,CAAS,GAAhC,EAAqC,WAArC,EAAkD,CAAC,CAAC,MAAF,CAAS,YAA3D;AACD;AACF;;AAEO,EAAA,eAAe,CAAC,SAAD,EAAqC;AAE1D,WAAQ,KAAD,IAA+H;;;AACpI,UAAI,KAAK,IAAI,IAAT,IAAiB,KAAK,CAAC,KAAvB,IAAgC,KAAK,CAAC,IAAN,KAAe,YAAnD,EAAiE;AAC/D,cAAM,IAAI,GAAI,KAAK,CAAC,KAAN,CAAY,GAAZ,KAAoB,SAArB,GAA8B,CAAA,EAAA,GAAI,KAAK,KAAL,CAAW,SAAf,MAAwB,IAAxB,IAAwB,EAAA,KAAA,KAAA,CAAxB,GAAwB,KAAA,CAAxB,GAAwB,EAAA,CAAE,QAAxD,GAAoE,KAAK,KAAL,CAAW,IAAX,CAAgB,KAAK,CAAC,KAAN,CAAY,GAA5B,EAAkC,WAAnH;AACA,cAAM,YAAY,GAAI,KAAK,CAAC,KAAN,CAAY,GAAZ,KAAoB,SAArB,GAA8B,CAAA,EAAA,GAAI,KAAK,KAAL,CAAW,SAAf,MAAwB,IAAxB,IAAwB,EAAA,KAAA,KAAA,CAAxB,GAAwB,KAAA,CAAxB,GAAwB,EAAA,CAAE,YAAxD,GAAwE,KAAK,KAAL,CAAW,IAAX,CAAgB,KAAK,CAAC,KAAN,CAAY,GAA5B,EAAkC,mBAA/H;AAEA,eAAO,KAAK,CAAC,YAAN,CAAmB,KAAnB,EAA0B;AAC/B,UAAA,IAD+B;AAE/B,UAAA,YAF+B;AAG/B,UAAA,OAAO,EAAE,KAAK;AAHiB,SAA1B,CAAP;AAKD;;AACD,aAAO,IAAP;AACD,KAZD;AAaD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM;AAAE,MAAA;AAAF,QAAgB,KAAK,KAA3B;AACA,WACE,KAAA,CAAA,aAAA,CAAC,cAAD,EAAe,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAK,KAAV,EAAe;AAAE,MAAA,WAAW,EAAE;AAAf,KAAf,CAAf,EACG,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,KAAK,KAAL,CAAW,QAA9B,EAA+C,KAAK,eAAL,CAAqB,SAArB,CAA/C,CADH,CADF;AAKD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AA9JgF;;AAiKnF,MAAM,kBAAkB,GAA4B,KAAK,CAAC,IAAN,CAA2B,EAAD,IAA2B;MAA1B;AAAE,IAAA;AAAF,MAAc,E;MAAK,KAAK,GAAA,MAAA,CAAA,EAAA,EAAxB,CAAA,cAAA,CAAwB,C;;AACrG,QAAM,OAAO,GAAG,UAAU,CAAC,UAAD,CAA1B;AACA,SACE,KAAA,CAAA,aAAA,CAAC,kBAAD,EAAmB,MAAA,CAAA,MAAA,CAAA;AACjB,IAAA,GAAG,EAAE;AADY,GAAA,EAEb,KAFa,EAED;AAChB,IAAA,SAAS,EAAE,KAAK,CAAC,SAAN,IAAmB,OAAO,CAAC,SAA3B,IAAwC;AAAE,MAAA,QAAQ,EAAE,MAAM,CAAC,QAAP,CAAgB;AAA5B,KADnC;AAEhB,IAAA,eAAe,EAAE,OAAO,CAAC;AAFT,GAFC,CAAnB,EAMG,KAAK,CAAC,QANT,CADF;AAUD,CAZmD,CAApD;MAca,SAAS,GAAG,gBAAgB,CAAuC,kBAAvC,EAA2D,WAA3D,C;;ACzMzC,MAAM,cAAN,SAA6B,WAA7B,CAAwC;AACtC,EAAA,WAAA,GAAA;AACE;AACD;;AAHqC;;AAMxC,IAAI,MAAM,IAAI,MAAM,CAAC,cAArB,EAAqC;AACnC,QAAM,OAAO,GAAG,cAAc,CAAC,GAAf,CAAmB,UAAnB,CAAhB;;AACA,MAAI,CAAC,OAAL,EAAc;AACZ,IAAA,cAAc,CAAC,MAAf,CAAsB,UAAtB,EAAkC,cAAlC;AACD;AACF;;AAiBD,MAAM,UAAU,GAAwB;AACtC,EAAA,OAAO,EAAE,MAD6B;AAEtC,EAAA,QAAQ,EAAE,UAF4B;AAGtC,EAAA,GAAG,EAAE,GAHiC;AAItC,EAAA,IAAI,EAAE,GAJgC;AAKtC,EAAA,KAAK,EAAE,GAL+B;AAMtC,EAAA,MAAM,EAAE,GAN8B;AAOtC,EAAA,aAAa,EAAE,QAPuB;AAQtC,EAAA,KAAK,EAAE,MAR+B;AAStC,EAAA,MAAM,EAAE,MAT8B;AAUtC,EAAA,OAAO,EAAE;AAV6B,CAAxC;AAaA,MAAM,SAAS,GAAwB;AACrC,EAAA,QAAQ,EAAE,UAD2B;AAErC,EAAA,IAAI,EAAE,CAF+B;AAGrC,EAAA,OAAO,EAAE;AAH4B,CAAvC;;MAMa,O,SAAgB,KAAK,CAAC,S,CAAgB;AAWjD,EAAA,WAAA,CAAY,KAAZ,EAAwB;AACtB,UAAM,KAAN;AAVF,SAAA,eAAA,GAAyD,KAAK,CAAC,SAAN,EAAzD;AAEA,SAAA,SAAA,GAAY,KAAK,CAAC,SAAN,EAAZ;AAEA,SAAA,kBAAA,GAA0C;AACxC,MAAA,SAAS,EAAE,SAD6B;AAExC,MAAA,SAAS,EAAE,MAAM;AAFuB,KAA1C;AAOC;;AAED,EAAA,iBAAiB,GAAA;AACf,QAAI,KAAK,SAAL,CAAe,OAAnB,EAA4B;;AAE1B,WAAK,kBAAL,CAAwB,SAAxB,GAAoC,KAAK,SAAL,CAAe,OAAf,CAAuB,KAAvB,CAA6B,SAAjE,CAF0B,C;;AAI1B,WAAK,SAAL,CAAe,OAAf,CAAuB,qBAAvB,GAAgD,GAAD,IAAY;AACzD,aAAK,kBAAL,CAAwB,SAAxB,GAAoC,GAApC;AACD,OAFD;;AAGA,WAAK,kBAAL,CAAwB,SAAxB,GAAoC,KAAK,SAAL,CAAe,OAAf,CAAuB,SAA3D;AACD;AACF;;AAED,EAAA,MAAM,GAAA;AACJ,QAAI,MAAJ;AACA,QAAI,MAAJ;AAEA,UAAM,QAAQ,GAAG,OAAO,KAAK,KAAL,CAAW,QAAlB,KAA+B,UAA/B,GACd,KAAK,KAAL,CAAW,QAAX,CAAsC,KAAK,kBAA3C,CADc,GACmD,KAAK,KAAL,CAAW,QAD/E;AAGA,IAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,QAAvB,EAAkC,KAAD,IAAW;AAC1C,UAAI,KAAK,IAAI,IAAT,IAAiB,OAAO,KAAP,KAAiB,QAAlC,IAA8C,CAAC,KAAK,CAAC,cAAN,CAAqB,MAArB,CAAnD,EAAiF;AAC/E;AACD;;AACD,UAAI,KAAK,CAAC,IAAN,KAAe,eAAnB,EAAoC;AAClC,QAAA,MAAM,GAAG,KAAK,CAAC,YAAN,CAAmB,KAAnB,EAA0B;AAAE,UAAA,IAAI,EAAE;AAAR,SAA1B,CAAT;AACD,OAFD,MAEO,IAAI,KAAK,CAAC,IAAN,KAAe,QAAf,IAA2B,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,CAArB,EAAwB,IAAxB,KAAiC,eAAhE,EAAiF;AACtF,QAAA,MAAM,GAAG,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,CAArB,CAAT;AACD;;AACD,UAAI,KAAK,CAAC,IAAN,KAAe,SAAnB,EAA8B;AAC5B,cAAM;AAAE,UAAA,kBAAF;AAAsB,UAAA;AAAtB,YAA8C,KAAK,KAAzD;AACA,QAAA,MAAM,GAAG,KAAK,CAAC,YAAN,CAAmB,KAAnB,EAA0B;AACjC,UAAA,kBADiC;AAEjC,UAAA,mBAFiC;AAGjC,UAAA,GAAG,EAAE,KAAK;AAHuB,SAA1B,CAAT;AAKD,OAPD,MAOO,IAAI,KAAK,CAAC,IAAN,KAAe,QAAf,IAA2B,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,CAArB,EAAwB,IAAxB,KAAiC,SAAhE,EAA2E;AAChF,cAAM;AAAE,UAAA,kBAAF;AAAsB,UAAA;AAAtB,YAA8C,KAAK,KAAzD;AACA,QAAA,MAAM,GAAG,KAAK,CAAC,YAAN,CAAmB,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,CAArB,CAAnB,EAA4C;AACnD,UAAA,kBADmD;AAEnD,UAAA,mBAFmD;AAGnD,UAAA,GAAG,EAAE,KAAK;AAHyC,SAA5C,CAAT;AAKD;AACF,KAxBD;;AA0BA,QAAI,CAAC,MAAL,EAAa;AACX,YAAM,IAAI,KAAJ,CAAU,yCAAV,CAAN;AACD;;AACD,QAAI,CAAC,MAAL,EAAa;AACX,YAAM,IAAI,KAAJ,CAAU,2BAAV,CAAN;AACD;;AAED,UAAM,EAAA,GAA0B,KAAK,KAArC;AAAA,UAAM;AAAE,MAAA;AAAF,QAAW,EAAjB;AAAA,UAAsB,KAAK,GAAA,MAAA,CAAA,EAAA,EAArB,CAAA,WAAA,CAAqB,CAA3B;;AAEA,WACE,KAAA,CAAA,aAAA,CAAC,cAAc,CAAC,QAAhB,EAAwB;AACtB,MAAA,KAAK,EAAE,KAAK;AADU,KAAxB,EAGG,KAAK,OAAL,CAAa,cAAb,KACC,KAAA,CAAA,aAAA,CAAC,WAAD,EAAY,MAAA,CAAA,MAAA,CAAA;AAAC,MAAA,SAAS,EAAE,SAAS,GAAG,GAAG,SAAS,EAAf,GAAoB,EAAzC;AAA6C,MAAA,SAAS,EAAE,KAAK,OAAL,CAAa;AAArE,KAAA,EAAoF,KAApF,CAAZ,EACE,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA;AAAU,MAAA,SAAS,EAAC,UAApB;AAA+B,MAAA,KAAK,EAAE;AAAtC,KAAA,EACG,MAAM,CAAC,KAAP,CAAa,IAAb,KAAsB,KAAtB,GAA8B,MAA9B,GAAuC,IAD1C,EAEE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAE,SAAZ;AAAuB,MAAA,SAAS,EAAC;AAAjC,KAAA,EACG,MADH,CAFF,EAKG,MAAM,CAAC,KAAP,CAAa,IAAb,KAAsB,QAAtB,GAAiC,MAAjC,GAA0C,IAL7C,CADF,CADD,GAWG,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,MAAA,SAAS,EAAE,SAAS,GAAG,GAAG,SAAS,EAAf,GAAoB;AAA7C,KAAA,EAA6D,KAA7D,EAAkE;AAAE,MAAA,KAAK,EAAE;AAAT,KAAlE,CAAA,EACG,MAAM,CAAC,KAAP,CAAa,IAAb,KAAsB,KAAtB,GAA8B,MAA9B,GAAuC,IAD1C,EAEE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAE,SAAZ;AAAuB,MAAA,SAAS,EAAC;AAAjC,KAAA,EACG,MADH,CAFF,EAKG,MAAM,CAAC,KAAP,CAAa,IAAb,KAAsB,QAAtB,GAAiC,MAAjC,GAA0C,IAL7C,CAdN,CADF;AAyBD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AAlGgD;;MC1CtC,aAAa,GAAA,aAAgB,CAAC,MAAM,cAAc,KAAK,CAAC,SAApB,CAAoC;AAApC,EAAA,WAAA,GAAA;;;AAG/C,SAAA,WAAA,GAAe,CAAD,IAAoB;AAChC,YAAM;AAAE,QAAA,WAAF;AAAe,QAAA;AAAf,UAAmC,KAAK,KAA9C;;AACA,UAAI,KAAK,OAAL,CAAa,cAAb,EAAJ,EAAmC;AACjC,QAAA,CAAC,CAAC,eAAF;AACA,aAAK,OAAL,CAAa,MAAb,CAAoB,WAApB,EAAiC,eAAjC;AACD,OAHD,MAGO,IAAI,WAAW,KAAK,SAApB,EAA+B;AACpC,QAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,WAAvB;AACD;AACF,KARD;AAuBD;;AAbC,EAAA,MAAM,GAAA;AACJ,WACE,KAAA,CAAA,aAAA,CAAC,kBAAD,EAAmB,MAAA,CAAA,MAAA,CAAA;AAAC,MAAA,OAAO,EAAE,KAAK;AAAf,KAAA,EAAgC,KAAK,KAArC,CAAnB,CADF;AAGD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,eAAP;AACD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AAzBkF,CAA3C,G;;ACfnC,MAAM,SAAS,GAAG,MAAA;AACvB,SAAO,OAAO,IAAI,OAAO,CAAC,GAAnB,IAA0B,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,aAA1D;AACD,CAFM;;AAIP,MAAM,QAAQ,GAA+B,EAA7C;;AAEO,MAAM,kBAAkB,GAAG,CAAC,GAAD,EAAc,OAAd,KAA6B;AAC7D,MAAI,SAAS,EAAb,EAAiB;AACf,QAAI,CAAC,QAAQ,CAAC,GAAD,CAAb,EAAoB;AAClB,MAAA,OAAO,CAAC,IAAR,CAAa,OAAb;AACA,MAAA,QAAQ,CAAC,GAAD,CAAR,GAAgB,IAAhB;AACD;AACF;AACF,CAPM;;ACqBP,MAAM,gBAAN,SAA+B,KAAK,CAAC,aAArC,CAAiE;AAE/D,EAAA,WAAA,CAAY,KAAZ,EAAgC;AAC9B,UAAM,KAAN;;AACA,QAAI,KAAK,KAAL,CAAW,IAAf,EAAqB;AACnB,MAAA,kBAAkB,CAAC,WAAD,EAAc,yJAAd,CAAlB;AACD;AACF;;AAED,EAAA,MAAM,GAAA;;;AACJ,UAAM,EAAA,GAA6B,KAAK,KAAxC;AAAA,UAAM;AAAE,MAAA,IAAF;AAAQ,MAAA,GAAR;AAAa,MAAA;AAAb,QAAe,EAArB;AAAA,UAA0B,IAAI,GAAA,MAAA,CAAA,EAAA,EAAxB,CAAA,MAAA,EAAA,KAAA,EAAA,IAAA,CAAwB,CAA9B;;AAEA,QAAI,SAAJ;;AAEA,QAAI,GAAG,IAAI,EAAX,EAAe;AACb,UAAI,UAAU,CAAC,KAAD,CAAd,EAAuB;AACrB,QAAA,SAAS,GAAA,CAAA,EAAA,GAAG,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAA,GAAA,GAAO,EAAV,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,EAAZ,GAAgB,IAAzB;AACD,OAFD,MAEO;AACL,QAAA,SAAS,GAAA,CAAA,EAAA,GAAG,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAA,EAAA,GAAM,GAAT,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,EAAZ,GAAgB,IAAzB;AACD;AACF,KAND,MAMO;AACL,MAAA,SAAS,GAAG,IAAZ;AACD;;AAED,WACE,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa,MAAA,CAAA,MAAA,CAAA;AAAC,MAAA,GAAG,EAAE,KAAK,KAAL,CAAW,YAAjB;AAA+B,MAAA,IAAI,EAAE;AAArC,KAAA,EAAoD,IAApD,CAAb,EACG,KAAK,KAAL,CAAW,QADd,CADF;AAKD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AAjC8D;;MAoCpD,OAAO,GAAG,gBAAgB,CAAqD,gBAArD,EAAuE,SAAvE,C;;MC/C1B,Q,SAAiB,KAAK,CAAC,a,CAA2C;AAI7E,EAAA,MAAM,GAAA;AAEJ,UAAM,aAAa,GAAG,KAAK,OAAL,CAAa,WAAb,EAAtB;;AAEA,QAAI,CAAC,KAAK,OAAL,CAAa,cAAb,EAAD,IAAkC,CAAC,QAAvC,EAAiD;AAC/C,MAAA,OAAO,CAAC,KAAR,CAAc,kGAAd;AACA,aAAO,IAAP;AACD;;AAED,WACE,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAK,KAAV,CAAd,CADF;AAGD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AApB4E;;MCDlE,W,SAAoB,KAAK,CAAC,a,CAAiD;AAItF,EAAA,MAAM,GAAA;AAEJ,UAAM,gBAAgB,GAAG,KAAK,OAAL,CAAa,cAAb,EAAzB;;AAEA,QAAI,CAAC,KAAK,OAAL,CAAa,cAAb,EAAD,IAAkC,CAAC,WAAvC,EAAoD;AAClD,MAAA,OAAO,CAAC,KAAR,CAAc,qGAAd;AACA,aAAO,IAAP;AACD;;AAED,WACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAK,KAAV,CAAjB,CADF;AAGD;;AAED,aAAW,WAAX,GAAsB;AACpB,WAAO,UAAP;AACD;;AApBqF;;MCF3E,gBAAgB,GAAG,KAAK,CAAC,aAAN,CAA2C;AACzE,EAAA,SAAS,EAAE,SAD8D;AAEzE,EAAA,IAAI,EAAE,MAAA;AAAQ,UAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN;AAAsE,GAFX;AAGzE,EAAA,IAAI,EAAE,MAAA;AAAQ,UAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN;AAAsE,GAHX;AAIzE,EAAA,SAAS,EAAE,MAAA;AAAQ,UAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN;AAAsE;AAJhB,CAA3C,C;;SAOhB,Y,GAAY;AAC1B,QAAM,OAAO,GAAG,UAAU,CAAC,gBAAD,CAA1B;AACA,SAAO,OAAP;AACF;;MCuBa,e,SAAwB,KAAK,CAAC,a,CAAmC;AAI5E,EAAA,WAAA,CAAY,KAAZ,EAAsB;AACpB,UAAM,KAAN;AAJF,SAAA,KAAA,GAAkC,IAAI,GAAJ,EAAlC;AAME,SAAK,SAAL,GAAiB,eAAe,CAAC,KAAK,CAAC,EAAP,CAAhC;AACD;;AAED,EAAA,cAAc,CAAC,KAAD,EAAW;AACvB,UAAM,SAAS,GAAG,KAAK,SAAvB;;AAEA,QAAI,KAAK,KAAL,CAAW,IAAX,GAAkB,CAAtB,EAAyB;AACvB,MAAA,SAAS,CAAC,UAAV,CAAqB,KAAK,CAAC,IAAN,CAAW,KAAK,KAAL,CAAW,MAAX,EAAX,CAArB;AACD;;AAED,IAAA,WAAW,CAAC,SAAD,EAAY,KAAZ,CAAX;AACA,IAAA,aAAa,CAAC,SAAD,EAAY,KAAZ,CAAb;AACD;;AAED,EAAA,iBAAiB,GAAA;AACf,UAAM,KAAK,GAAG,KAAK,KAAnB;AACA,SAAK,cAAL,CAAoB,KAApB;AACD;;AAED,EAAA,kBAAkB,CAAC,SAAD,EAAe;AAC/B,UAAM,SAAS,GAAG,KAAK,SAAvB;AAEA,UAAM,KAAK,GAAG,KAAK,KAAnB;AAEA,IAAA,WAAW,CAAC,SAAD,EAAY,KAAZ,EAAmB,SAAnB,CAAX;AACA,IAAA,aAAa,CAAC,SAAD,EAAY,KAAZ,EAAmB,SAAnB,CAAb;AACA,IAAA,aAAa,CAAC,SAAD,EAAY,KAAZ,EAAmB,SAAnB,CAAb;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM;AAAE,MAAA;AAAF,QAAe,KAAK,KAA1B;AACA,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACG,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,QAAnB,EAA8B,CAAC,KAAD,EAAQ,EAAR,KAAe,KAAK,CAAC,YAAN,CAAmB,KAAnB,EAAiC;AAAE,MAAA,GAAG,EAAG,EAAD,IAAa,KAAK,KAAL,CAAW,GAAX,CAAe,EAAf,EAAmB,EAAnB;AAApB,KAAjC,CAA7C,CADH,CADF;AAKD;;AA3C2E;;AA8C9E,MAAM,WAAW,GAAG,CAAC,SAAD,EAAuB,YAAA,GAAoB,EAA3C,EAA+C,SAAA,GAAiB,EAAhE,KAAkE;AACpF,QAAM,aAAa,GAAG,CAAC,UAAD,EAAa,eAAb,EAA8B,cAA9B,EAA8C,aAA9C,EAA6D,OAA7D,EAAsE,MAAtE,EAA8E,SAA9E,EAAyF,MAAzF,EAAiG,MAAjG,EAAyG,IAAzG,EAA+G,QAA/G,EAAyH,UAAzH,CAAtB;;AACA,OAAK,MAAM,GAAX,IAAkB,YAAlB,EAAgC;AAC9B,QACE,YAAY,CAAC,cAAb,CAA4B,GAA5B,KACA,CAAC,aAAa,CAAC,QAAd,CAAuB,GAAvB,CADD,IAEA,YAAY,CAAC,GAAD,CAAZ,KAAsB,SAAS,CAAC,GAAD,CAHjC,EAIE;AACC,MAAA,SAAiB,CAAC,GAAD,CAAjB,CAAwB,YAAoB,CAAC,GAAD,CAA5C;AACF;AACF;;AAED,QAAM,UAAU,GAAG,YAAY,CAAC,IAAhC;;AACA,MAAI,UAAU,IAAI,UAAU,KAAK,SAAS,CAAC,IAA3C,EAAiD;AAC/C,UAAM,MAAM,GAAI,KAAK,CAAC,OAAN,CAAc,UAAd,CAAD,GAA8B,UAA9B,GAA2C,CAAC,UAAD,CAA1D;AACA,IAAA,MAAM,CAAC,OAAP,CAAe,GAAG,IAAI,SAAS,CAAC,IAAV,CAAe,GAAG,CAAC,QAAnB,EAA6B,GAAG,CAAC,KAAjC,CAAtB;AACD;;AAED,QAAM,QAAQ,GAAG,YAAY,CAAC,EAA9B;;AACA,MAAI,QAAQ,IAAI,QAAQ,KAAK,SAAS,CAAC,EAAvC,EAA2C;AACzC,UAAM,MAAM,GAAI,KAAK,CAAC,OAAN,CAAc,QAAd,CAAD,GAA4B,QAA5B,GAAuC,CAAC,QAAD,CAAtD;AACA,IAAA,MAAM,CAAC,OAAP,CAAe,GAAG,IAAI,SAAS,CAAC,EAAV,CAAa,GAAG,CAAC,QAAjB,EAA2B,GAAG,CAAC,KAA/B,CAAtB;AACD;;AAED,QAAM,YAAY,GAAG,YAAY,CAAC,MAAlC;;AACA,MAAI,YAAY,IAAI,YAAY,KAAK,SAAS,CAAC,MAA/C,EAAuD;AACrD,UAAM,MAAM,GAAI,KAAK,CAAC,OAAN,CAAc,YAAd,CAAD,GAAgC,YAAhC,GAA+C,CAAC,YAAD,CAA9D;AACA,IAAA,MAAM,CAAC,OAAP,CAAe,GAAG,IAAI,SAAS,CAAC,MAAV,CAAiB,GAAG,CAAC,QAArB,EAA+B,GAAG,CAAC,SAAnC,EAA8C,GAAG,CAAC,OAAlD,CAAtB;AACD;;AAED,QAAM,cAAc,GAAG,YAAY,CAAC,QAApC;;AACA,MAAI,cAAc,IAAI,cAAc,KAAK,SAAS,CAAC,QAAnD,EAA6D;AAC3D,UAAM,MAAM,GAAI,KAAK,CAAC,OAAN,CAAc,cAAd,CAAD,GAAkC,cAAlC,GAAmD,CAAC,cAAD,CAAlE;AACA,IAAA,MAAM,CAAC,OAAP,CAAe,GAAG,IAAI,SAAS,CAAC,QAAV,CAAmB,GAAG,CAAC,QAAvB,EAAiC,GAAG,CAAC,IAArC,CAAtB;AACD;AACF,CAnCD;;AAqCA,MAAM,aAAa,GAAG,CAAC,SAAD,EAAuB,YAAA,GAAoB,EAA3C,EAA+C,SAAA,GAAiB,EAAhE,KAAkE;;;AACtF,QAAM;AAAE,IAAA,aAAF;AAAiB,IAAA,YAAjB;AAA+B,IAAA;AAA/B,MAA+C,YAArD;;AAEA,MAAI,aAAa,KAAK,CAAA,CAAA,EAAA,GAAA,SAAS,CAAC,aAAV,MAAuB,IAAvB,IAAuB,EAAA,KAAA,KAAA,CAAvB,GAAuB,KAAA,CAAvB,GAAuB,EAAA,CAAE,iBAAzB,OAA+C,aAAa,KAAA,IAAb,IAAA,aAAa,KAAA,KAAA,CAAb,GAAa,KAAA,CAAb,GAAA,aAAa,CAAE,iBAA9D,KAAmF,CAAA,CAAA,EAAA,GAAA,SAAS,CAAC,aAAV,MAAuB,IAAvB,IAAuB,EAAA,KAAA,KAAA,CAAvB,GAAuB,KAAA,CAAvB,GAAuB,EAAA,CAAE,IAAzB,OAAkC,aAAa,KAAA,IAAb,IAAA,aAAa,KAAA,KAAA,CAAb,GAAa,KAAA,CAAb,GAAA,aAAa,CAAE,IAAjD,CAAxF,CAAjB,EAAiK;AAC/J,IAAA,SAAS,CAAC,aAAV,CAAwB,aAAa,CAAC,iBAAtC,EAAyD,aAAa,CAAC,IAAvE;AACD;;AAED,MAAI,YAAY,IAAI,CAAA,CAAA,EAAA,GAAA,SAAS,CAAC,YAAV,MAAsB,IAAtB,IAAsB,EAAA,KAAA,KAAA,CAAtB,GAAsB,KAAA,CAAtB,GAAsB,EAAA,CAAE,IAAxB,OAAiC,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAA,YAAY,CAAE,IAA/C,CAApB,EAAyE;AACvE,IAAA,SAAS,CAAC,YAAV,CAAuB,YAAY,CAAC,IAApC;AACD;;AAED,MAAI,WAAW,KAAK,CAAA,CAAA,EAAA,GAAA,SAAS,CAAC,WAAV,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,MAAvB,OAAkC,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAA,WAAW,CAAE,MAA/C,KAAyD,CAAA,CAAA,EAAA,GAAA,SAAS,CAAC,WAAV,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,IAAvB,OAAgC,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAA,WAAW,CAAE,IAA7C,CAAzD,IAA8G,CAAA,SAAS,KAAA,IAAT,IAAA,SAAS,KAAA,KAAA,CAAT,GAAS,KAAA,CAAT,GAAA,SAAS,CAAE,GAAX,OAAmB,WAAW,KAAA,IAAX,IAAA,WAAW,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAA,WAAW,CAAE,GAAhC,CAAnH,CAAf,EAAwK;AACtK,IAAA,SAAS,CAAC,WAAV,CAAsB,WAAW,CAAC,MAAlC,EAA0C,WAAW,CAAC,IAAtD,EAA4D,WAAW,CAAC,GAAxE;AACD;AACF,CAdD;;AAgBA,MAAM,aAAa,GAAG,CAAC,SAAD,EAAuB,YAAA,GAAoB,EAA3C,EAA+C,SAAA,GAAiB,EAAhE,KAAkE;AACtF,MAAI,CAAC,SAAS,CAAC,IAAX,IAAmB,YAAY,CAAC,IAApC,EAA0C;AACxC,IAAA,SAAS,CAAC,IAAV;AACD;;AAED,MAAI,CAAC,SAAS,CAAC,KAAX,IAAoB,YAAY,CAAC,KAArC,EAA4C;AAC1C,IAAA,SAAS,CAAC,KAAV;AACD;;AAED,MAAI,CAAC,SAAS,CAAC,IAAX,IAAmB,YAAY,CAAC,IAApC,EAA0C;AACxC,IAAA,SAAS,CAAC,IAAV;AACD;;AAED,MAAI,CAAC,SAAS,CAAC,OAAX,IAAsB,YAAY,CAAC,OAAvC,EAAgD;AAC9C,IAAA,SAAS,CAAC,OAAV;AACD;AACF,CAhBD,C,CC3GA;;;AACA,QAAQ,CAAC;AACP,sBAAoB,cADb;AAEP,sBAAoB,cAFb;AAGP,kBAAgB,WAHT;AAIP,qBAAmB,cAJZ;AAKP,WAAS,KALF;AAMP,kBAAgB,WANT;AAOP,iBAAe,UAPR;AAQP,kBAAgB,WART;AASP,gBAAc,SATP;AAUP,uBAAqB,eAVd;AAWP,2BAAyB,mBAXlB;AAYP,oBAAkB,aAZX;AAaP,kBAAgB;AAbT,CAAD,CAAR,C,CAgBA;AACA;;AACA,IAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,EAAA,oBAAoB,CAAC,MAAD,CAApB;;;MCvCW,mBAAmB,GAAA,aAAgB,KAAK,CAAC,aAAN,CAA8C;AAC5F,EAAA,WAAW,EAAE,MAAM,SADyE;AAE5F,EAAA,SAAS,EAAE,MAAM,SAF2E;AAG5F,EAAA,WAAW,EAAE,MAAM,SAHyE;AAI5F,EAAA,cAAc,EAAE,MAAM,SAJsE;AAK5F,EAAA,8BAA8B,EAAE,MAAM,SALsD;AAM5F,EAAA,uBAAuB,EAAE,MAAM,SAN6D;AAO5F,EAAA,mBAAmB,EAAE,MAAM,SAPiE;AAQ5F,EAAA,wBAAwB,EAAE,MAAM,SAR4D;AAS5F,EAAA,MAAM,EAAE,MAAM,SAT8E;AAU5F,EAAA,eAAe,EAAE,MAAM;AAVqE,CAA9C,C;;MCLnC,oB,SAA6B,KAAK,CAAC,S,CAAiE;AAI/G,EAAA,WAAA,CAAY,KAAZ,EAA6C;AAC3C,UAAM,KAAN;AAJF,SAAA,mBAAA,GAAsB,IAAI,0BAAJ,EAAtB;AACQ,SAAA,UAAA,GAAa,KAAb;AAKN,SAAK,mBAAL,CAAyB,yBAAzB,CAAmD,MAAA;AACjD,UAAI,CAAC,KAAK,KAAL,CAAW,KAAhB,EAAuB;AACrB,YAAI,KAAK,UAAT,EAAqB;AACnB,eAAK,QAAL,CAAc;AACZ,YAAA,IAAI,EAAE;AADM,WAAd,EAEG,MAAM,KAAK,KAAL,CAAW,UAAX,EAFT;AAGD;AACF;AACF,KARD;AAUA,SAAK,KAAL,GAAa;AACX,MAAA,IAAI,EAAE;AADK,KAAb;AAGD;;AAED,EAAA,iBAAiB,GAAA;AACf,SAAK,UAAL,GAAkB,IAAlB;AACD;;AAED,EAAA,oBAAoB,GAAA;AAClB,SAAK,UAAL,GAAkB,KAAlB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,UAAM;AAAE,MAAA;AAAF,QAAW,KAAK,KAAtB;AACA,WACE,KAAA,CAAA,aAAA,CAAC,mBAAmB,CAAC,QAArB,EAA6B;AAAC,MAAA,KAAK,EAAE,KAAK;AAAb,KAA7B,EACG,IAAI,IAAI,KAAK,KAAL,CAAW,QADtB,CADF;AAKD;;AArC8G,C,CCZjH;;;MAEa,e,CAAe;AAA5B,EAAA,WAAA,GAAA;AACU,SAAA,eAAA,GAA+B,EAA/B;AACA,SAAA,UAAA,GAEJ,EAFI;AA+JT;;AA3JC,EAAA,GAAG,CAAC,SAAD,EAAqB;AAEtB,QAAI,SAAS,CAAC,WAAV,KAA0B,MAA1B,IAAoC,SAAS,CAAC,WAAV,IAAyB,IAAjE,EAAuE;AACrE,WAAK,IAAL,CAAU,SAAV;AACD,KAFD,MAEO,IAAI,SAAS,CAAC,WAAV,KAA0B,KAA9B,EAAqC;AAC1C,WAAK,IAAL,CAAU,SAAV;AACD,KAFM,MAEA,IAAI,SAAS,CAAC,WAAV,KAA0B,SAA9B,EAAyC;AAC9C,WAAK,QAAL,CAAc,SAAd;AACD;;AAED,QAAI,SAAS,CAAC,cAAV,KAA6B,MAAjC,EAAyC;AACvC,WAAK,MAAL;;AACA,WAAK,IAAL,CAAU,SAAV;AACD;AACF;;AAED,EAAA,aAAa,CAAC,GAAD,EAAY;AACvB,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,GAAzB,CAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,MAAA,UAAU,CAAC,OAAX,CAAmB,EAAE,IAAA;AACnB,aAAK,eAAL,GAAuB,KAAK,eAAL,CAAqB,MAArB,CAA4B,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,EAAE,CAAC,EAA7C,CAAvB;AACD,OAFD;AAGA,WAAK,UAAL,CAAgB,GAAhB,IAAuB,EAAvB;AACD;AACF;;AAED,EAAA,MAAM,CAAC,SAAD,EAAqB;AACzB,UAAM,aAAa,GAAG,KAAK,eAAL,CAAqB,SAArB,CAA+B,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,SAAS,CAAC,EAAvD,CAAtB;;AACA,QAAI,aAAa,GAAG,CAAC,CAArB,EAAwB;AACtB,WAAK,eAAL,CAAqB,MAArB,CAA4B,aAA5B,EAA2C,CAA3C,EAA8C,SAA9C;AACD;;AACD,UAAM,QAAQ,GAAG,KAAK,UAAL,CAAgB,SAAS,CAAC,GAAV,IAAiB,EAAjC,CAAjB;;AACA,QAAI,QAAJ,EAAc;AACZ,YAAM,QAAQ,GAAG,QAAQ,CAAC,SAAT,CAAmB,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,SAAS,CAAC,EAA3C,CAAjB;;AACA,UAAI,QAAQ,GAAG,CAAC,CAAhB,EAAmB;AACjB,QAAA,QAAQ,CAAC,MAAT,CAAgB,QAAhB,EAA0B,CAA1B,EAA6B,SAA7B;AACD,OAFD,MAEO;AACL,QAAA,QAAQ,CAAC,IAAT,CAAc,SAAd;AACD;AACF,KAPD,MAOO,IAAI,SAAS,CAAC,GAAd,EAAmB;AACxB,WAAK,UAAL,CAAgB,SAAS,CAAC,GAA1B,IAAiC,CAAC,SAAD,CAAjC;AACD;AACF;;AAEO,EAAA,IAAI,CAAC,SAAD,EAAqB;;;AAC/B,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,SAAS,CAAC,GAAnC,CAAnB;;AACA,QAAI,UAAJ,EAAgB;;AAEd,UAAI,CAAA,CAAA,EAAA,GAAA,UAAU,CAAC,UAAU,CAAC,MAAX,GAAoB,CAArB,CAAV,MAAiC,IAAjC,IAAiC,EAAA,KAAA,KAAA,CAAjC,GAAiC,KAAA,CAAjC,GAAiC,EAAA,CAAE,EAAnC,MAA0C,SAAS,CAAC,EAAxD,EAA4D;AAC1D,QAAA,UAAU,CAAC,GAAX;AACD;;AACD,MAAA,UAAU,CAAC,IAAX,CAAgB,SAAhB;AACD;;AACD,SAAK,eAAL,CAAqB,IAArB,CAA0B,SAA1B;AACD;;AAEO,EAAA,IAAI,CAAC,SAAD,EAAqB;AAC/B,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,SAAS,CAAC,GAAnC,CAAnB;;AACA,QAAI,EAAJ;;AACA,QAAI,UAAJ,EAAgB;;AAEd,MAAA,EAAE,GAAG,UAAU,CAAC,UAAU,CAAC,MAAX,GAAoB,CAArB,CAAf;;AACA,aAAO,EAAE,IAAI,EAAE,CAAC,EAAH,KAAU,SAAS,CAAC,EAAjC,EAAqC;AACnC,QAAA,UAAU,CAAC,GAAX;AACA,QAAA,EAAE,GAAG,UAAU,CAAC,UAAU,CAAC,MAAX,GAAoB,CAArB,CAAf;AACD,OANa,C;;;AAQd,MAAA,UAAU,CAAC,GAAX;AACA,MAAA,UAAU,CAAC,IAAX,CAAgB,SAAhB;AACD;;AAED,IAAA,EAAE,GAAG,KAAK,eAAL,CAAqB,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAAnD,CAAL;;AACA,WAAO,EAAE,IAAI,EAAE,CAAC,EAAH,KAAU,SAAS,CAAC,EAAjC,EAAqC;AACnC,WAAK,eAAL,CAAqB,GAArB;AACA,MAAA,EAAE,GAAG,KAAK,eAAL,CAAqB,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAAnD,CAAL;AACD,KAnB8B,C;;;AAqB/B,SAAK,eAAL,CAAqB,GAArB;AACA,SAAK,eAAL,CAAqB,IAArB,CAA0B,SAA1B;AACD;;AAEO,EAAA,QAAQ,CAAC,SAAD,EAAqB;AACnC,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,SAAS,CAAC,GAAnC,CAAnB;;AACA,IAAA,UAAU,IAAI,UAAU,CAAC,GAAX,EAAd;AACA,SAAK,eAAL,CAAqB,GAArB;;AACA,SAAK,IAAL,CAAU,SAAV;AACD;;AAEO,EAAA,MAAM,GAAA;AACZ,UAAM,IAAI,GAAG,MAAM,CAAC,IAAP,CAAY,KAAK,UAAjB,CAAb;AACA,IAAA,IAAI,CAAC,OAAL,CAAa,CAAC,IAAI,KAAK,UAAL,CAAgB,CAAhB,IAAqB,EAAvC;AACA,SAAK,eAAL,GAAuB,EAAvB;AACD;;AAEO,EAAA,mBAAmB,CAAC,GAAD,EAAa;AACtC,QAAI,UAAJ;;AACA,QAAI,GAAJ,EAAS;AACP,MAAA,UAAU,GAAG,KAAK,UAAL,CAAgB,GAAhB,CAAb;;AACA,UAAI,CAAC,UAAL,EAAiB;AACf,QAAA,UAAU,GAAG,KAAK,UAAL,CAAgB,GAAhB,IAAuB,EAApC;AACD;AACF;;AACD,WAAO,UAAP;AACD;;AAED,EAAA,uBAAuB,CAAC,GAAD,EAAY;AACjC,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,GAAzB,CAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,aAAO,UAAU,CAAC,CAAD,CAAjB;AACD;;AACD,WAAO,SAAP;AACD;;AAED,EAAA,yBAAyB,CAAC,GAAD,EAAa;AACpC,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,GAAzB,CAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,aAAO,UAAU,CAAC,UAAU,CAAC,MAAX,GAAoB,CAArB,CAAjB;AACD;;AACD,WAAO,SAAP;AACD;;AAED,EAAA,gBAAgB,CAAC,SAAD,EAAqB;AACnC,UAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,SAAS,CAAC,GAAnC,CAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,WAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAX,GAAoB,CAAjC,EAAoC,CAAC,IAAI,CAAzC,EAA4C,CAAC,EAA7C,EAAiD;AAC/C,cAAM,EAAE,GAAG,UAAU,CAAC,CAAD,CAArB;;AACA,YAAI,EAAJ,EAAQ;AACN,cAAI,EAAE,CAAC,QAAH,KAAgB,SAAS,CAAC,aAA9B,EAA6C;AAC3C,mBAAO,EAAP;AACD;AACF;AACF;AACF;;AACD,SAAK,IAAI,CAAC,GAAG,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAA3C,EAA8C,CAAC,IAAI,CAAnD,EAAsD,CAAC,EAAvD,EAA2D;AACzD,YAAM,EAAE,GAAG,KAAK,eAAL,CAAqB,CAArB,CAAX;;AACA,UAAI,EAAJ,EAAQ;AACN,YAAI,EAAE,CAAC,QAAH,KAAgB,SAAS,CAAC,aAA9B,EAA6C;AAC3C,iBAAO,EAAP;AACD;AACF;AACF;;AACD,WAAO,SAAP;AACD;;AAED,EAAA,QAAQ,GAAA;AACN,WAAO,KAAK,eAAL,CAAqB,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAAnD,KAAyD,KAAK,eAAL,CAAqB,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAAnD,CAAhE;AACD;;AAED,EAAA,OAAO,GAAA;AACL,WAAO,KAAK,eAAL,CAAqB,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAAnD,CAAP;AACD;;AAED,EAAA,SAAS,GAAA;AACP,WAAO,KAAK,eAAL,CAAqB,MAArB,GAA8B,CAArC;AACD;;AAhKyB;;MCuBf,U,SAAmB,KAAK,CAAC,S,CAA2C;AAa/E,EAAA,WAAA,CAAY,KAAZ,EAAkC;AAChC,UAAM,KAAN;AAZF,SAAA,qBAAA,GAA+C;AAC7C,MAAA,IAAI,EAAE,CAAC,QAAD,EAAmB,eAAnB,EAAsD,WAAtD,EAAiF,aAAjF,EAAgH,gBAAhH,KAAmJ;AACvJ,aAAK,QAAL,CAAc,QAAd,EAAwB,eAAxB,EAAyC,WAAzC,EAAsD,gBAAtD,EAAwE,aAAxE;AACD,OAH4C;AAI7C,MAAA,IAAI,EAAG,gBAAD,IAAoC;AACxC,aAAK,MAAL,CAAY,SAAZ,EAAuB,gBAAvB;AACD,OAN4C;AAO7C,MAAA,SAAS,EAAE,MAAM,KAAK,KAAL,CAAW,eAAX,CAA2B,SAA3B,EAP4B;AAQ7C,MAAA,SAAS,EAAE,KAAK,KAAL,CAAW;AARuB,KAA/C;AAaE,SAAK,KAAL,GAAa;AACX,MAAA,MAAM,EAAE,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CADG;AAEX,MAAA,cAAc,EAAE,MAAM,IAFX;AAGX,MAAA,QAAQ,EAAE,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAHC;AAIX,MAAA,cAAc,EAAE,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CAJL;AAKX,MAAA,WAAW,EAAE,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CALF;AAMX,MAAA,eAAe,EAAE,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,CANN;AAOX,MAAA,cAAc,EAAE,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CAPL;AAQX,MAAA,SAAS,EAAE,KAAK,KAAL,CAAW,SARX;AASX,MAAA,aAAa,EAAE,KAAK,KAAL,CAAW,eATf;AAUX,MAAA,SAAS,EAAE,KAAK,KAAL,CAAW,WAVX;AAWX,MAAA,QAAQ,EAAE,KAAK,KAAL,CAAW;AAXV,KAAb;;AAcA,QAAI,OAAO,QAAP,KAAoB,WAAxB,EAAqC;AACnC,MAAA,QAAQ,CAAC,gBAAT,CAA0B,eAA1B,EAA4C,CAAD,IAAO;AAChD,QAAA,CAAC,CAAC,MAAF,CAAS,QAAT,CAAkB,CAAlB,EAAsB,kBAAD,IAA+B;AAClD,eAAK,MAAL;AACA,UAAA,kBAAkB;AACnB,SAHD;AAID,OALD;AAMD;AACF;;AAED,EAAA,MAAM,CAAC,KAAD,EAA6B,gBAA7B,EAAgE;AACpE,SAAK,KAAL,CAAW,cAAX,CAA0B,KAA1B,EAAiC,gBAAjC;AACD;;AAED,EAAA,QAAQ,CAAC,IAAD,EAAe,SAAA,GAA6B,SAA5C,EAAuD,MAAA,GAAsB,MAA7E,EAAqF,gBAArF,EAA0H,OAA1H,EAAyI,GAAzI,EAAqJ;AAC3J,SAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC,SAApC,EAA+C,gBAA/C,EAAiE,OAAjE,EAA0E,GAA1E;AACD;;AAED,EAAA,cAAc,GAAA;AACZ,WAAO,WAAP;AACD;;AAED,EAAA,cAAc,GAAA;AACZ,WAAO,KAAK,KAAL,CAAW,WAAlB;AACD;;AAED,EAAA,WAAW,GAAA;AACT,WAAO,KAAK,KAAL,CAAW,QAAlB;AACD;;AAED,EAAA,eAAe,GAAA;AACb,WAAO,KAAK,KAAL,CAAW,YAAlB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,WACE,KAAA,CAAA,aAAA,CAAC,UAAU,CAAC,QAAZ,EAAoB;AAAC,MAAA,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAO,KAAK,KAAZ,CAAA,EAAiB;AAAE,QAAA,SAAS,EAAE,KAAK,KAAL,CAAW;AAAxB,OAAjB;AAAN,KAApB,EACE,KAAA,CAAA,aAAA,CAAC,gBAAgB,CAAC,QAAlB,EAA0B;AAAC,MAAA,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAO,KAAK,qBAAZ,CAAA,EAAiC;AAAE,QAAA,SAAS,EAAE,KAAK,KAAL,CAAW;AAAxB,OAAjC;AAAN,KAA1B,EACG,KAAK,KAAL,CAAW,QADd,CADF,CADF;AAOD;;AAvE8E;;MCvB3D,U,CAAU;AAG9B,EAAA,WAAA,GAAA;AAFQ,SAAA,UAAA,GAA6C,EAA7C;AAGN,SAAK,GAAL,GAAW,KAAK,GAAL,CAAS,IAAT,CAAc,IAAd,CAAX;AACA,SAAK,KAAL,GAAa,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAK,qBAAL,GAA6B,KAAK,qBAAL,CAA2B,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAK,MAAL,GAAc,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAED,EAAA,GAAG,CAAC,QAAD,EAAmB;AACpB,UAAM;AAAE,MAAA;AAAF,QAAe,QAArB;;AACA,QAAI,CAAC,KAAK,UAAL,CAAgB,QAAhB,CAAL,EAAgC;AAC9B,WAAK,UAAL,CAAgB,QAAhB,IAA4B,CAAC,QAAD,CAA5B;AACD,KAFD,MAEO;AACL,WAAK,UAAL,CAAgB,QAAhB,EAA0B,IAA1B,CAA+B,QAA/B;AACD;AACF;;AAED,EAAA,KAAK,CAAC,QAAD,EAAiB;;AAEpB,IAAA,UAAU,CAAC,MAAA;;AAET,aAAO,KAAK,UAAL,CAAgB,QAAhB,CAAP;AACD,KAHS,EAGP,GAHO,CAAV;AAID;;AAED,EAAA,qBAAqB,CAAC,QAAD,EAAiB;AACpC,WAAQ,KAAK,UAAL,CAAgB,QAAhB,KAA6B,EAArC;AACD;;AAED,EAAA,MAAM,CAAC,QAAD,EAAmB;AACvB,UAAM;AAAE,MAAA;AAAF,QAAe,QAArB;AACA,UAAM,SAAS,GAAG,KAAK,UAAL,CAAgB,QAAhB,CAAlB;;AACA,QAAI,SAAJ,EAAe;AACb,YAAM,gBAAgB,GAAG,SAAS,CAAC,IAAV,CAAe,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,EAAtC,CAAzB;;AACA,UAAI,gBAAJ,EAAsB;AACpB,QAAA,gBAAgB,CAAC,KAAjB,GAAyB,KAAzB;AACA,aAAK,UAAL,CAAgB,QAAhB,IAA4B,SAAS,CAAC,MAAV,CAAiB,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,gBAAgB,CAAC,EAAhD,CAA5B;AACD;AACF;AACF;;AAES,EAAA,WAAW,GAAA;AACnB,WAAO,MAAM,CAAC,IAAP,CAAY,KAAK,UAAjB,CAAP;AACD;;AAES,EAAA,eAAe,GAAA;AACvB,UAAM,IAAI,GAAG,KAAK,WAAL,EAAb;AACA,UAAM,SAAS,GAAe,EAA9B;AACA,IAAA,IAAI,CAAC,OAAL,CAAa,CAAC,IAAA;AACZ,MAAA,SAAS,CAAC,IAAV,CAAe,GAAG,KAAK,UAAL,CAAgB,CAAhB,CAAlB;AACD,KAFD;AAGA,WAAO,SAAP;AACD;;AAtD6B;;ACHhC,MAAM,GAAG,GAA+B;AAAE,EAAA,IAAI,EAAE;AAAR,CAAxC;;MAEa,UAAU,GAAG,CAAC,IAAI,GAAG,MAAR,KAAc;;;AACtC,QAAM,EAAE,GAAG,CAAA,CAAA,EAAA,GAAC,GAAG,CAAC,IAAD,CAAJ,MAAU,IAAV,IAAU,EAAA,KAAA,KAAA,CAAV,GAAU,EAAV,GAAc,CAAd,IAAmB,CAA9B;AACA,EAAA,GAAG,CAAC,IAAD,CAAH,GAAY,EAAZ;AACA,SAAQ,EAAD,CAAK,QAAL,EAAP;AACF,C","sourcesContent":["import React from 'react';\n\nexport interface IonLifeCycleContextInterface {\n  onIonViewWillEnter: (callback: () => void) => void;\n  ionViewWillEnter: () => void;\n  onIonViewDidEnter: (callback: () => void) => void;\n  ionViewDidEnter: () => void;\n  onIonViewWillLeave: (callback: () => void) => void;\n  ionViewWillLeave: () => void;\n  onIonViewDidLeave: (callback: () => void) => void;\n  ionViewDidLeave: () => void;\n}\n\nexport const IonLifeCycleContext = /*@__PURE__*/React.createContext<IonLifeCycleContextInterface>({\n  onIonViewWillEnter: () => { return; },\n  ionViewWillEnter: () => { return; },\n  onIonViewDidEnter: () => { return; },\n  ionViewDidEnter: () => { return; },\n  onIonViewWillLeave: () => { return; },\n  ionViewWillLeave: () => { return; },\n  onIonViewDidLeave: () => { return; },\n  ionViewDidLeave: () => { return; },\n});\n\nexport interface LifeCycleCallback { (): void; id?: number; }\n\nexport const DefaultIonLifeCycleContext = class implements IonLifeCycleContextInterface {\n\n  ionViewWillEnterCallbacks: LifeCycleCallback[] = [];\n  ionViewDidEnterCallbacks: LifeCycleCallback[] = [];\n  ionViewWillLeaveCallbacks: LifeCycleCallback[] = [];\n  ionViewDidLeaveCallbacks: LifeCycleCallback[] = [];\n  componentCanBeDestroyedCallback?: () => void;\n\n  onIonViewWillEnter(callback: LifeCycleCallback) {\n    if (callback.id) {\n      const index = this.ionViewWillEnterCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewWillEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewWillEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillEnterCallbacks.push(callback);\n    }\n  }\n\n  ionViewWillEnter() {\n    this.ionViewWillEnterCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewDidEnter(callback: LifeCycleCallback) {\n    if (callback.id) {\n      const index = this.ionViewDidEnterCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewDidEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewDidEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidEnterCallbacks.push(callback);\n    }\n  }\n\n  ionViewDidEnter() {\n    this.ionViewDidEnterCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewWillLeave(callback: LifeCycleCallback) {\n    if (callback.id) {\n      const index = this.ionViewWillLeaveCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewWillLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewWillLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillLeaveCallbacks.push(callback);\n    }\n  }\n\n  ionViewWillLeave() {\n    this.ionViewWillLeaveCallbacks.forEach(cb => cb());\n  }\n\n  onIonViewDidLeave(callback: LifeCycleCallback) {\n    if (callback.id) {\n      const index = this.ionViewDidLeaveCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewDidLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewDidLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidLeaveCallbacks.push(callback);\n    }\n  }\n\n  ionViewDidLeave() {\n    this.ionViewDidLeaveCallbacks.forEach(cb => cb());\n    this.componentCanBeDestroyed();\n  }\n\n  onComponentCanBeDestroyed(callback: () => void) {\n    this.componentCanBeDestroyedCallback = callback;\n  }\n\n  componentCanBeDestroyed() {\n    if (this.componentCanBeDestroyedCallback) {\n      this.componentCanBeDestroyedCallback();\n    }\n  }\n};\n","import React from 'react';\n\nimport { IonLifeCycleContext } from '../contexts/IonLifeCycleContext';\n\nexport const withIonLifeCycle = (WrappedComponent: React.ComponentType<any>) => {\n  return class IonLifeCycle extends React.Component<any, any> {\n    context!: React.ContextType<typeof IonLifeCycleContext>;\n    componentRef = React.createRef<any>();\n\n    constructor(props: any) {\n      super(props);\n    }\n\n    componentDidMount() {\n      const element = this.componentRef.current;\n      this.context.onIonViewWillEnter(() => {\n        if (element && element.ionViewWillEnter) {\n          element.ionViewWillEnter();\n        }\n      });\n\n      this.context.onIonViewDidEnter(() => {\n        if (element && element.ionViewDidEnter) {\n          element.ionViewDidEnter();\n        }\n      });\n\n      this.context.onIonViewWillLeave(() => {\n        if (element && element.ionViewWillLeave) {\n          element.ionViewWillLeave();\n        }\n      });\n\n      this.context.onIonViewDidLeave(() => {\n        if (element && element.ionViewDidLeave) {\n          element.ionViewDidLeave();\n        }\n      });\n    }\n\n    render() {\n      return (\n        <IonLifeCycleContext.Consumer>\n          {context => {\n            this.context = context;\n            return (\n              <WrappedComponent ref={this.componentRef} {...this.props} />\n            );\n          }}\n        </IonLifeCycleContext.Consumer>\n      );\n    }\n  };\n};\n","import { useContext, useEffect, useRef } from 'react';\n\nimport { IonLifeCycleContext, LifeCycleCallback } from '../contexts/IonLifeCycleContext';\n\nexport const useIonViewWillEnter = (callback: LifeCycleCallback, deps: any[] = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef<number | undefined>();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current!;\n    context.onIonViewWillEnter(callback);\n  }, deps);\n};\n\nexport const useIonViewDidEnter = (callback: LifeCycleCallback, deps: any[] = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef<number | undefined>();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current!;\n    context.onIonViewDidEnter(callback);\n  }, deps);\n};\n\nexport const useIonViewWillLeave = (callback: LifeCycleCallback, deps: any[] = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef<number | undefined>();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current!;\n    context.onIonViewWillLeave(callback);\n  }, deps);\n};\n\nexport const useIonViewDidLeave = (callback: LifeCycleCallback, deps: any[] = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef<number | undefined>();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current!;\n    context.onIonViewDidLeave(callback);\n  }, deps);\n};\n","import { AnimationBuilder, RouterDirection } from '@ionic/core';\nimport React from 'react';\n\nimport { RouteInfo } from '../models';\n\nexport interface NavContextState {\n  getIonRoute: () => any;\n  getIonRedirect: () => any;\n  getPageManager: () => any;\n  getStackManager: () => any;\n  goBack: (route?: string | RouteInfo, animationBuilder?: AnimationBuilder) => void;\n  navigate: (path: string, direction?: RouterDirection | 'none', ionRouteAction?: 'push' | 'replace' | 'pop', animationBuilder?: AnimationBuilder, options?: any, tab?: string) => void;\n  hasIonicRouter: () => boolean;\n  routeInfo?: RouteInfo;\n  setCurrentTab: (tab: string, routeInfo: RouteInfo) => void;\n  changeTab: (tab: string, path: string, routeOptions?: any) => void;\n  resetTab: (tab: string, originalHref: string, originalRouteOptions?: any) => void;\n}\n\nexport const NavContext = /*@__PURE__*/React.createContext<NavContextState>({\n  getIonRedirect: () => undefined,\n  getIonRoute: () => undefined,\n  getPageManager: () => undefined,\n  getStackManager: () => undefined,\n  goBack: (route?: string | RouteInfo) => {\n    if (typeof window !== 'undefined') {\n      if (typeof (route) === 'string') {\n        window.location.pathname = route;\n      } else {\n        window.history.back();\n      }\n    }\n  },\n  navigate: (path: string) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  hasIonicRouter: () => false,\n  routeInfo: undefined,\n  setCurrentTab: () => undefined,\n  changeTab: (_tab: string, path: string) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  resetTab: (_tab: string, path: string) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  }\n});\n","export const dashToPascalCase = (str: string) => str.toLowerCase().split('-').map(segment => segment.charAt(0).toUpperCase() + segment.slice(1)).join('');\nexport const camelToDashCase = (str: string) => str.replace(/([A-Z])/g, (m: string) => `-${m[0].toLowerCase()}`);\n","import { camelToDashCase } from './case';\n\nexport const attachProps = (node: HTMLElement, newProps: any, oldProps: any = {}) => {\n  // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n  if (node instanceof Element) {\n    // add any classes in className to the class list\n    const className = getClassName(node.classList, newProps, oldProps);\n    if (className !== '') {\n      node.className = className;\n    }\n\n    Object.keys(newProps).forEach(name => {\n      if (name === 'children' || name === 'style' || name === 'ref' || name === 'class' || name === 'className' || name === 'forwardedRef') {\n        return;\n      }\n      if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n        const eventName = name.substring(2);\n        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n\n        if (!isCoveredByReact(eventNameLc)) {\n          syncEvent(node, eventNameLc, newProps[name]);\n        }\n      } else {\n        const propType = typeof newProps[name];\n        if (propType === 'string') {\n          node.setAttribute(camelToDashCase(name), newProps[name]);\n        } else {\n          (node as any)[name] = newProps[name];\n        }\n      }\n    });\n  }\n};\n\nexport const getClassName = (classList: DOMTokenList, newProps: any, oldProps: any) => {\n  const newClassProp: string = newProps.className || newProps.class;\n  const oldClassProp: string = oldProps.className || oldProps.class;\n  // map the classes to Maps for performance\n  const currentClasses = arrayToMap(classList);\n  const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n  const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n  const finalClassNames: string[] = [];\n  // loop through each of the current classes on the component\n  // to see if it should be a part of the classNames added\n  currentClasses.forEach(currentClass => {\n    if (incomingPropClasses.has(currentClass)) {\n      // add it as its already included in classnames coming in from newProps\n      finalClassNames.push(currentClass);\n      incomingPropClasses.delete(currentClass);\n    } else if (!oldPropClasses.has(currentClass)) {\n      // add it as it has NOT been removed by user\n      finalClassNames.push(currentClass);\n    }\n  });\n  incomingPropClasses.forEach(s => finalClassNames.push(s));\n  return finalClassNames.join(' ');\n};\n\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nexport const isCoveredByReact = (eventNameSuffix: string) => {\n  if (typeof document === 'undefined') {\n    return true;\n  } else {\n    const eventName = 'on' + eventNameSuffix;\n    let isSupported = eventName in document;\n\n    if (!isSupported) {\n      const element = document.createElement('div');\n      element.setAttribute(eventName, 'return;');\n      isSupported = typeof (element as any)[eventName] === 'function';\n    }\n\n    return isSupported;\n  }\n};\n\nexport const syncEvent = (node: Element & { __events?: { [key: string]: ((e: Event) => any) | undefined; }; }, eventName: string, newEventHandler?: (e: Event) => any) => {\n  const eventStore = node.__events || (node.__events = {});\n  const oldEventHandler = eventStore[eventName];\n\n  // Remove old listener so they don't double up.\n  if (oldEventHandler) {\n    node.removeEventListener(eventName, oldEventHandler);\n  }\n\n  // Bind new listener.\n  node.addEventListener(eventName, eventStore[eventName] = function handler(e: Event) {\n    if (newEventHandler) { newEventHandler.call(this, e); }\n  });\n};\n\nconst arrayToMap = (arr: string[] | DOMTokenList) => {\n  const map = new Map<string, string>();\n  (arr as string[]).forEach((s: string) => map.set(s, s));\n  return map;\n};\n","import { SerializeDocumentOptions, renderToString } from '@ionic/core/hydrate';\n\nexport async function ionRenderToString(html: string, userAgent: string, options: SerializeDocumentOptions = {}) {\n\n  const renderToStringOptions = Object.assign({}, {\n    clientHydrateAnnotations: false,\n    excludeComponents: [\n      // overlays\n      'ion-action-sheet',\n      'ion-alert',\n      'ion-loading',\n      'ion-modal',\n      'ion-picker',\n      'ion-popover',\n      'ion-toast',\n\n      // navigation\n      'ion-router',\n      'ion-route',\n      'ion-route-redirect',\n      'ion-router-link',\n      'ion-router-outlet',\n\n      // tabs\n      'ion-tabs',\n      'ion-tab',\n\n      // auxiliary\n      'ion-picker-column',\n      'ion-virtual-scroll'\n    ],\n    userAgent\n  }, options);\n\n  const ionHtml = await renderToString(html, renderToStringOptions);\n  return ionHtml.html;\n}\n","import { Config as CoreConfig, Platforms, getPlatforms as getPlatformsCore, isPlatform as isPlatformCore } from '@ionic/core';\nimport React from 'react';\n\nimport { IonicReactProps } from '../IonicReactProps';\n\nexport type IonicReactExternalProps<PropType, ElementType> = PropType & Omit<React.HTMLAttributes<ElementType>, 'style'> & IonicReactProps;\n\nexport const createForwardRef = <PropType, ElementType>(ReactComponent: any, displayName: string) => {\n  const forwardRef = (props: IonicReactExternalProps<PropType, ElementType>, ref: React.Ref<ElementType>) => {\n    return <ReactComponent {...props} forwardedRef={ref} />;\n  };\n  forwardRef.displayName = displayName;\n\n  return React.forwardRef(forwardRef);\n};\n\nexport * from './attachProps';\nexport * from './case';\nexport * from './ionRenderToString';\n\nexport const isPlatform = (platform: Platforms) => {\n  return isPlatformCore(window, platform);\n};\n\nexport const getPlatforms = () => {\n  return getPlatformsCore(window);\n};\n\nexport const getConfig = (): CoreConfig | null => {\n  if (typeof (window as any) !== 'undefined') {\n    const Ionic = (window as any).Ionic;\n    if (Ionic && Ionic.config) {\n      return Ionic.config;\n    }\n  }\n  return null;\n};\n","import { AnimationBuilder } from '@ionic/core';\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport { NavContext } from '../contexts/NavContext';\nimport { RouterOptions } from '../models';\nimport { RouterDirection } from '../models/RouterDirection';\n\nimport { attachProps, camelToDashCase, createForwardRef, dashToPascalCase, isCoveredByReact } from './utils';\n\ninterface IonicReactInternalProps<ElementType> extends React.HTMLAttributes<ElementType> {\n  forwardedRef?: React.Ref<ElementType>;\n  href?: string;\n  routerLink?: string;\n  ref?: React.Ref<any>;\n  routerDirection?: RouterDirection;\n  routerOptions?: RouterOptions;\n  routerAnimation?: AnimationBuilder;\n}\n\nexport const createReactComponent = <PropType, ElementType>(\n  tagName: string,\n  routerLinkComponent = false\n) => {\n  const displayName = dashToPascalCase(tagName);\n  const ReactComponent = class extends React.Component<IonicReactInternalProps<PropType>> {\n    context!: React.ContextType<typeof NavContext>;\n\n    constructor(props: IonicReactInternalProps<PropType>) {\n      super(props);\n    }\n\n    componentDidMount() {\n      this.componentDidUpdate(this.props);\n    }\n\n    componentDidUpdate(prevProps: IonicReactInternalProps<PropType>) {\n      const node = ReactDom.findDOMNode(this) as HTMLElement;\n      attachProps(node, this.props, prevProps);\n    }\n\n    private handleClick = (e: React.MouseEvent<PropType>) => {\n      const { routerLink, routerDirection, routerOptions, routerAnimation } = this.props;\n      if (routerLink !== undefined) {\n        e.preventDefault();\n        this.context.navigate(routerLink, routerDirection, undefined, routerAnimation, routerOptions);\n      }\n    }\n\n    render() {\n      const { children, forwardedRef, style, className, ref, ...cProps } = this.props;\n\n      const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n          if (isCoveredByReact(eventName)) {\n            (acc as any)[name] = (cProps as any)[name];\n          }\n        } else if (typeof (cProps as any)[name] === 'string') {\n          (acc as any)[camelToDashCase(name)] = (cProps as any)[name];\n        }\n        return acc;\n      }, {});\n\n      const newProps: IonicReactInternalProps<PropType> = {\n        ...propsToPass,\n        ref: forwardedRef,\n        style\n      };\n\n      if (routerLinkComponent) {\n        if (this.props.routerLink && !this.props.href) {\n          newProps.href = this.props.routerLink;\n        }\n        if (newProps.onClick) {\n          const oldClick = newProps.onClick;\n          newProps.onClick = (e: React.MouseEvent<PropType>) => {\n            oldClick(e);\n            if (!e.defaultPrevented) {\n              this.handleClick(e);\n            }\n          };\n        } else {\n          newProps.onClick = this.handleClick;\n        }\n      }\n\n      return React.createElement(\n        tagName,\n        newProps,\n        children\n      );\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    static get contextType() {\n      return NavContext;\n    }\n  };\n  return createForwardRef<PropType, ElementType>(ReactComponent, displayName);\n};\n","import { JSX } from '@ionic/core';\n\nimport { createReactComponent } from './createComponent';\nimport { HrefProps } from './hrefprops';\n\n// ionic/core\nexport const IonApp = /*@__PURE__*/createReactComponent<JSX.IonApp, HTMLIonAppElement>('ion-app');\nexport const IonTab = /*@__PURE__*/createReactComponent<JSX.IonTab, HTMLIonTabElement>('ion-tab');\nexport const IonRouterLink = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonRouterLink>, HTMLIonRouterLinkElement>('ion-router-link', true);\nexport const IonAvatar = /*@__PURE__*/createReactComponent<JSX.IonAvatar, HTMLIonAvatarElement>('ion-avatar');\nexport const IonBackdrop = /*@__PURE__*/createReactComponent<JSX.IonBackdrop, HTMLIonBackdropElement>('ion-backdrop');\nexport const IonBadge = /*@__PURE__*/createReactComponent<JSX.IonBadge, HTMLIonBadgeElement>('ion-badge');\nexport const IonButton = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonButton>, HTMLIonButtonElement>('ion-button', true);\nexport const IonButtons = /*@__PURE__*/createReactComponent<JSX.IonButtons, HTMLIonButtonsElement>('ion-buttons');\nexport const IonCard = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonCard>, HTMLIonCardElement>('ion-card', true);\nexport const IonCardContent = /*@__PURE__*/createReactComponent<JSX.IonCardContent, HTMLIonCardContentElement>('ion-card-content');\nexport const IonCardHeader = /*@__PURE__*/createReactComponent<JSX.IonCardHeader, HTMLIonCardHeaderElement>('ion-card-header');\nexport const IonCardSubtitle = /*@__PURE__*/createReactComponent<JSX.IonCardSubtitle, HTMLIonCardSubtitleElement>('ion-card-subtitle');\nexport const IonCardTitle = /*@__PURE__*/createReactComponent<JSX.IonCardTitle, HTMLIonCardTitleElement>('ion-card-title');\nexport const IonCheckbox = /*@__PURE__*/createReactComponent<JSX.IonCheckbox, HTMLIonCheckboxElement>('ion-checkbox');\nexport const IonCol = /*@__PURE__*/createReactComponent<JSX.IonCol, HTMLIonColElement>('ion-col');\nexport const IonContent = /*@__PURE__*/createReactComponent<JSX.IonContent, HTMLIonContentElement>('ion-content');\nexport const IonChip = /*@__PURE__*/createReactComponent<JSX.IonChip, HTMLIonChipElement>('ion-chip');\nexport const IonDatetime = /*@__PURE__*/createReactComponent<JSX.IonDatetime, HTMLIonDatetimeElement>('ion-datetime');\nexport const IonFab = /*@__PURE__*/createReactComponent<JSX.IonFab, HTMLIonFabElement>('ion-fab');\nexport const IonFabButton = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonFabButton>, HTMLIonFabButtonElement>('ion-fab-button', true);\nexport const IonFabList = /*@__PURE__*/createReactComponent<JSX.IonFabList, HTMLIonFabListElement>('ion-fab-list');\nexport const IonFooter = /*@__PURE__*/createReactComponent<JSX.IonFooter, HTMLIonFooterElement>('ion-footer');\nexport const IonGrid = /*@__PURE__*/createReactComponent<JSX.IonGrid, HTMLIonGridElement>('ion-grid');\nexport const IonHeader = /*@__PURE__*/createReactComponent<JSX.IonHeader, HTMLIonHeaderElement>('ion-header');\nexport const IonImg = /*@__PURE__*/createReactComponent<JSX.IonImg, HTMLIonImgElement>('ion-img');\nexport const IonInfiniteScroll = /*@__PURE__*/createReactComponent<JSX.IonInfiniteScroll, HTMLIonInfiniteScrollElement>('ion-infinite-scroll');\nexport const IonInfiniteScrollContent = /*@__PURE__*/createReactComponent<JSX.IonInfiniteScrollContent, HTMLIonInfiniteScrollContentElement>('ion-infinite-scroll-content');\nexport const IonInput = /*@__PURE__*/createReactComponent<JSX.IonInput, HTMLIonInputElement>('ion-input');\nexport const IonItem = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonItem>, HTMLIonItemElement>('ion-item', true);\nexport const IonItemDivider = /*@__PURE__*/createReactComponent<JSX.IonItemDivider, HTMLIonItemDividerElement>('ion-item-divider');\nexport const IonItemGroup = /*@__PURE__*/createReactComponent<JSX.IonItemGroup, HTMLIonItemGroupElement>('ion-item-group');\nexport const IonItemOption = /*@__PURE__*/createReactComponent<HrefProps<JSX.IonItemOption>, HTMLIonItemOptionElement>('ion-item-option', true);\nexport const IonItemOptions = /*@__PURE__*/createReactComponent<JSX.IonItemOptions, HTMLIonItemOptionsElement>('ion-item-options');\nexport const IonItemSliding = /*@__PURE__*/createReactComponent<JSX.IonItemSliding, HTMLIonItemSlidingElement>('ion-item-sliding');\nexport const IonLabel = /*@__PURE__*/createReactComponent<JSX.IonLabel, HTMLIonLabelElement>('ion-label');\nexport const IonList = /*@__PURE__*/createReactComponent<JSX.IonList, HTMLIonListElement>('ion-list');\nexport const IonListHeader = /*@__PURE__*/createReactComponent<JSX.IonListHeader, HTMLIonListHeaderElement>('ion-list-header');\nexport const IonMenu = /*@__PURE__*/createReactComponent<JSX.IonMenu, HTMLIonMenuElement>('ion-menu');\nexport const IonMenuButton = /*@__PURE__*/createReactComponent<JSX.IonMenuButton, HTMLIonMenuButtonElement>('ion-menu-button');\nexport const IonMenuToggle = /*@__PURE__*/createReactComponent<JSX.IonMenuToggle, HTMLIonMenuToggleElement>('ion-menu-toggle');\nexport const IonNote = /*@__PURE__*/createReactComponent<JSX.IonNote, HTMLIonNoteElement>('ion-note');\nexport const IonPickerColumn = /*@__PURE__*/createReactComponent<JSX.IonPickerColumn, HTMLIonPickerColumnElement>('ion-picker-column');\nexport const IonNav = /*@__PURE__*/createReactComponent<JSX.IonNav, HTMLIonNavElement>('ion-nav');\nexport const IonProgressBar = /*@__PURE__*/createReactComponent<JSX.IonProgressBar, HTMLIonProgressBarElement>('ion-progress-bar');\nexport const IonRadio = /*@__PURE__*/createReactComponent<JSX.IonRadio, HTMLIonRadioElement>('ion-radio');\nexport const IonRadioGroup = /*@__PURE__*/createReactComponent<JSX.IonRadioGroup, HTMLIonRadioGroupElement>('ion-radio-group');\nexport const IonRange = /*@__PURE__*/createReactComponent<JSX.IonRange, HTMLIonRangeElement>('ion-range');\nexport const IonRefresher = /*@__PURE__*/createReactComponent<JSX.IonRefresher, HTMLIonRefresherElement>('ion-refresher');\nexport const IonRefresherContent = /*@__PURE__*/createReactComponent<JSX.IonRefresherContent, HTMLIonRefresherContentElement>('ion-refresher-content');\nexport const IonReorder = /*@__PURE__*/createReactComponent<JSX.IonReorder, HTMLIonReorderElement>('ion-reorder');\nexport const IonReorderGroup = /*@__PURE__*/createReactComponent<JSX.IonReorderGroup, HTMLIonReorderGroupElement>('ion-reorder-group');\nexport const IonRippleEffect = /*@__PURE__*/createReactComponent<JSX.IonRippleEffect, HTMLIonRippleEffectElement>('ion-ripple-effect');\nexport const IonRow = /*@__PURE__*/createReactComponent<JSX.IonRow, HTMLIonRowElement>('ion-row');\nexport const IonSearchbar = /*@__PURE__*/createReactComponent<JSX.IonSearchbar, HTMLIonSearchbarElement>('ion-searchbar');\nexport const IonSegment = /*@__PURE__*/createReactComponent<JSX.IonSegment, HTMLIonSegmentElement>('ion-segment');\nexport const IonSegmentButton = /*@__PURE__*/createReactComponent<JSX.IonSegmentButton, HTMLIonSegmentButtonElement>('ion-segment-button');\nexport const IonSelect = /*@__PURE__*/createReactComponent<JSX.IonSelect, HTMLIonSelectElement>('ion-select');\nexport const IonSelectOption = /*@__PURE__*/createReactComponent<JSX.IonSelectOption, HTMLIonSelectOptionElement>('ion-select-option');\nexport const IonSelectPopover = /*@__PURE__*/createReactComponent<JSX.IonSelectPopover, HTMLIonSelectPopoverElement>('ion-select-popover');\nexport const IonSkeletonText = /*@__PURE__*/createReactComponent<JSX.IonSkeletonText, HTMLIonSkeletonTextElement>('ion-skeleton-text');\nexport const IonSlide = /*@__PURE__*/createReactComponent<JSX.IonSlide, HTMLIonSlideElement>('ion-slide');\nexport const IonSlides = /*@__PURE__*/createReactComponent<JSX.IonSlides, HTMLIonSlidesElement>('ion-slides');\nexport const IonSpinner = /*@__PURE__*/createReactComponent<JSX.IonSpinner, HTMLIonSpinnerElement>('ion-spinner');\nexport const IonSplitPane = /*@__PURE__*/createReactComponent<JSX.IonSplitPane, HTMLIonSplitPaneElement>('ion-split-pane');\nexport const IonText = /*@__PURE__*/createReactComponent<JSX.IonText, HTMLIonTextElement>('ion-text');\nexport const IonTextarea = /*@__PURE__*/createReactComponent<JSX.IonTextarea, HTMLIonTextareaElement>('ion-textarea');\nexport const IonThumbnail = /*@__PURE__*/createReactComponent<JSX.IonThumbnail, HTMLIonThumbnailElement>('ion-thumbnail');\nexport const IonTitle = /*@__PURE__*/createReactComponent<JSX.IonTitle, HTMLIonTitleElement>('ion-title');\nexport const IonToggle = /*@__PURE__*/createReactComponent<JSX.IonToggle, HTMLIonToggleElement>('ion-toggle');\nexport const IonToolbar = /*@__PURE__*/createReactComponent<JSX.IonToolbar, HTMLIonToolbarElement>('ion-toolbar');\nexport const IonVirtualScroll = /*@__PURE__*/createReactComponent<JSX.IonVirtualScroll, HTMLIonVirtualScrollElement>('ion-virtual-scroll');\n","import { OverlayEventDetail } from '@ionic/core';\nimport React from 'react';\n\nimport { attachProps } from './utils';\n\ninterface OverlayBase extends HTMLElement {\n  present: () => Promise<void>;\n  dismiss: (data?: any, role?: string | undefined) => Promise<boolean>;\n}\n\nexport interface ReactControllerProps {\n  isOpen: boolean;\n  onDidDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onDidPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n}\n\nexport const createControllerComponent = <OptionsType extends object, OverlayType extends OverlayBase>(\n  displayName: string,\n  controller: { create: (options: OptionsType) => Promise<OverlayType>; }\n) => {\n  const didDismissEventName = `on${displayName}DidDismiss`;\n  const didPresentEventName = `on${displayName}DidPresent`;\n  const willDismissEventName = `on${displayName}WillDismiss`;\n  const willPresentEventName = `on${displayName}WillPresent`;\n\n  type Props = OptionsType & ReactControllerProps & {\n    forwardedRef?: React.RefObject<OverlayType>;\n  };\n\n  class Overlay extends React.Component<Props> {\n    overlay?: OverlayType;\n    isUnmounted = false;\n\n    constructor(props: Props) {\n      super(props);\n      this.handleDismiss = this.handleDismiss.bind(this);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    async componentDidMount() {\n      const { isOpen } = this.props;\n      if (isOpen as boolean) {\n        this.present();\n      }\n    }\n\n    componentWillUnmount() {\n      this.isUnmounted = true;\n      if (this.overlay) { this.overlay.dismiss(); }\n    }\n\n    async componentDidUpdate(prevProps: Props) {\n      if (prevProps.isOpen !== this.props.isOpen && this.props.isOpen === true) {\n        this.present(prevProps);\n      }\n      if (this.overlay && prevProps.isOpen !== this.props.isOpen && this.props.isOpen === false) {\n        await this.overlay.dismiss();\n      }\n    }\n\n    handleDismiss(event: CustomEvent<OverlayEventDetail<any>>) {\n      if (this.props.onDidDismiss) {\n        this.props.onDidDismiss(event);\n      }\n      if (this.props.forwardedRef) {\n        (this.props.forwardedRef as any).current = undefined;\n      }\n    }\n\n    async present(prevProps?: Props) {\n      const { isOpen, onDidDismiss, onDidPresent, onWillDismiss, onWillPresent, ...cProps } = this.props;\n      this.overlay = await controller.create({\n        ...cProps as any\n      });\n      attachProps(this.overlay, {\n        [didDismissEventName]: this.handleDismiss,\n        [didPresentEventName]: (e: CustomEvent) => this.props.onDidPresent && this.props.onDidPresent(e),\n        [willDismissEventName]: (e: CustomEvent) => this.props.onWillDismiss && this.props.onWillDismiss(e),\n        [willPresentEventName]: (e: CustomEvent) => this.props.onWillPresent && this.props.onWillPresent(e)\n      }, prevProps);\n      // Check isOpen again since the value could have changed during the async call to controller.create\n      // It's also possible for the component to have become unmounted.\n      if (this.props.isOpen === true && this.isUnmounted === false) {\n        if (this.props.forwardedRef) {\n          (this.props.forwardedRef as any).current = this.overlay;\n        }\n        await this.overlay.present();\n      }\n    }\n\n    render(): null {\n      return null;\n    }\n  }\n\n  return React.forwardRef<OverlayType, Props>((props, ref) => {\n    return <Overlay {...props} forwardedRef={ref} />;\n  });\n};\n","import { AlertOptions, alertController } from '@ionic/core';\n\nimport { createControllerComponent } from './createControllerComponent';\n\nexport const IonAlert = /*@__PURE__*/createControllerComponent<AlertOptions, HTMLIonAlertElement>('IonAlert', alertController);\n","import { LoadingOptions, loadingController } from '@ionic/core';\n\nimport { createControllerComponent } from './createControllerComponent';\n\nexport const IonLoading = /*@__PURE__*/createControllerComponent<LoadingOptions, HTMLIonLoadingElement>('IonLoading', loadingController);\n","import { ToastButton as ToastButtonCore, ToastOptions as ToastOptionsCore, toastController as toastControllerCore } from '@ionic/core';\n\nimport { createControllerComponent } from './createControllerComponent';\n\nexport interface ToastButton extends Omit<ToastButtonCore, 'icon'> {\n  icon?: {\n    ios: string;\n    md: string;\n  } | string;\n}\n\nexport interface ToastOptions extends Omit<ToastOptionsCore, 'buttons'> {\n  buttons?: (ToastButton | string)[];\n}\n\nconst toastController = {\n  create: (options: ToastOptions) => toastControllerCore.create(options as any),\n  dismiss: (data?: any, role?: string | undefined, id?: string | undefined) => toastControllerCore.dismiss(data, role, id),\n  getTop: () => toastControllerCore.getTop()\n};\n\nexport const IonToast = /*@__PURE__*/createControllerComponent<ToastOptions, HTMLIonToastElement>('IonToast', toastController);\n","import { PickerOptions, pickerController } from '@ionic/core';\n\nimport { createControllerComponent } from './createControllerComponent';\n\nexport const IonPicker = /*@__PURE__*/createControllerComponent<PickerOptions, HTMLIonPickerElement>('IonPicker', pickerController);\n","import { OverlayEventDetail } from '@ionic/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { attachProps } from './utils';\n\ninterface OverlayElement extends HTMLElement {\n  present: () => Promise<void>;\n  dismiss: (data?: any, role?: string | undefined) => Promise<boolean>;\n}\n\nexport interface ReactOverlayProps {\n  children?: React.ReactNode;\n  isOpen: boolean;\n  onDidDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onDidPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n}\n\nexport const createOverlayComponent = <OverlayComponent extends object, OverlayType extends OverlayElement>(\n  displayName: string,\n  controller: { create: (options: any) => Promise<OverlayType>; }\n) => {\n  const didDismissEventName = `on${displayName}DidDismiss`;\n  const didPresentEventName = `on${displayName}DidPresent`;\n  const willDismissEventName = `on${displayName}WillDismiss`;\n  const willPresentEventName = `on${displayName}WillPresent`;\n\n  type Props = OverlayComponent & ReactOverlayProps & {\n    forwardedRef?: React.RefObject<OverlayType>;\n  };\n\n  class Overlay extends React.Component<Props> {\n    overlay?: OverlayType;\n    el!: HTMLDivElement;\n\n    constructor(props: Props) {\n      super(props);\n      if (typeof document !== 'undefined') {\n        this.el = document.createElement('div');\n      }\n      this.handleDismiss = this.handleDismiss.bind(this);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    componentDidMount() {\n      if (this.props.isOpen) {\n        this.present();\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.overlay) { this.overlay.dismiss(); }\n    }\n\n    handleDismiss(event: CustomEvent<OverlayEventDetail<any>>) {\n      if (this.props.onDidDismiss) {\n        this.props.onDidDismiss(event);\n      }\n      if (this.props.forwardedRef) {\n        (this.props.forwardedRef as any).current = undefined;\n      }\n    }\n\n    async componentDidUpdate(prevProps: Props) {\n      if (this.overlay) {\n        attachProps(this.overlay, this.props, prevProps);\n      }\n\n      if (prevProps.isOpen !== this.props.isOpen && this.props.isOpen === true) {\n        this.present(prevProps);\n      }\n      if (this.overlay && prevProps.isOpen !== this.props.isOpen && this.props.isOpen === false) {\n        await this.overlay.dismiss();\n      }\n    }\n\n    async present(prevProps?: Props) {\n      const { children, isOpen, onDidDismiss, onDidPresent, onWillDismiss, onWillPresent, ...cProps } = this.props;\n      const elementProps = {\n        ...cProps,\n        ref: this.props.forwardedRef,\n        [didDismissEventName]: this.handleDismiss,\n        [didPresentEventName]: (e: CustomEvent) => this.props.onDidPresent && this.props.onDidPresent(e),\n        [willDismissEventName]: (e: CustomEvent) => this.props.onWillDismiss && this.props.onWillDismiss(e),\n        [willPresentEventName]: (e: CustomEvent) => this.props.onWillPresent && this.props.onWillPresent(e)\n      };\n\n      this.overlay = await controller.create({\n        ...elementProps,\n        component: this.el,\n        componentProps: {}\n      });\n\n      if (this.props.forwardedRef) {\n        (this.props.forwardedRef as any).current = this.overlay;\n      }\n\n      attachProps(this.overlay, elementProps, prevProps);\n\n      await this.overlay.present();\n    }\n\n    render() {\n      return ReactDOM.createPortal(\n        this.props.isOpen ? this.props.children : null,\n        this.el\n      );\n    }\n  }\n\n  return React.forwardRef<OverlayType, Props>((props, ref) => {\n    return <Overlay {...props} forwardedRef={ref} />;\n  });\n};\n","import { ActionSheetButton as ActionSheetButtonCore, ActionSheetOptions as ActionSheetOptionsCore, actionSheetController as actionSheetControllerCore } from '@ionic/core';\n\nimport { createOverlayComponent } from './createOverlayComponent';\n\nexport interface ActionSheetButton extends Omit<ActionSheetButtonCore, 'icon'> {\n  icon?: {\n    ios: string;\n    md: string;\n  } | string;\n}\n\nexport interface ActionSheetOptions extends Omit<ActionSheetOptionsCore, 'buttons'> {\n  buttons?: (ActionSheetButton | string)[];\n}\n\nconst actionSheetController = {\n  create: (options: ActionSheetOptions) => actionSheetControllerCore.create(options as any),\n  dismiss: (data?: any, role?: string | undefined, id?: string | undefined) => actionSheetControllerCore.dismiss(data, role, id),\n  getTop: () => actionSheetControllerCore.getTop()\n};\n\nexport const IonActionSheet = /*@__PURE__*/createOverlayComponent<ActionSheetOptions, HTMLIonActionSheetElement>('IonActionSheet', actionSheetController);\n","import { ModalOptions, modalController } from '@ionic/core';\n\nimport { createOverlayComponent } from './createOverlayComponent';\n\nexport type ReactModalOptions = Omit<ModalOptions, 'component' | 'componentProps'> & {\n  children: React.ReactNode;\n};\n\nexport const IonModal = /*@__PURE__*/createOverlayComponent<ReactModalOptions, HTMLIonModalElement>('IonModal', modalController);\n","import { PopoverOptions, popoverController } from '@ionic/core';\n\nimport { createOverlayComponent } from './createOverlayComponent';\n\nexport type ReactPopoverOptions = Omit<PopoverOptions, 'component' | 'componentProps'> & {\n  children: React.ReactNode;\n};\n\nexport const IonPopover = /*@__PURE__*/createOverlayComponent<ReactPopoverOptions, HTMLIonPopoverElement>('IonPopover', popoverController);\n","import React from 'react';\n\nimport { RouteInfo } from '../models/RouteInfo';\n\nexport interface StackContextState {\n  registerIonPage: (page: HTMLElement, routeInfo: RouteInfo) => void;\n  isInOutlet: () => boolean;\n}\n\nexport const StackContext = React.createContext<StackContextState>({\n  registerIonPage: () => undefined,\n  isInOutlet: () => false\n});\n","\nimport React from 'react';\n\nimport { IonLifeCycleContext } from '../contexts/IonLifeCycleContext';\nimport { RouteInfo } from '../models';\n\nimport { StackContext } from './StackContext';\n\ninterface PageManagerProps {\n  className?: string;\n  forwardedRef?: React.RefObject<HTMLDivElement>;\n  routeInfo?: RouteInfo;\n}\n\nexport class PageManager extends React.PureComponent<PageManagerProps> {\n  ionLifeCycleContext!: React.ContextType<typeof IonLifeCycleContext>;\n  context!: React.ContextType<typeof StackContext>;\n  ionPageElementRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: PageManagerProps) {\n    super(props);\n    this.ionPageElementRef = this.props.forwardedRef || React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.ionPageElementRef.current) {\n      this.context.registerIonPage(this.ionPageElementRef.current, this.props.routeInfo!);\n      this.ionPageElementRef.current.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionPageElementRef.current.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.ionPageElementRef.current) {\n      this.ionPageElementRef.current.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionPageElementRef.current.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n\n  render() {\n    const { className, children, routeInfo, forwardedRef, ...props } = this.props;\n\n    return (\n      <IonLifeCycleContext.Consumer>\n        {context => {\n          this.ionLifeCycleContext = context;\n          const hidePageClass = this.context.isInOutlet() ? 'ion-page-invisible' : '';\n          return (\n            <div\n              className={className ? `${className} ion-page ${hidePageClass}` : `ion-page ${hidePageClass}`}\n              ref={this.ionPageElementRef}\n              {...props}\n            >\n              {children}\n            </div>\n          );\n        }}\n      </IonLifeCycleContext.Consumer>\n    );\n  }\n\n  static get contextType() {\n    return StackContext;\n  }\n}\nexport default PageManager;\n","import React from 'react';\n\nimport { NavContext } from '../contexts/NavContext';\nimport PageManager from '../routing/PageManager';\n\nimport { IonicReactProps } from './IonicReactProps';\nimport { createForwardRef } from './utils';\n\ninterface IonPageProps extends IonicReactProps {\n}\n\ninterface IonPageInternalProps extends IonPageProps {\n  forwardedRef?: React.RefObject<HTMLDivElement>;\n}\n\nclass IonPageInternal extends React.Component<IonPageInternalProps> {\n  context!: React.ContextType<typeof NavContext>;\n\n  constructor(props: IonPageInternalProps) {\n    super(props);\n  }\n\n  render() {\n    const { className, children, forwardedRef, ...props } = this.props;\n\n    return (\n      this.context.hasIonicRouter() ? (\n        <PageManager\n          className={className ? `${className}` : ''}\n          routeInfo={this.context.routeInfo}\n          forwardedRef={forwardedRef}\n          {...props}\n        >\n          {children}\n        </PageManager>\n      ) : (\n          <div className={className ? `ion-page ${className}` : 'ion-page'} ref={forwardedRef} {...props}>\n            {children}\n          </div>\n        )\n    );\n  }\n\n  static get displayName() {\n    return 'IonPage';\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n}\n\nexport const IonPage = createForwardRef(IonPageInternal, 'IonPage');\n","import React from 'react';\n\nexport interface IonTabsContextState {\n  activeTab: string | undefined;\n  selectTab: (tab: string) => boolean;\n}\n\nexport const IonTabsContext = React.createContext<IonTabsContextState>({\n  activeTab: undefined,\n  selectTab: () => false\n});\n","import { JSX } from '@ionic/core';\nimport { JSX as IoniconsJSX } from 'ionicons';\n\nimport { /*@__PURE__*/ createReactComponent } from './createComponent';\n\nexport const IonTabButtonInner = /*@__PURE__*/createReactComponent<JSX.IonTabButton & { onIonTabButtonClick?: (e: CustomEvent) => void; }, HTMLIonTabButtonElement>('ion-tab-button');\nexport const IonTabBarInner = /*@__PURE__*/createReactComponent<JSX.IonTabBar, HTMLIonTabBarElement>('ion-tab-bar');\nexport const IonBackButtonInner = /*@__PURE__*/createReactComponent<Omit<JSX.IonBackButton, 'icon'>, HTMLIonBackButtonElement>('ion-back-button');\nexport const IonRouterOutletInner = /*@__PURE__*/createReactComponent<JSX.IonRouterOutlet & {\n  setRef?: (val: HTMLIonRouterOutletElement) => void;\n  forwardedRef?: React.RefObject<HTMLIonRouterOutletElement>;\n}, HTMLIonRouterOutletElement>('ion-router-outlet');\n\n// ionicons\nexport const IonIconInner = /*@__PURE__*/createReactComponent<IoniconsJSX.IonIcon, HTMLIonIconElement>('ion-icon');\n","\nimport React from 'react';\n\nimport { IonRouterOutletInner } from '../components/inner-proxies';\nimport { IonLifeCycleContext } from '../contexts/IonLifeCycleContext';\nimport { RouteInfo } from '../models';\n\nimport { StackContext } from './StackContext';\n\ninterface OutletPageManagerProps {\n  className?: string;\n  forwardedRef?: React.RefObject<HTMLIonRouterOutletElement>;\n  routeInfo?: RouteInfo;\n  StackManager: any;\n}\n\nexport class OutletPageManager extends React.Component<OutletPageManagerProps> {\n  ionLifeCycleContext!: React.ContextType<typeof IonLifeCycleContext>;\n  context!: React.ContextType<typeof StackContext>;\n  ionRouterOutlet: HTMLIonRouterOutletElement | undefined;\n\n  constructor(props: OutletPageManagerProps) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.ionRouterOutlet) {\n      setTimeout(() => {\n        this.context.registerIonPage(this.ionRouterOutlet!, this.props.routeInfo!);\n      }, 25);\n\n      this.ionRouterOutlet.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionRouterOutlet.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.ionRouterOutlet) {\n      this.ionRouterOutlet.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler.bind(this));\n      this.ionRouterOutlet.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler.bind(this));\n    }\n  }\n\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n\n  render() {\n    const { StackManager, children, routeInfo, ...props } = this.props;\n    return (\n      <IonLifeCycleContext.Consumer>\n        {context => {\n          this.ionLifeCycleContext = context;\n          return (\n            <StackManager routeInfo={routeInfo}>\n              <IonRouterOutletInner setRef={(val: HTMLIonRouterOutletElement) => this.ionRouterOutlet = val} {...props}>\n                {children}\n              </IonRouterOutletInner>\n            </StackManager>\n          );\n        }}\n      </IonLifeCycleContext.Consumer>\n    );\n  }\n\n  static get contextType() {\n    return StackContext;\n  }\n}\nexport default OutletPageManager;\n","\nimport { JSX as LocalJSX } from '@ionic/core';\nimport React from 'react';\n\nimport { NavContext } from '../contexts/NavContext';\nimport OutletPageManager from '../routing/OutletPageManager';\n\nimport { IonicReactProps } from './IonicReactProps';\nimport { IonRouterOutletInner } from './inner-proxies';\nimport { createForwardRef } from './utils';\n\ntype Props = LocalJSX.IonRouterOutlet & {\n  basePath?: string;\n  ref?: React.RefObject<any>;\n  ionPage?: boolean;\n};\n\ninterface InternalProps extends Props {\n  forwardedRef?: React.RefObject<HTMLIonRouterOutletElement>;\n}\n\ninterface InternalState {\n}\n\nclass IonRouterOutletContainer extends React.Component<InternalProps, InternalState> {\n  context!: React.ContextType<typeof NavContext>;\n\n  constructor(props: InternalProps) {\n    super(props);\n  }\n\n  render() {\n\n    const StackManager = this.context.getStackManager();\n    const { children, forwardedRef, ...props } = this.props;\n\n    return (\n      this.context.hasIonicRouter() ? (\n        props.ionPage ? (\n          <OutletPageManager\n            StackManager={StackManager}\n            routeInfo={this.context.routeInfo}\n            {...props}\n          >\n            {children}\n          </OutletPageManager>\n        ) : (\n            <StackManager routeInfo={this.context.routeInfo}>\n              <IonRouterOutletInner {...props} forwardedRef={forwardedRef}>\n                {children}\n              </IonRouterOutletInner>\n            </StackManager>\n          )\n      ) : (\n          <IonRouterOutletInner ref={forwardedRef} {...this.props}>\n            {this.props.children}\n          </IonRouterOutletInner>\n        )\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n}\n\nexport const IonRouterOutlet = createForwardRef<Props & IonicReactProps, HTMLIonRouterOutletElement>(IonRouterOutletContainer, 'IonRouterOutlet');\n","import { JSX as LocalJSX } from '@ionic/core';\nimport React from 'react';\n\nimport { RouterOptions } from '../../models';\nimport { IonicReactProps } from '../IonicReactProps';\nimport { IonTabButtonInner } from '../inner-proxies';\n\ntype Props = LocalJSX.IonTabButton & IonicReactProps & {\n  routerOptions?: RouterOptions;\n  ref?: React.RefObject<HTMLIonTabButtonElement>;\n  onClick?: (e: any) => void;\n};\n\nexport class IonTabButton extends React.Component<Props> {\n\n  constructor(props: Props) {\n    super(props);\n    this.handleIonTabButtonClick = this.handleIonTabButtonClick.bind(this);\n  }\n\n  handleIonTabButtonClick() {\n    if (this.props.onClick) {\n      this.props.onClick(new CustomEvent('ionTabButtonClick', {\n        detail: { tab: this.props.tab, href: this.props.href, routeOptions: this.props.routerOptions }\n      }));\n    }\n  }\n\n  render() {\n    const { onClick, ...rest } = this.props;\n    return (\n      <IonTabButtonInner onIonTabButtonClick={this.handleIonTabButtonClick} {...rest}></IonTabButtonInner>\n    );\n  }\n\n  static get displayName() {\n    return 'IonTabButton';\n  }\n}\n","import { JSX as LocalJSX } from '@ionic/core';\nimport React, { useContext } from 'react';\n\nimport { NavContext } from '../../contexts/NavContext';\nimport { RouteInfo } from '../../models';\nimport { IonicReactProps } from '../IonicReactProps';\nimport { IonTabBarInner } from '../inner-proxies';\nimport { createForwardRef } from '../utils';\n\nimport { IonTabButton } from './IonTabButton';\n\ntype IonTabBarProps = LocalJSX.IonTabBar & IonicReactProps & {\n  onIonTabsDidChange?: (event: CustomEvent<{ tab: string; }>) => void;\n  onIonTabsWillChange?: (event: CustomEvent<{ tab: string; }>) => void;\n  slot?: 'bottom' | 'top';\n  style?: { [key: string]: string; };\n};\n\ninterface InternalProps extends IonTabBarProps {\n  forwardedRef?: React.RefObject<HTMLIonIconElement>;\n  onSetCurrentTab: (tab: string, routeInfo: RouteInfo) => void;\n  routeInfo: RouteInfo;\n}\n\ninterface TabUrls {\n  originalHref: string;\n  currentHref: string;\n  originalRouteOptions?: unknown;\n  currentRouteOptions?: unknown;\n}\n\ninterface IonTabBarState {\n  activeTab: string | undefined;\n  tabs: { [key: string]: TabUrls; };\n}\n\nclass IonTabBarUnwrapped extends React.PureComponent<InternalProps, IonTabBarState> {\n  context!: React.ContextType<typeof NavContext>;\n\n  constructor(props: InternalProps) {\n    super(props);\n    const tabs: { [key: string]: TabUrls; } = {};\n    React.Children.forEach((props as any).children, (child: any) => {\n      if (child != null && typeof child === 'object' && child.props && child.type === IonTabButton) {\n        tabs[child.props.tab] = {\n          originalHref: child.props.href,\n          currentHref: child.props.href,\n          originalRouteOptions: child.props.href === props.routeInfo?.pathname ? props.routeInfo?.routeOptions : undefined,\n          currentRouteOptions: child.props.href === props.routeInfo?.pathname ? props.routeInfo?.routeOptions : undefined,\n        };\n      }\n    });\n\n    const tabKeys = Object.keys(tabs);\n    const activeTab = tabKeys\n      .find(key => {\n        const href = tabs[key].originalHref;\n        return props.routeInfo!.pathname.startsWith(href);\n      }) || tabKeys[0];\n\n    this.state = {\n      activeTab,\n      tabs\n    };\n\n    this.onTabButtonClick = this.onTabButtonClick.bind(this);\n    this.renderTabButton = this.renderTabButton.bind(this);\n    this.setActiveTabOnContext = this.setActiveTabOnContext.bind(this);\n    this.selectTab = this.selectTab.bind(this);\n  }\n\n  setActiveTabOnContext = (_tab: string) => { };\n\n  selectTab(tab: string) {\n    const tabUrl = this.state.tabs[tab];\n    if (tabUrl) {\n      this.onTabButtonClick(new CustomEvent('ionTabButtonClick', {\n        detail: {\n          href: tabUrl.currentHref,\n          tab,\n          selected: tab === this.state.activeTab,\n          routeOptions: undefined\n        }\n      }));\n      return true;\n    }\n    return false;\n  }\n\n  static getDerivedStateFromProps(props: InternalProps, state: IonTabBarState) {\n    const tabs = { ...state.tabs };\n    const tabKeys = Object.keys(state.tabs);\n    const activeTab = tabKeys\n      .find(key => {\n        const href = state.tabs[key].originalHref;\n        return props.routeInfo!.pathname.startsWith(href);\n      }) || tabKeys[0];\n\n    // Check to see if the tab button href has changed, and if so, update it in the tabs state\n    React.Children.forEach((props as any).children, (child: any) => {\n      if (child != null && typeof child === 'object' && child.props && child.type === IonTabButton) {\n        const tab = tabs[child.props.tab];\n        if (!tab || (tab.originalHref !== child.props.href)) {\n          tabs[child.props.tab] = {\n            originalHref: child.props.href,\n            currentHref: child.props.href,\n            originalRouteOptions: child.props.routeOptions,\n            currentRouteOptions: child.props.routeOptions\n          };\n        }\n      }\n    });\n    const { activeTab: prevActiveTab } = state;\n    if (activeTab && prevActiveTab) {\n      const prevHref = state.tabs[prevActiveTab].currentHref;\n      const prevRouteOptions = state.tabs[prevActiveTab].currentRouteOptions;\n      if (activeTab !== prevActiveTab || (prevHref !== props.routeInfo?.pathname || prevRouteOptions !== props.routeInfo?.routeOptions)) {\n        tabs[activeTab] = {\n          originalHref: tabs[activeTab].originalHref,\n          currentHref: props.routeInfo!.pathname + (props.routeInfo!.search || ''),\n          originalRouteOptions: tabs[activeTab].originalRouteOptions,\n          currentRouteOptions: props.routeInfo?.routeOptions\n        };\n        if (props.routeInfo.routeAction === 'pop') {\n          // If navigating back and the tabs change, set the prev tab back to its original href\n          tabs[prevActiveTab] = {\n            originalHref: tabs[prevActiveTab].originalHref,\n            currentHref: tabs[prevActiveTab].originalHref,\n            originalRouteOptions: tabs[prevActiveTab].originalRouteOptions,\n            currentRouteOptions: tabs[prevActiveTab].currentRouteOptions\n          };\n        }\n      }\n    }\n\n    activeTab && props.onSetCurrentTab(activeTab, props.routeInfo);\n\n    return {\n      activeTab,\n      tabs\n    };\n  }\n\n  private onTabButtonClick(e: CustomEvent<{ href: string, selected: boolean, tab: string; routeOptions: unknown; }>) {\n    const tappedTab = this.state.tabs[e.detail.tab];\n    const originalHref = tappedTab.originalHref;\n    const currentHref = e.detail.href;\n    const { activeTab: prevActiveTab } = this.state;\n    // this.props.onSetCurrentTab(e.detail.tab, this.props.routeInfo);\n    // Clicking the current tab will bring you back to the original href\n    if (prevActiveTab === e.detail.tab) {\n      if (originalHref !== currentHref) {\n        this.context.resetTab(e.detail.tab, originalHref, tappedTab.originalRouteOptions);\n      }\n    } else {\n      if (this.props.onIonTabsWillChange) {\n        this.props.onIonTabsWillChange(new CustomEvent('ionTabWillChange', { detail: { tab: e.detail.tab } }));\n      }\n      if (this.props.onIonTabsDidChange) {\n        this.props.onIonTabsDidChange(new CustomEvent('ionTabDidChange', { detail: { tab: e.detail.tab } }));\n      }\n      this.setActiveTabOnContext(e.detail.tab);\n      this.context.changeTab(e.detail.tab, currentHref, e.detail.routeOptions);\n    }\n  }\n\n  private renderTabButton(activeTab: string | null | undefined) {\n\n    return (child: (React.ReactElement<LocalJSX.IonTabButton & { onClick: (e: any) => void; routeOptions?: unknown; }>) | null | undefined) => {\n      if (child != null && child.props && child.type === IonTabButton) {\n        const href = (child.props.tab === activeTab) ? this.props.routeInfo?.pathname : (this.state.tabs[child.props.tab!].currentHref);\n        const routeOptions = (child.props.tab === activeTab) ? this.props.routeInfo?.routeOptions : (this.state.tabs[child.props.tab!].currentRouteOptions);\n\n        return React.cloneElement(child, {\n          href,\n          routeOptions,\n          onClick: this.onTabButtonClick\n        });\n      }\n      return null;\n    };\n  }\n\n  render() {\n    const { activeTab } = this.state;\n    return (\n      <IonTabBarInner {...this.props} selectedTab={activeTab}>\n        {React.Children.map(this.props.children as any, this.renderTabButton(activeTab))}\n      </IonTabBarInner>\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n}\n\nconst IonTabBarContainer: React.FC<InternalProps> = React.memo<InternalProps>(({ forwardedRef, ...props }) => {\n  const context = useContext(NavContext);\n  return (\n    <IonTabBarUnwrapped\n      ref={forwardedRef}\n      {...props as any}\n      routeInfo={props.routeInfo || context.routeInfo || { pathname: window.location.pathname }}\n      onSetCurrentTab={context.setCurrentTab}\n    >\n      {props.children}\n    </IonTabBarUnwrapped>\n  );\n});\n\nexport const IonTabBar = createForwardRef<IonTabBarProps, HTMLIonTabBarElement>(IonTabBarContainer, 'IonTabBar');\n","import { JSX as LocalJSX } from '@ionic/core';\nimport React, { Fragment } from 'react';\n\nimport { NavContext } from '../../contexts/NavContext';\nimport PageManager from '../../routing/PageManager';\nimport { IonRouterOutlet } from '../IonRouterOutlet';\n\nimport { IonTabBar } from './IonTabBar';\nimport { IonTabsContext, IonTabsContextState } from './IonTabsContext';\n\nclass IonTabsElement extends HTMLElement {\n  constructor() {\n    super();\n  }\n}\n\nif (window && window.customElements) {\n  const element = customElements.get('ion-tabs');\n  if (!element) {\n    customElements.define('ion-tabs', IonTabsElement);\n  }\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'ion-tabs': any;\n    }\n  }\n}\n\ntype ChildFunction = (ionTabContext: IonTabsContextState) => React.ReactNode;\n\ninterface Props extends LocalJSX.IonTabs {\n  className?: string;\n  children: ChildFunction | React.ReactNode;\n}\n\nconst hostStyles: React.CSSProperties = {\n  display: 'flex',\n  position: 'absolute',\n  top: '0',\n  left: '0',\n  right: '0',\n  bottom: '0',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100%',\n  contain: 'layout size style'\n};\n\nconst tabsInner: React.CSSProperties = {\n  position: 'relative',\n  flex: 1,\n  contain: 'layout size style'\n};\n\nexport class IonTabs extends React.Component<Props> {\n  context!: React.ContextType<typeof NavContext>;\n  routerOutletRef: React.Ref<HTMLIonRouterOutletElement> = React.createRef();\n  selectTabHandler?: (tag: string) => boolean;\n  tabBarRef = React.createRef<any>();\n\n  ionTabContextState: IonTabsContextState = {\n    activeTab: undefined,\n    selectTab: () => false\n  };\n\n  constructor(props: Props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (this.tabBarRef.current) {\n      // Grab initial value\n      this.ionTabContextState.activeTab = this.tabBarRef.current.state.activeTab;\n      // Override method\n      this.tabBarRef.current.setActiveTabOnContext = (tab: string) => {\n        this.ionTabContextState.activeTab = tab;\n      };\n      this.ionTabContextState.selectTab = this.tabBarRef.current.selectTab;\n    }\n  }\n\n  render() {\n    let outlet: React.ReactElement<{}> | undefined;\n    let tabBar: React.ReactElement | undefined;\n\n    const children = typeof this.props.children === 'function' ?\n      (this.props.children as ChildFunction)(this.ionTabContextState) : this.props.children;\n\n    React.Children.forEach(children, (child: any) => {\n      if (child == null || typeof child !== 'object' || !child.hasOwnProperty('type')) {\n        return;\n      }\n      if (child.type === IonRouterOutlet) {\n        outlet = React.cloneElement(child, { tabs: true });\n      } else if (child.type === Fragment && child.props.children[0].type === IonRouterOutlet) {\n        outlet = child.props.children[0];\n      }\n      if (child.type === IonTabBar) {\n        const { onIonTabsDidChange, onIonTabsWillChange } = this.props;\n        tabBar = React.cloneElement(child, {\n          onIonTabsDidChange,\n          onIonTabsWillChange,\n          ref: this.tabBarRef\n        });\n      } else if (child.type === Fragment && child.props.children[1].type === IonTabBar) {\n        const { onIonTabsDidChange, onIonTabsWillChange } = this.props;\n        tabBar = React.cloneElement(child.props.children[1], {\n          onIonTabsDidChange,\n          onIonTabsWillChange,\n          ref: this.tabBarRef\n        });\n      }\n    });\n\n    if (!outlet) {\n      throw new Error('IonTabs must contain an IonRouterOutlet');\n    }\n    if (!tabBar) {\n      throw new Error('IonTabs needs a IonTabBar');\n    }\n\n    const { className, ...props } = this.props;\n\n    return (\n      <IonTabsContext.Provider\n        value={this.ionTabContextState}\n      >\n        {this.context.hasIonicRouter() ? (\n          <PageManager className={className ? `${className}` : ''} routeInfo={this.context.routeInfo} {...props}>\n            <ion-tabs className=\"ion-tabs\" style={hostStyles}>\n              {tabBar.props.slot === 'top' ? tabBar : null}\n              <div style={tabsInner} className=\"tabs-inner\">\n                {outlet}\n              </div>\n              {tabBar.props.slot === 'bottom' ? tabBar : null}\n            </ion-tabs>\n          </PageManager>\n        ) : (\n            <div className={className ? `${className}` : 'ion-tabs'} {...props} style={hostStyles}>\n              {tabBar.props.slot === 'top' ? tabBar : null}\n              <div style={tabsInner} className=\"tabs-inner\">\n                {outlet}\n              </div>\n              {tabBar.props.slot === 'bottom' ? tabBar : null}\n            </div>\n          )}\n      </IonTabsContext.Provider >\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n}\n","import { JSX as LocalJSX } from '@ionic/core';\nimport React from 'react';\n\nimport { NavContext } from '../../contexts/NavContext';\nimport { IonicReactProps } from '../IonicReactProps';\nimport { IonBackButtonInner } from '../inner-proxies';\n\ntype Props = Omit<LocalJSX.IonBackButton, 'icon'> & IonicReactProps & {\n  icon?: {\n    ios: string;\n    md: string;\n  } | string;\n  ref?: React.RefObject<HTMLIonBackButtonElement>;\n};\n\nexport const IonBackButton = /*@__PURE__*/(() => class extends React.Component<Props> {\n  context!: React.ContextType<typeof NavContext>;\n\n  clickButton = (e: React.MouseEvent) => {\n    const { defaultHref, routerAnimation } = this.props;\n    if (this.context.hasIonicRouter()) {\n      e.stopPropagation();\n      this.context.goBack(defaultHref, routerAnimation);\n    } else if (defaultHref !== undefined) {\n      window.location.href = defaultHref;\n    }\n  }\n\n  render() {\n    return (\n      <IonBackButtonInner onClick={this.clickButton} {...this.props}></IonBackButtonInner>\n    );\n  }\n\n  static get displayName() {\n    return 'IonBackButton';\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n})();\n","export const isDevMode = () => {\n  return process && process.env && process.env.NODE_ENV === 'development';\n};\n\nconst warnings: { [key: string]: boolean } = {};\n\nexport const deprecationWarning = (key: string, message: string) => {\n  if (isDevMode()) {\n    if (!warnings[key]) {\n      console.warn(message);\n      warnings[key] = true;\n    }\n  }\n};\n","import React from 'react';\n\nimport { NavContext } from '../contexts/NavContext';\n\nimport { IonicReactProps } from './IonicReactProps';\nimport { IonIconInner } from './inner-proxies';\nimport { createForwardRef, isPlatform } from './utils';\nimport { deprecationWarning } from './utils/dev';\n\ninterface IonIconProps {\n  ariaLabel?: string;\n  color?: string;\n  flipRtl?: boolean;\n  icon?: string;\n  ios?: string;\n  lazy?: boolean;\n  md?: string;\n  mode?: 'ios' | 'md';\n  name?: string;\n  size?: string;\n  src?: string;\n}\n\ntype InternalProps = IonIconProps & {\n  forwardedRef?: React.RefObject<HTMLIonIconElement>;\n};\n\nclass IonIconContainer extends React.PureComponent<InternalProps> {\n\n  constructor(props: InternalProps) {\n    super(props);\n    if (this.props.name) {\n      deprecationWarning('icon-name', 'In Ionic React, you import icons from \"ionicons/icons\" and set the icon you imported to the \"icon\" property. Setting the \"name\" property has no effect.');\n    }\n  }\n\n  render() {\n    const { icon, ios, md, ...rest } = this.props;\n\n    let iconToUse: typeof icon;\n\n    if (ios || md) {\n      if (isPlatform('ios')) {\n        iconToUse = ios ?? md ?? icon;\n      } else {\n        iconToUse = md ?? ios ?? icon;\n      }\n    } else {\n      iconToUse = icon;\n    }\n\n    return (\n      <IonIconInner ref={this.props.forwardedRef} icon={iconToUse} {...rest}>\n        {this.props.children}\n      </IonIconInner>\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n}\n\nexport const IonIcon = createForwardRef<IonIconProps & IonicReactProps, HTMLIonIconElement>(IonIconContainer, 'IonIcon');\n","import React from 'react';\n\nimport { NavContext } from '../contexts/NavContext';\n\nexport interface IonRouteProps {\n  path?: string;\n  exact?: boolean;\n  show?: boolean;\n  render: (props?: any) => JSX.Element;\n  disableIonPageManagement?: boolean;\n}\n\ninterface IonRouteState {\n\n}\n\nexport class IonRoute extends React.PureComponent<IonRouteProps, IonRouteState> {\n\n  context!: React.ContextType<typeof NavContext>;\n\n  render() {\n\n    const IonRouteInner = this.context.getIonRoute();\n\n    if (!this.context.hasIonicRouter() || !IonRoute) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRoute>');\n      return null;\n    }\n\n    return (\n      <IonRouteInner {...this.props} />\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n","import React from 'react';\n\nimport { NavContext } from '../contexts/NavContext';\n\nexport interface IonRedirectProps {\n  path?: string;\n  exact?: boolean;\n  to: string;\n  routerOptions?: unknown;\n}\n\ninterface IonRedirectState {\n\n}\n\nexport class IonRedirect extends React.PureComponent<IonRedirectProps, IonRedirectState> {\n\n  context!: React.ContextType<typeof NavContext>;\n\n  render() {\n\n    const IonRedirectInner = this.context.getIonRedirect();\n\n    if (!this.context.hasIonicRouter() || !IonRedirect) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRedirect>');\n      return null;\n    }\n\n    return (\n      <IonRedirectInner {...this.props} />\n    );\n  }\n\n  static get contextType() {\n    return NavContext;\n  }\n\n}\n","import { AnimationBuilder } from '@ionic/core';\nimport React, { useContext } from 'react';\n\nimport { RouteAction, RouterDirection, RouterOptions } from '../models';\nimport { RouteInfo } from '../models/RouteInfo';\n\nexport interface IonRouterContextState {\n  routeInfo: RouteInfo;\n  push: (pathname: string, routerDirection?: RouterDirection, routeAction?: RouteAction, routerOptions?: RouterOptions, animationBuilder?: AnimationBuilder) => void;\n  back: (animationBuilder?: AnimationBuilder) => void;\n  canGoBack: () => boolean;\n}\n\nexport const IonRouterContext = React.createContext<IonRouterContextState>({\n  routeInfo: undefined as any,\n  push: () => { throw new Error('An Ionic Router is required for IonRouterContext'); },\n  back: () => { throw new Error('An Ionic Router is required for IonRouterContext'); },\n  canGoBack: () => { throw new Error('An Ionic Router is required for IonRouterContext'); }\n});\n\nexport function useIonRouter() {\n  const context = useContext(IonRouterContext);\n  return context;\n}\n","import { Animation, AnimationCallbackOptions, AnimationDirection, AnimationFill, AnimationKeyFrames, AnimationLifecycle, createAnimation } from '@ionic/core';\nimport React from 'react';\n\ninterface PartialPropertyValue { property: string; value: any; }\ninterface PropertyValue { property: string; fromValue: any; toValue: any; }\n\nexport interface CreateAnimationProps {\n  delay?: number;\n  direction?: AnimationDirection;\n  duration?: number;\n  easing?: string;\n  fill?: AnimationFill;\n  iterations?: number;\n  id?: string;\n\n  afterAddRead?: () => void;\n  afterAddWrite?: () => void;\n  afterClearStyles?: string[];\n  afterStyles?: { [property: string]: any };\n  afterAddClass?: string | string[];\n  afterRemoveClass?: string | string[];\n\n  beforeAddRead?: () => void;\n  beforeAddWrite?: () => void;\n  beforeClearStyles?: string[];\n  beforeStyles?: { [property: string]: any };\n  beforeAddClass?: string | string[];\n  beforeRemoveClass?: string | string[];\n\n  onFinish?: { callback: AnimationLifecycle; opts?: AnimationCallbackOptions; };\n\n  keyframes?: AnimationKeyFrames;\n  from?: PartialPropertyValue[] | PartialPropertyValue;\n  to?: PartialPropertyValue[] | PartialPropertyValue;\n  fromTo?: PropertyValue[] | PropertyValue;\n\n  play?: boolean;\n  pause?: boolean;\n  stop?: boolean;\n  destroy?: boolean;\n\n  progressStart?: { forceLinearEasing: boolean, step?: number };\n  progressStep?: { step: number };\n  progressEnd?: { playTo: 0 | 1 | undefined, step: number, dur?: number };\n}\n\nexport class CreateAnimation extends React.PureComponent<CreateAnimationProps> {\n  nodes: Map<number, HTMLElement> = new Map();\n  animation: Animation;\n\n  constructor(props: any) {\n    super(props);\n\n    this.animation = createAnimation(props.id);\n  }\n\n  setupAnimation(props: any) {\n    const animation = this.animation;\n\n    if (this.nodes.size > 0) {\n      animation.addElement(Array.from(this.nodes.values()));\n    }\n\n    checkConfig(animation, props);\n    checkPlayback(animation, props);\n  }\n\n  componentDidMount() {\n    const props = this.props;\n    this.setupAnimation(props);\n  }\n\n  componentDidUpdate(prevProps: any) {\n    const animation = this.animation;\n\n    const props = this.props;\n\n    checkConfig(animation, props, prevProps);\n    checkProgress(animation, props, prevProps);\n    checkPlayback(animation, props, prevProps);\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <>\n        {React.Children.map(children, ((child, id) => React.cloneElement(child as any, { ref: (el: any) => this.nodes.set(id, el) })))}\n      </>\n    );\n  }\n}\n\nconst checkConfig = (animation: Animation, currentProps: any = {}, prevProps: any = {}) => {\n  const reservedProps = ['children', 'progressStart', 'progressStep', 'progressEnd', 'pause', 'stop', 'destroy', 'play', 'from', 'to', 'fromTo', 'onFinish'];\n  for (const key in currentProps) {\n    if (\n      currentProps.hasOwnProperty(key) &&\n      !reservedProps.includes(key) &&\n      currentProps[key] !== prevProps[key]\n    ) {\n      (animation as any)[key]((currentProps as any)[key]);\n    }\n  }\n\n  const fromValues = currentProps.from;\n  if (fromValues && fromValues !== prevProps.from) {\n    const values = (Array.isArray(fromValues)) ? fromValues : [fromValues];\n    values.forEach(val => animation.from(val.property, val.value));\n  }\n\n  const toValues = currentProps.to;\n  if (toValues && toValues !== prevProps.to) {\n    const values = (Array.isArray(toValues)) ? toValues : [toValues];\n    values.forEach(val => animation.to(val.property, val.value));\n  }\n\n  const fromToValues = currentProps.fromTo;\n  if (fromToValues && fromToValues !== prevProps.fromTo) {\n    const values = (Array.isArray(fromToValues)) ? fromToValues : [fromToValues];\n    values.forEach(val => animation.fromTo(val.property, val.fromValue, val.toValue));\n  }\n\n  const onFinishValues = currentProps.onFinish;\n  if (onFinishValues && onFinishValues !== prevProps.onFinish) {\n    const values = (Array.isArray(onFinishValues)) ? onFinishValues : [onFinishValues];\n    values.forEach(val => animation.onFinish(val.callback, val.opts));\n  }\n};\n\nconst checkProgress = (animation: Animation, currentProps: any = {}, prevProps: any = {}) => {\n  const { progressStart, progressStep, progressEnd } = currentProps;\n\n  if (progressStart && (prevProps.progressStart?.forceLinearEasing !== progressStart?.forceLinearEasing || prevProps.progressStart?.step !== progressStart?.step)) {\n    animation.progressStart(progressStart.forceLinearEasing, progressStart.step);\n  }\n\n  if (progressStep && prevProps.progressStep?.step !== progressStep?.step) {\n    animation.progressStep(progressStep.step);\n  }\n\n  if (progressEnd && (prevProps.progressEnd?.playTo !== progressEnd?.playTo || prevProps.progressEnd?.step !== progressEnd?.step || prevProps?.dur !== progressEnd?.dur)) {\n    animation.progressEnd(progressEnd.playTo, progressEnd.step, progressEnd.dur);\n  }\n};\n\nconst checkPlayback = (animation: Animation, currentProps: any = {}, prevProps: any = {}) => {\n  if (!prevProps.play && currentProps.play) {\n    animation.play();\n  }\n\n  if (!prevProps.pause && currentProps.pause) {\n    animation.pause();\n  }\n\n  if (!prevProps.stop && currentProps.stop) {\n    animation.stop();\n  }\n\n  if (!prevProps.destroy && currentProps.destroy) {\n    animation.destroy();\n  }\n};\n","\nimport { defineCustomElements } from '@ionic/core/loader';\nimport { addIcons } from 'ionicons';\nimport { arrowBackSharp, caretBackSharp, chevronBack, chevronForward, close, closeCircle, closeSharp, menuOutline, menuSharp, reorderThreeOutline, reorderTwoSharp, searchOutline, searchSharp } from 'ionicons/icons';\nexport { createAnimation, createGesture, AlertButton, AlertInput, Gesture, GestureConfig, GestureDetail, iosTransitionAnimation, IonicSafeString, mdTransitionAnimation, NavComponentWithProps, setupConfig } from '@ionic/core';\nexport * from './proxies';\n\n// createControllerComponent\nexport { IonAlert } from './IonAlert';\nexport { IonLoading } from './IonLoading';\nexport * from './IonToast';\nexport { IonPicker } from './IonPicker';\n\n// createOverlayComponent\nexport * from './IonActionSheet';\nexport { IonModal } from './IonModal';\nexport { IonPopover } from './IonPopover';\n\n// Custom Components\nexport { IonPage } from './IonPage';\nexport { IonTabsContext, IonTabsContextState } from './navigation/IonTabsContext';\nexport { IonTabs } from './navigation/IonTabs';\nexport { IonTabBar } from './navigation/IonTabBar';\nexport { IonTabButton } from './navigation/IonTabButton';\nexport { IonBackButton } from './navigation/IonBackButton';\nexport { IonRouterOutlet } from './IonRouterOutlet';\nexport { IonIcon } from './IonIcon';\nexport * from './IonRoute';\nexport * from './IonRedirect';\nexport * from './IonRouterContext';\n\n// Utils\nexport { isPlatform, getPlatforms, getConfig, ionRenderToString } from './utils';\nexport * from './hrefprops';\n\n// Ionic Animations\nexport { CreateAnimation } from './CreateAnimation';\n\n// Icons that are used by internal components\naddIcons({\n  'arrow-back-sharp': arrowBackSharp,\n  'caret-back-sharp': caretBackSharp,\n  'chevron-back': chevronBack,\n  'chevron-forward': chevronForward,\n  'close': close,\n  'close-circle': closeCircle,\n  'close-sharp': closeSharp,\n  'menu-outline': menuOutline,\n  'menu-sharp': menuSharp,\n  'reorder-two-sharp': reorderTwoSharp,\n  'reorder-three-outline': reorderThreeOutline,\n  'search-outline': searchOutline,\n  'search-sharp': searchSharp,\n});\n\n// TODO: defineCustomElements() is asyncronous\n// We need to use the promise\nif (typeof window !== 'undefined') {\n  defineCustomElements(window);\n}\n","import React from 'react';\n\nimport { RouteInfo } from '../models/RouteInfo';\n\nimport { ViewItem } from './ViewItem';\n\nexport interface RouteManagerContextState {\n  addViewItem: (viewItem: ViewItem) => void;\n  canGoBack: () => boolean;\n  clearOutlet: (outletId: string) => void;\n  createViewItem: (outletId: string, reactElement: React.ReactElement, routeInfo: RouteInfo, page?: HTMLElement) => ViewItem;\n  findLeavingViewItemByRouteInfo: (routeInfo: RouteInfo, outletId?: string) => ViewItem | undefined;\n  findViewItemByRouteInfo: (routeInfo: RouteInfo, outletId?: string) => ViewItem | undefined;\n  getChildrenToRender: (outletId: string, ionRouterOutlet: React.ReactElement, routeInfo: RouteInfo, reRender: () => void) => React.ReactNode[];\n  getViewItemForTransition: (pathname: string) => ViewItem | undefined;\n  goBack: () => void;\n  unMountViewItem: (viewItem: ViewItem) => void;\n}\n\nexport const RouteManagerContext = /*@__PURE__*/React.createContext<RouteManagerContextState>({\n  addViewItem: () => undefined,\n  canGoBack: () => undefined as any,\n  clearOutlet: () => undefined,\n  createViewItem: () => undefined as any,\n  findLeavingViewItemByRouteInfo: () => undefined,\n  findViewItemByRouteInfo: () => undefined,\n  getChildrenToRender: () => undefined as any,\n  getViewItemForTransition: () => undefined,\n  goBack: () => undefined,\n  unMountViewItem: () => undefined,\n});\n","\nimport React from 'react';\n\nimport { DefaultIonLifeCycleContext, IonLifeCycleContext } from '../contexts/IonLifeCycleContext';\n\ninterface ViewTransitionManagerProps {\n  removeView: () => void;\n  mount: boolean;\n}\n\ninterface ViewTransitionManagerState {\n  show: boolean;\n}\n\nexport class ViewLifeCycleManager extends React.Component<ViewTransitionManagerProps, ViewTransitionManagerState> {\n  ionLifeCycleContext = new DefaultIonLifeCycleContext();\n  private _isMounted = false;\n\n  constructor(props: ViewTransitionManagerProps) {\n    super(props);\n\n    this.ionLifeCycleContext.onComponentCanBeDestroyed(() => {\n      if (!this.props.mount) {\n        if (this._isMounted) {\n          this.setState({\n            show: false\n          }, () => this.props.removeView());\n        }\n      }\n    });\n\n    this.state = {\n      show: true\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const { show } = this.state;\n    return (\n      <IonLifeCycleContext.Provider value={this.ionLifeCycleContext}>\n        {show && this.props.children}\n      </IonLifeCycleContext.Provider>\n    );\n  }\n}\n","import { RouteInfo } from '../models/RouteInfo';\n\n// const RESTRICT_SIZE = 100;\n\nexport class LocationHistory {\n  private locationHistory: RouteInfo[] = [];\n  private tabHistory: {\n    [key: string]: RouteInfo[];\n  } = {};\n\n  add(routeInfo: RouteInfo) {\n\n    if (routeInfo.routeAction === 'push' || routeInfo.routeAction == null) {\n      this._add(routeInfo);\n    } else if (routeInfo.routeAction === 'pop') {\n      this._pop(routeInfo);\n    } else if (routeInfo.routeAction === 'replace') {\n      this._replace(routeInfo);\n    }\n\n    if (routeInfo.routeDirection === 'root') {\n      this._clear();\n      this._add(routeInfo);\n    }\n  }\n\n  clearTabStack(tab: string) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      routeInfos.forEach(ri => {\n        this.locationHistory = this.locationHistory.filter(x => x.id !== ri.id);\n      });\n      this.tabHistory[tab] = [];\n    }\n  }\n\n  update(routeInfo: RouteInfo) {\n    const locationIndex = this.locationHistory.findIndex(x => x.id === routeInfo.id);\n    if (locationIndex > -1) {\n      this.locationHistory.splice(locationIndex, 1, routeInfo);\n    }\n    const tabArray = this.tabHistory[routeInfo.tab || ''];\n    if (tabArray) {\n      const tabIndex = tabArray.findIndex(x => x.id === routeInfo.id);\n      if (tabIndex > -1) {\n        tabArray.splice(tabIndex, 1, routeInfo);\n      } else {\n        tabArray.push(routeInfo);\n      }\n    } else if (routeInfo.tab) {\n      this.tabHistory[routeInfo.tab] = [routeInfo];\n    }\n  }\n\n  private _add(routeInfo: RouteInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    if (routeInfos) {\n      // If the latest routeInfo is the same (going back and forth between tabs), replace it\n      if (routeInfos[routeInfos.length - 1]?.id === routeInfo.id) {\n        routeInfos.pop();\n      }\n      routeInfos.push(routeInfo);\n    }\n    this.locationHistory.push(routeInfo);\n  }\n\n  private _pop(routeInfo: RouteInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    let ri: RouteInfo;\n    if (routeInfos) {\n      // Pop all routes until we are back\n      ri = routeInfos[routeInfos.length - 1];\n      while (ri && ri.id !== routeInfo.id) {\n        routeInfos.pop();\n        ri = routeInfos[routeInfos.length - 1];\n      }\n      // Replace with updated route\n      routeInfos.pop();\n      routeInfos.push(routeInfo);\n    }\n\n    ri = this.locationHistory[this.locationHistory.length - 1];\n    while (ri && ri.id !== routeInfo.id) {\n      this.locationHistory.pop();\n      ri = this.locationHistory[this.locationHistory.length - 1];\n    }\n    // Replace with updated route\n    this.locationHistory.pop();\n    this.locationHistory.push(routeInfo);\n  }\n\n  private _replace(routeInfo: RouteInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    routeInfos && routeInfos.pop();\n    this.locationHistory.pop();\n    this._add(routeInfo);\n  }\n\n  private _clear() {\n    const keys = Object.keys(this.tabHistory);\n    keys.forEach(k => this.tabHistory[k] = []);\n    this.locationHistory = [];\n  }\n\n  private _getRouteInfosByKey(key?: string) {\n    let routeInfos: RouteInfo[] | undefined;\n    if (key) {\n      routeInfos = this.tabHistory[key];\n      if (!routeInfos) {\n        routeInfos = this.tabHistory[key] = [];\n      }\n    }\n    return routeInfos;\n  }\n\n  getFirstRouteInfoForTab(tab: string) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      return routeInfos[0];\n    }\n    return undefined;\n  }\n\n  getCurrentRouteInfoForTab(tab?: string) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      return routeInfos[routeInfos.length - 1];\n    }\n    return undefined;\n  }\n\n  findLastLocation(routeInfo: RouteInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    if (routeInfos) {\n      for (let i = routeInfos.length - 2; i >= 0; i--) {\n        const ri = routeInfos[i];\n        if (ri) {\n          if (ri.pathname === routeInfo.pushedByRoute) {\n            return ri;\n          }\n        }\n      }\n    }\n    for (let i = this.locationHistory.length - 2; i >= 0; i--) {\n      const ri = this.locationHistory[i];\n      if (ri) {\n        if (ri.pathname === routeInfo.pushedByRoute) {\n          return ri;\n        }\n      }\n    }\n    return undefined;\n  }\n\n  previous() {\n    return this.locationHistory[this.locationHistory.length - 2] || this.locationHistory[this.locationHistory.length - 1];\n  }\n\n  current() {\n    return this.locationHistory[this.locationHistory.length - 1];\n  }\n\n  canGoBack() {\n    return this.locationHistory.length > 1;\n  }\n}\n","\nimport { AnimationBuilder } from '@ionic/core';\nimport React from 'react';\n\nimport { IonRouterContext, IonRouterContextState } from '../components/IonRouterContext';\nimport { NavContext, NavContextState } from '../contexts/NavContext';\nimport { RouteAction } from '../models/RouteAction';\nimport { RouteInfo } from '../models/RouteInfo';\nimport { RouterDirection } from '../models/RouterDirection';\nimport { RouterOptions } from '../models/RouterOptions';\n\nimport { LocationHistory } from './LocationHistory';\nimport PageManager from './PageManager';\n\ninterface NavManagerProps {\n  routeInfo: RouteInfo;\n  onNavigateBack: (route?: string | RouteInfo, animationBuilder?: AnimationBuilder) => void;\n  onNavigate: (path: string, action: RouteAction, direction?: RouterDirection, animationBuilder?: AnimationBuilder, options?: any, tab?: string) => void;\n  onSetCurrentTab: (tab: string, routeInfo: RouteInfo) => void;\n  onChangeTab: (tab: string, path: string, routeOptions?: any) => void;\n  onResetTab: (tab: string, path: string, routeOptions?: any) => void;\n  ionRedirect: any;\n  ionRoute: any;\n  stackManager: any;\n  locationHistory: LocationHistory;\n}\n\nexport class NavManager extends React.Component<NavManagerProps, NavContextState> {\n\n  ionRouterContextValue: IonRouterContextState = {\n    push: (pathname: string, routerDirection?: RouterDirection, routeAction?: RouteAction, routerOptions?: RouterOptions, animationBuilder?: AnimationBuilder) => {\n      this.navigate(pathname, routerDirection, routeAction, animationBuilder, routerOptions);\n    },\n    back: (animationBuilder?: AnimationBuilder) => {\n      this.goBack(undefined, animationBuilder);\n    },\n    canGoBack: () => this.props.locationHistory.canGoBack(),\n    routeInfo: this.props.routeInfo\n  };\n\n  constructor(props: NavManagerProps) {\n    super(props);\n    this.state = {\n      goBack: this.goBack.bind(this),\n      hasIonicRouter: () => true,\n      navigate: this.navigate.bind(this),\n      getIonRedirect: this.getIonRedirect.bind(this),\n      getIonRoute: this.getIonRoute.bind(this),\n      getStackManager: this.getStackManager.bind(this),\n      getPageManager: this.getPageManager.bind(this),\n      routeInfo: this.props.routeInfo,\n      setCurrentTab: this.props.onSetCurrentTab,\n      changeTab: this.props.onChangeTab,\n      resetTab: this.props.onResetTab,\n    };\n\n    if (typeof document !== 'undefined') {\n      document.addEventListener('ionBackButton', (e: any) => {\n        e.detail.register(0, (processNextHandler: () => void) => {\n          this.goBack();\n          processNextHandler();\n        });\n      });\n    }\n  }\n\n  goBack(route?: string | RouteInfo, animationBuilder?: AnimationBuilder) {\n    this.props.onNavigateBack(route, animationBuilder);\n  }\n\n  navigate(path: string, direction: RouterDirection = 'forward', action: RouteAction = 'push', animationBuilder?: AnimationBuilder, options?: any, tab?: string) {\n    this.props.onNavigate(path, action, direction, animationBuilder, options, tab);\n  }\n\n  getPageManager() {\n    return PageManager;\n  }\n\n  getIonRedirect() {\n    return this.props.ionRedirect;\n  }\n\n  getIonRoute() {\n    return this.props.ionRoute;\n  }\n\n  getStackManager() {\n    return this.props.stackManager;\n  }\n\n  render() {\n    return (\n      <NavContext.Provider value={{ ...this.state, routeInfo: this.props.routeInfo }}>\n        <IonRouterContext.Provider value={{ ...this.ionRouterContextValue, routeInfo: this.props.routeInfo }}>\n          {this.props.children}\n        </IonRouterContext.Provider>\n      </NavContext.Provider>\n    );\n  }\n\n}\n","import { RouteInfo } from '../models/RouteInfo';\n\nimport { ViewItem } from './ViewItem';\n\nexport abstract class ViewStacks {\n  private viewStacks: { [key: string]: ViewItem[]; } = {};\n\n  constructor() {\n    this.add = this.add.bind(this);\n    this.clear = this.clear.bind(this);\n    this.getViewItemsForOutlet = this.getViewItemsForOutlet.bind(this);\n    this.remove = this.remove.bind(this);\n  }\n\n  add(viewItem: ViewItem) {\n    const { outletId } = viewItem;\n    if (!this.viewStacks[outletId]) {\n      this.viewStacks[outletId] = [viewItem];\n    } else {\n      this.viewStacks[outletId].push(viewItem);\n    }\n  }\n\n  clear(outletId: string) {\n    // Give some time for the leaving views to transition before removing\n    setTimeout(() => {\n      // console.log('Removing viewstack for outletID ' + outletId);\n      delete this.viewStacks[outletId];\n    }, 500);\n  }\n\n  getViewItemsForOutlet(outletId: string) {\n    return (this.viewStacks[outletId] || []);\n  }\n\n  remove(viewItem: ViewItem) {\n    const { outletId } = viewItem;\n    const viewStack = this.viewStacks[outletId];\n    if (viewStack) {\n      const viewItemToRemove = viewStack.find(x => x.id === viewItem.id);\n      if (viewItemToRemove) {\n        viewItemToRemove.mount = false;\n        this.viewStacks[outletId] = viewStack.filter(x => x.id !== viewItemToRemove.id);\n      }\n    }\n  }\n\n  protected getStackIds() {\n    return Object.keys(this.viewStacks);\n  }\n\n  protected getAllViewItems() {\n    const keys = this.getStackIds();\n    const viewItems: ViewItem[] = [];\n    keys.forEach(k => {\n      viewItems.push(...this.viewStacks[k]);\n    });\n    return viewItems;\n  }\n\n  abstract createViewItem(outletId: string, reactElement: React.ReactElement, routeInfo: RouteInfo, page?: HTMLElement): ViewItem;\n  // abstract findViewItemByPathname(pathname: string, outletId?: string): ViewItem | undefined;\n  abstract findViewItemByRouteInfo(routeInfo: RouteInfo, outletId?: string): ViewItem | undefined;\n  abstract findLeavingViewItemByRouteInfo(routeInfo: RouteInfo, outletId?: string): ViewItem | undefined;\n  abstract getChildrenToRender(outletId: string, ionRouterOutlet: React.ReactElement, routeInfo: RouteInfo, reRender: () => void, setInTransition: () => void): React.ReactNode[];\n  abstract getViewItemForTransition(pathname: string): ViewItem | undefined;\n}\n","\nconst ids: { [key: string]: number; } = { main: 0 };\n\nexport const generateId = (type = 'main') => {\n  const id = (ids[type] ?? 0) + 1;\n  ids[type] = id;\n  return (id).toString();\n};\n"]},"metadata":{},"sourceType":"module"}